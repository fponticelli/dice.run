var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(p,G,k){if(k.get||k.set)throw new TypeError("ES3 does not support getters and setters.");p!=Array.prototype&&p!=Object.prototype&&(p[G]=k.value)};$jscomp.getGlobal=function(p){return"undefined"!=typeof window&&window===p?p:"undefined"!=typeof global&&null!=global?global:p};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(p){return $jscomp.SYMBOL_PREFIX+(p||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var p=$jscomp.global.Symbol.iterator;p||(p=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[p]&&$jscomp.defineProperty(Array.prototype,p,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(p){var G=0;return $jscomp.iteratorPrototype(function(){return G<p.length?{done:!1,value:p[G++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(p){$jscomp.initSymbolIterator();p={next:p};p[$jscomp.global.Symbol.iterator]=function(){return this};return p};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(p,G){$jscomp.initSymbolIterator();p instanceof String&&(p+="");var k=0,v={next:function(){if(k<p.length){var ia=k++;return{value:G(ia,p[ia]),done:!1}}v.next=function(){return{done:!0,value:void 0}};return v.next()}};v[Symbol.iterator]=function(){return v};return v};
$jscomp.polyfill=function(p,G,k,v){if(G){k=$jscomp.global;p=p.split(".");for(v=0;v<p.length-1;v++){var ia=p[v];ia in k||(k[ia]={});k=k[ia]}p=p[p.length-1];v=k[p];G=G(v);G!=v&&null!=G&&$jscomp.defineProperty(k,p,{configurable:!0,writable:!0,value:G})}};$jscomp.polyfill("Array.prototype.keys",function(p){return p?p:function(){return $jscomp.iteratorFromArray(this,function(p){return p})}},"es6-impl","es3");
$jscomp.findInternal=function(p,G,k){p instanceof String&&(p=String(p));for(var v=p.length,ia=0;ia<v;ia++){var sa=p[ia];if(G.call(k,sa,ia,p))return{i:ia,v:sa}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(p){return p?p:function(p,k){return $jscomp.findInternal(this,p,k).v}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(p){return p?p:function(){return $jscomp.iteratorFromArray(this,function(p,k){return k})}},"es6","es3");
$jscomp.checkStringArgs=function(p,G,k){if(null==p)throw new TypeError("The 'this' value for String.prototype."+k+" must not be null or undefined");if(G instanceof RegExp)throw new TypeError("First argument to String.prototype."+k+" must not be a regular expression");return p+""};
$jscomp.polyfill("String.prototype.endsWith",function(p){return p?p:function(p,k){var v=$jscomp.checkStringArgs(this,p,"endsWith");p+="";void 0===k&&(k=v.length);for(var G=Math.max(0,Math.min(k|0,v.length)),sa=p.length;0<sa&&0<G;)if(v[--G]!=p[--sa])return!1;return 0>=sa}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.startsWith",function(p){return p?p:function(p,k){var v=$jscomp.checkStringArgs(this,p,"startsWith");p+="";for(var G=v.length,sa=p.length,jb=Math.max(0,Math.min(k|0,v.length)),ja=0;ja<sa&&jb<G;)if(v[jb++]!=p[ja++])return!1;return ja>=sa}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.repeat",function(p){return p?p:function(p){var k=$jscomp.checkStringArgs(this,null,"repeat");if(0>p||1342177279<p)throw new RangeError("Invalid count value");p|=0;for(var v="";p;)if(p&1&&(v+=k),p>>>=1)k+=k;return v}},"es6-impl","es3");$jscomp.makeIterator=function(p){$jscomp.initSymbolIterator();var G=p[Symbol.iterator];return G?G.call(p):$jscomp.arrayIterator(p)};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(p){function G(){this.batch_=null}if(p&&!$jscomp.FORCE_POLYFILL_PROMISE)return p;G.prototype.asyncExecute=function(k){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(k);return this};G.prototype.asyncExecuteBatch_=function(){var k=this;this.asyncExecuteFunction(function(){k.executeBatch_()})};var k=$jscomp.global.setTimeout;G.prototype.asyncExecuteFunction=function(p){k(p,0)};G.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var k=
this.batch_;this.batch_=[];for(var p=0;p<k.length;++p){var v=k[p];delete k[p];try{v()}catch(cb){this.asyncThrow_(cb)}}}this.batch_=null};G.prototype.asyncThrow_=function(k){this.asyncExecuteFunction(function(){throw k;})};var v=function(k){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var p=this.createResolveAndReject_();try{k(p.resolve,p.reject)}catch(ja){p.reject(ja)}};v.prototype.createResolveAndReject_=function(){function k(k){return function(sa){v||(v=!0,k.call(p,sa))}}var p=
this,v=!1;return{resolve:k(this.resolveTo_),reject:k(this.reject_)}};v.prototype.resolveTo_=function(k){if(k===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(k instanceof v)this.settleSameAsPromise_(k);else{var p;a:switch(typeof k){case "object":p=null!=k;break a;case "function":p=!0;break a;default:p=!1}p?this.resolveToNonPromiseObj_(k):this.fulfill_(k)}};v.prototype.resolveToNonPromiseObj_=function(k){var p=void 0;try{p=k.then}catch(ja){this.reject_(ja);return}"function"==
typeof p?this.settleSameAsThenable_(p,k):this.fulfill_(k)};v.prototype.reject_=function(k){this.settle_(2,k)};v.prototype.fulfill_=function(k){this.settle_(1,k)};v.prototype.settle_=function(k,p){if(0!=this.state_)throw Error("Cannot settle("+k+", "+p|"): Promise already settled in state"+this.state_);this.state_=k;this.result_=p;this.executeOnSettledCallbacks_()};v.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var k=this.onSettledCallbacks_,p=0;p<k.length;++p)k[p].call(),
k[p]=null;this.onSettledCallbacks_=null}};var ia=new G;v.prototype.settleSameAsPromise_=function(k){var p=this.createResolveAndReject_();k.callWhenSettled_(p.resolve,p.reject)};v.prototype.settleSameAsThenable_=function(k,p){var v=this.createResolveAndReject_();try{k.call(p,v.resolve,v.reject)}catch(cb){v.reject(cb)}};v.prototype.then=function(k,p){function G(k,p){return"function"==typeof k?function(p){try{sa(k(p))}catch(Ea){ia(Ea)}}:p}var sa,ia,fa=new v(function(k,p){sa=k;ia=p});this.callWhenSettled_(G(k,
sa),G(p,ia));return fa};v.prototype["catch"]=function(k){return this.then(void 0,k)};v.prototype.callWhenSettled_=function(k,p){function v(){switch(G.state_){case 1:k(G.result_);break;case 2:p(G.result_);break;default:throw Error("Unexpected state: "+G.state_);}}var G=this;null==this.onSettledCallbacks_?ia.asyncExecute(v):this.onSettledCallbacks_.push(function(){ia.asyncExecute(v)})};v.resolve=function(k){return k instanceof v?k:new v(function(p,v){p(k)})};v.reject=function(k){return new v(function(p,
v){v(k)})};v.race=function(k){return new v(function(p,G){for(var ja=$jscomp.makeIterator(k),ia=ja.next();!ia.done;ia=ja.next())v.resolve(ia.value).callWhenSettled_(p,G)})};v.all=function(k){var p=$jscomp.makeIterator(k),G=p.next();return G.done?v.resolve([]):new v(function(k,ia){function fa(p){return function(v){D[p]=v;ja--;0==ja&&k(D)}}var D=[],ja=0;do D.push(void 0),ja++,v.resolve(G.value).callWhenSettled_(fa(D.length-1),ia),G=p.next();while(!G.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(v.$jscomp$new$AsyncExecutor=
function(){return new G});return v},"es6-impl","es3");
(function(p){function G(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function k(a){return a instanceof Array?function(){return D.iter(a)}:"function"==typeof a.iterator?v(a,a.iterator):a.iterator}function v(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=rc++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var ia={__ename__:["Action"],__constructs__:["EvaluateExpression"],EvaluateExpression:function(a){a=["EvaluateExpression",0,a];a.__enum__=ia;return a}},sa=function(){};sa.__name__=["DateTools"];sa.getMonthDays=function(a){var b=a.getMonth();a=a.getFullYear();return 1!=b?sa.DAYS_OF_MONTH[b]:0==a%4&&0!=a%100||0==a%400?29:28};var jb=function(){};jb.__name__=["doom","core","IRender"];jb.prototype={apply:null,__class__:jb};var ja=function(a,b){this.doc=
null==a?window.document:a;if(null==b){this.namespaces=new H;for(var c=ja.defaultNamespaces.keys();c.hasNext();){var d=c.next(),e=this.namespaces,f=ja.defaultNamespaces,f=null!=l[d]?f.getReserved(d):f.h[d];null!=l[d]?e.setReserved(d,f):e.h[d]=f}}else this.namespaces=b;this.domComponentMap=new cb};ja.__name__=["doom","html","Render"];ja.__interfaces__=[jb];ja.setEvent=function(a,b,c){a["on"+b]=c};ja.removeEvent=function(a,b){A.deleteField(a,"on"+b)};ja.hasEvent=function(a,b){return Object.prototype.hasOwnProperty.call(a,
"on"+b)};ja.prototype={doc:null,namespaces:null,domComponentMap:null,mount:function(a,b){b.innerHTML="";var c=[],d=this.generateDom(a,c);b.appendChild(d);for(d=0;d<c.length;){var e=c[d];++d;e()}},apply:function(a,b){var c=[];this.applyToNode(a,b,b.parentElement,c,!1);for(var d=0;d<c.length;){var e=c[d];++d;e()}},generate:function(a){var b=[];a=this.generateDom(a,b);for(var c=0;c<b.length;){var d=b[c];++c;d()}return a},applyToNode:function(a,b,c,d,e){if(null==a&&null==b)return null;if(null==a)return e&&
this.unmountDomComponent(b),c.removeChild(b),null;if(null==b)return b=this.generateDom(a,d),c.appendChild(b),b;switch(a[1]){case 0:var f=a[4],m=a[3];a=a[2];e&&this.unmountDomComponent(b);return this.applyElementToNode(a,m,f,b,c,d);case 1:return f=a[2],e&&this.unmountDomComponent(b),this.applyCommentToNode(f,b,c,d);case 2:return d=a[2],e&&this.unmountDomComponent(b),e=Na.parse(d),this.applyNodeToNode(e,b,c,!0);case 3:return f=a[2],e&&this.unmountDomComponent(b),this.applyTextToNode(f,b,c,d);case 4:return this.applyComponentToNode(a[2],
b,c,d);case 5:return this.applyToNode((0,a[2])(),b,c,d,e)}},applyNodeToNode:function(a,b,c,d){var e=this;if(null==a&&null==b)return null;if(null==a)return c.removeChild(b),null;if(null==b)return c.appendChild(a),a;d&&this.unmountDomComponent(b);if(a.nodeType==b.nodeType)if(1==a.nodeType){if(a.tagName==b.tagName)return this.applyElementAttributes(a,b),h.each(this.zipNodeListAndNodeList(a.childNodes,b.childNodes),function(a){e.applyNodeToNode(a._0,a._1,b,!0)}),b}else if(8==a.nodeType||3==a.nodeType)return b.textContent=
a.textContent,b;return this.replaceChild(c,b,a)},migrate:function(a,b){for(var c=b.migrationFields(),d=0;d<c.length;){var e=c[d];++d;var f=[A.field(a,e)];if(A.isFunction(f[0])){var m=A.field(b,e);f[0]=m;a[e]=function(a){return function(){a[0].apply(b,arguments)}}(f)}else b[e]=f[0]}},applyComponentToNode:function(a,b,c,d){var e=this.domComponentMap.getComponents(b);if(null!=e){var f=h.find(e,function(b){return oa.sameType(b,a)});if(null==f){for(f=0;f<e.length;){var m=e[f];++f;m.willUnmount();this.domComponentMap.removeByComponent(m);
a.willMount();var W=this.renderComponent(a);a.apply=v(this,this.apply);W=this.applyToNode(W,b,c,d,!1);a.node=W;d.splice(0,0,function(){a.didMount()});this.domComponentMap.set(a,W);m.isUnmounted=!0;m.node=null;m.didUnmount()}return b}this.migrate(a,f);f.willUpdate();d.push(v(f,f.didUpdate));return f.shouldRender()?(this.domComponentMap.removeByComponent(f),e=this.renderComponent(f),d=this.applyToNode(e,b,c,d,!1),f.node=d,this.domComponentMap.set(f,d),d):b}a.willMount();e=this.renderComponent(a);a.apply=
v(this,this.apply);b=this.applyToNode(e,b,c,d,!1);a.node=b;d.splice(0,0,function(){a.didMount()});this.domComponentMap.set(a,b);return b},unmountDomComponent:function(a){for(var b=0,c=a.childNodes.length;b<c;){var d=b++;this.unmountDomComponent(a.childNodes[d])}a=this.domComponentMap.getComponents(a);if(null!=a)for(b=0;b<a.length;)c=a[b],++b,this.unmountComponent(c)},renderComponent:function(a){try{return a.render()}catch(b){throw ca.lastException=b,b instanceof aa&&(b=b.val),a=oa.toString(U["typeof"](a)),
new sb("unable to render "+a,b,null,{fileName:"Render.hx",lineNumber:231,className:"doom.html.Render",methodName:"renderComponent"});}},unmountComponent:function(a){this.domComponentMap.removeByComponent(a);a.willUnmount();a.isUnmounted=!0;a.node=null;a.didUnmount()},applyElementToNode:function(a,b,c,d,e,f){var m=this;if(1==d.nodeType&&d.tagName==a.toUpperCase())return this.applyNodeAttributes(b,d),h.each(this.zipVNodesAndNodeList(c,d.childNodes),function(a){m.applyToNode(a._0,a._1,d,f,!0)}),d;a=
this.createElement(a,b,c,f);return this.replaceChild(e,d,a)},applyCommentToNode:function(a,b,c,d){if(8==b.nodeType)return b.textContent=a,b;a=this.doc.createComment(a);return this.replaceChild(c,b,a)},applyTextToNode:function(a,b,c,d){if(3==b.nodeType)return b.textContent=a,b;a=this.doc.createTextNode(a);return this.replaceChild(c,b,a)},replaceChild:function(a,b,c){if(b==c)return c;a.replaceChild(c,b);return c},zipVNodesAndNodeList:function(a,b){for(var c=a.length,d=b.length,e=[],f=0,c=c>d?c:d;f<
c;)d=f++,e.push({_0:a[d],_1:b[d]});return e},zipNodeListAndNodeList:function(a,b){for(var c=a.length,d=b.length,e=[],f=0,c=c>d?c:d;f<c;)d=f++,e.push({_0:a[d],_1:b[d]});return e},applyElementAttributes:function(a,b){for(var c=[],d=0,e=b.attributes.length;d<e;){var f=d++;c.push(b.attributes.item(f).name)}d=da.createString(c);c=[];e=0;for(f=a.attributes.length;e<f;){var m=e++;c.push(a.attributes.item(m).name)}c=da.createString(c);d=da.copy(d);for(e=k(da)(c);e.hasNext();)f=e.next(),d.remove(f);for(d=
k(da)(d);d.hasNext();)e=d.next(),b.removeAttribute(e);for(c=k(da)(c);c.hasNext();)d=c.next(),e=xa.getAttribute(a,d),f=xa.getAttribute(b,d),e!=f&&xa.setDynamicAttribute(b,d,e)},applyNodeAttributes:function(a,b){for(var c=[],d=0,e=b.attributes.length;d<e;){var f=d++;c.push(b.attributes.item(f).name)}d=da.createString(c);c=[];for(e=a.keys();e.hasNext();)f=e.next(),c.push(f);c=da.createString(c);d=da.copy(d);for(e=k(da)(c);e.hasNext();)f=e.next(),d.remove(f);for(d=k(da)(d);d.hasNext();)e=d.next(),ja.hasEvent(b,
e)?ja.removeEvent(b,e):b.removeAttribute(e);for(c=k(da)(c);c.hasNext();)if(d=c.next(),e=null!=l[d]?a.getReserved(d):a.h[d],null==e)xa.removeAttribute(b,d);else switch(e[1]){case 0:xa.toggleBoolAttribute(b,d,e[2]);break;case 1:null==e[2]&&"value"==d?xa.setStringAttribute(b,d,""):(f=e[2],null==f||""==f&&"value"!=d?xa.removeAttribute(b,d):xa.setStringAttribute(b,d,e[2]));break;case 2:ja.setEvent(b,d,e[2])}},generateDom:function(a,b){switch(a[1]){case 0:return this.createElement(a[2],a[3],a[4],b);case 1:return this.doc.createComment(a[2]);
case 2:return Na.parse(a[2]);case 3:return this.doc.createTextNode(a[2]);case 4:var c=a[2];c.willMount();var d=this.renderComponent(c),d=this.generateDom(d,b);c.node=d;c.apply=v(this,this.apply);b.splice(0,0,function(){c.didMount()});this.domComponentMap.set(c,d);return d;case 5:return this.generateDom((0,a[2])(),b)}},createElement:function(a,b,c,d){var e=a.indexOf(":"),f;if(0<e){f=a.substring(0,e);a=a.substring(e+1);e=this.namespaces;e=null!=l[f]?e.getReserved(f):e.h[f];if(null==e)throw new V('element prefix "'+
f+'" is not associated to any namespace. Add the right namespace to Doom.namespaces.',null,{fileName:"Render.hx",lineNumber:378,className:"doom.html.Render",methodName:"createElement"});f=this.doc.createElementNS(e,a)}else f=this.doc.createElement(a);this.applyNodeAttributes(b,f);for(b=D.iter(c);b.hasNext();)c=b.next(),null!=c&&(c=this.generateDom(c,d),f.appendChild(c));return f},__class__:ja};var cb=function(){this.componentToDom=new Wa;this.domToComponent=new Wa};cb.__name__=["doom","html","_Render",
"DomComponentMap"];cb.prototype={domToComponent:null,componentToDom:null,getComponents:function(a){return null==a?null:this.domToComponent.h[a.__id__]},getDom:function(a){return null==a?null:this.componentToDom.h[a.__id__]},set:function(a,b){this.componentToDom.set(a,b);var c=this.domToComponent.h[b.__id__];null==c?(c=[a],this.domToComponent.set(b,c)):c.push(a)},removeByComponent:function(a){var b=this.componentToDom.h[a.__id__];this.componentToDom.remove(a);var c=this.getComponents(b);null!=c&&(D.remove(c,
a),0==c.length&&this.domToComponent.remove(b))},removeByDom:function(a){var b=this.getComponents(a);this.domToComponent.remove(a);if(null!=b)for(a=0;a<b.length;){var c=b[a];++a;this.componentToDom.remove(c)}},__class__:cb};var cc=function(){};cc.__name__=["Doom"];var fa=function(a,b){this.r=new RegExp(a,b.split("u").join(""))};fa.__name__=["EReg"];fa.prototype={r:null,match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=
this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new aa("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new aa("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:D.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?D.substr(a,b,null):D.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},split:function(a){return a.replace(this.r,
"#__delim__#").split("#__delim__#")},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=C.string(D.substr(a,c,null));break}var e=this.matchedPos(),d=d+C.string(D.substr(a,c,e.pos-c)),d=d+C.string(b(this));0==e.len?(d+=C.string(D.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len;if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=C.string(D.substr(a,c,null)));return d},__class__:fa};var D=function(){};D.__name__=["HxOverrides"];D.dateStr=function(a){var b=a.getMonth()+
1,c=a.getDate(),d=a.getHours(),e=a.getMinutes(),f=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)+":"+(10>f?"0"+f:""+f)};D.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],
a[1]-1,a[2],b[0],b[1],b[2]);default:throw new aa("Invalid date format : "+a);}};D.cca=function(a,b){var c=a.charCodeAt(b);if(c==c)return c};D.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};D.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};D.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var yb=function(){};yb.__name__=
["Lambda"];yb.has=function(a,b){for(var c=k(a)();c.hasNext();)if(c.next()==b)return!0;return!1};var Pa=function(a,b){this.isUnmounted=!1;this.props=a;this.children=b};Pa.__name__=["doom","core","Component"];Pa.prototype={props:null,children:null,node:null,isUnmounted:null,apply:null,render:function(){throw new Ab({fileName:"Component.hx",lineNumber:19,className:"doom.core.Component",methodName:"render"});},asNode:function(){return Z.Comp(this)},update:function(a,b){var c=this.props;this.props=a;if(this.shouldUpdate(c,
a)&&this.shouldRender())try{this.apply(Z.Comp(this),this.node)}catch(d){ca.lastException=d,d instanceof aa&&(d=d.val),this.rethrowUpdateError(d,b)}},rethrowUpdateError:function(a,b){if(0<=C.string(a).indexOf("apply is not a function"))throw new V("method `apply` has not been correctly migrated to "+U.getClassName(R.getClass(this)),null,{fileName:"Component.hx",lineNumber:41,className:"doom.core.Component",methodName:"rethrowUpdateError"});throw V.fromDynamic(a,b);},shouldUpdate:function(a,b){return!0},
shouldRender:function(){return!this.isUnmounted},migrationFields:function(){return["props","update","children"]},didMount:function(){},willMount:function(){},willUpdate:function(){},didUpdate:function(){},didUnmount:function(){},willUnmount:function(){},__class__:Pa};var Ea=function(a,b){Pa.call(this,a,b)};Ea.__name__=["doom","html","Component"];Ea.__super__=Pa;Ea.prototype=G(Pa.prototype,{classes:function(){return""},selector:function(){var a=N.trim(this.classes()).split(" ").filter(function(a){return""!=
a});return 0==a.length?"":a.map(function(a){return"."+a}).join("")},get_element:function(){return this.node},__class__:Ea});var kb=function(a,b){Pa.call(this,a,b)};kb.__name__=["Main"];kb.main=function(){var a={page:Ob.DiceSimulator(tb.Unparsed(""))},b=new Pb,c=new db(new ub(a),dc.reduce,v(b,b.api)),d=new kb(c);cc.browser.mount(Z.Comp(d),Ja.find("#main"));c.stream().next(function(a){d.update(c,{fileName:"Main.hx",lineNumber:19,className:"Main",methodName:"main"})}).run();c.dispatch(ia.EvaluateExpression("5d6 drop 2 + 2"),
{fileName:"Main.hx",lineNumber:21,className:"Main",methodName:"main"})};kb.__super__=Ea;kb.prototype=G(Ea.prototype,{render:function(){var a=this,b=this.props.get().page[2],c=(new Bb({dispatch:function(b){a.props.dispatch(b,{fileName:"Main.hx",lineNumber:30,className:"Main",methodName:"render"})},expr:b})).asNode(),d=new H,e=O.fromString("split");null!=l["class"]?d.setReserved("class",e):d.h["class"]=e;e=1==b[1]?y.Some(b[3]):y.None;e=(new Cb(e)).asNode();if(1==b[1])b=(new Db(b[3])).asNode();else{var b=
new H,f=O.fromString("display:none");null!=l.style?b.setReserved("style",f):b.h.style=f;f=O.fromString("empty node");null!=l["data-comment"]?b.setReserved("data-comment",f):b.h["data-comment"]=f;b=S.el("div",b)}return S.el("div",null,F.children([c,S.el("div",d,F.children([e,b]))]))},classes:function(){return"main"},__class__:kb});Math.__name__=["Math"];var Pb=function(){};Pb.__name__=["Middleware"];Pb.prototype={api:function(a,b,c){},__class__:Pb};var dc=function(){};dc.__name__=["Reducer"];dc.reduce=
function(a,b){var c=b[2],d=n.parse(c);switch(d[1]){case 0:return{page:Ob.DiceSimulator(tb.Error(c,d[2].toString()))};case 1:return{page:Ob.DiceSimulator(tb.Parsed(c,d[2]))}}};var A=function(){};A.__name__=["Reflect"];A.field=function(a,b){try{return a[b]}catch(c){return ca.lastException=c,null}};A.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};A.isFunction=function(a){return"function"==typeof a?
!(a.__name__||a.__ename__):!1};A.compare=function(a,b){return a==b?0:a>b?1:-1};A.compareMethods=function(a,b){return a==b?!0:A.isFunction(a)&&A.isFunction(b)?a.scope==b.scope&&a.method==b.method?null!=a.method:!1:!1};A.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__?!0:"function"==b?null!=(a.__name__||a.__ename__):!1};A.isEnumValue=function(a){return null!=a?null!=a.__enum__:!1};A.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,
b))return!1;delete a[b];return!0};var Ob={__ename__:["PageView"],__constructs__:["DiceSimulator"],DiceSimulator:function(a){a=["DiceSimulator",0,a];a.__enum__=Ob;return a}},tb={__ename__:["Expression"],__constructs__:["Unparsed","Parsed","Error"],Unparsed:function(a){a=["Unparsed",0,a];a.__enum__=tb;return a},Parsed:function(a,b){var c=["Parsed",1,a,b];c.__enum__=tb;return c},Error:function(a,b){var c=["Error",2,a,b];c.__enum__=tb;return c}},C=function(){};C.__name__=["Std"];C.string=function(a){return R.__string_rec(a,
"")};C.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=D.cca(a,1)&&88!=D.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};C.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var Qb=function(){this.b=""};Qb.__name__=["StringBuf"];Qb.prototype={b:null,__class__:Qb};var N=function(){};N.__name__=["StringTools"];N.startsWith=function(a,b){return a.length>=b.length?D.substr(a,0,b.length)==b:!1};N.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?D.substr(a,d-c,c)==b:!1};N.isSpace=
function(a,b){var c=D.cca(a,b);return 8<c&&14>c?!0:32==c};N.ltrim=function(a){for(var b=a.length,c=0;c<b&&N.isSpace(a,c);)++c;return 0<c?D.substr(a,c,b-c):a};N.rtrim=function(a){for(var b=a.length,c=0;c<b&&N.isSpace(a,b-c-1);)++c;return 0<c?D.substr(a,0,b-c):a};N.trim=function(a){return N.ltrim(N.rtrim(a))};N.lpad=function(a,b,c){if(0>=b.length)return a;for(;a.length<c;)a=b+a;return a};N.rpad=function(a,b,c){if(0>=b.length)return a;for(;a.length<c;)a+=b;return a};N.replace=function(a,b,c){return a.split(b).join(c)};
var ba={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" "),TNull:["TNull",0]};ba.TNull.__enum__=ba;ba.TInt=["TInt",1];ba.TInt.__enum__=ba;ba.TFloat=["TFloat",2];ba.TFloat.__enum__=ba;ba.TBool=["TBool",3];ba.TBool.__enum__=ba;ba.TObject=["TObject",4];ba.TObject.__enum__=ba;ba.TFunction=["TFunction",5];ba.TFunction.__enum__=ba;ba.TClass=function(a){a=["TClass",6,a];a.__enum__=ba;return a};ba.TEnum=function(a){a=["TEnum",7,a];a.__enum__=
ba;return a};ba.TUnknown=["TUnknown",8];ba.TUnknown.__enum__=ba;var U=function(){};U.__name__=["Type"];U.getEnum=function(a){return null==a?null:a.__enum__};U.getSuperClass=function(a){return a.__super__};U.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};U.getEnumName=function(a){return a.__ename__.join(".")};U.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],
b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],
b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new aa("Too many arguments");}};U.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};U.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);D.remove(b,"__class__");D.remove(b,"__properties__");return b};U["typeof"]=function(a){switch(typeof a){case "boolean":return ba.TBool;
case "function":return a.__name__||a.__ename__?ba.TObject:ba.TFunction;case "number":return Math.ceil(a)==a%2147483648?ba.TInt:ba.TFloat;case "object":if(null==a)return ba.TNull;var b=a.__enum__;if(null!=b)return ba.TEnum(b);a=R.getClass(a);return null!=a?ba.TClass(a):ba.TObject;case "string":return ba.TClass(String);case "undefined":return ba.TNull;default:return ba.TUnknown}};var O={__name__:["doom","core","_AttributeValue","AttributeValue_Impl_"],fromString:function(a){return Aa.StringAttribute(a)},
fromMap:function(a){for(var b=[],c=a.keys();c.hasNext();){var d=c.next();(null!=l[d]?a.getReserved(d):a.h[d])&&b.push(d)}return Aa.StringAttribute(b.join(" "))},fromBool:function(a){return Aa.BoolAttribute(a)},fromHandler:function(a){return null==a?Aa.BoolAttribute(!1):Aa.EventAttribute(function(b){b.preventDefault();a()})},fromEventHandler:function(a){return null==a?Aa.BoolAttribute(!1):Aa.EventAttribute(a)},fromElementHandler:function(a){return null==a?Aa.BoolAttribute(!1):Aa.EventAttribute(function(b){b.preventDefault();
a(b.target)})},fromStringValueHandler:function(a){return null==a?Aa.BoolAttribute(!1):Aa.EventAttribute(function(b){b.preventDefault();b=K.getValue(b.target);a(b)})},fromBoolValueHandler:function(a){return null==a?Aa.BoolAttribute(!1):Aa.EventAttribute(function(b){b.preventDefault();a(b.target.checked)})},fromIntValueHandler:function(a){return null==a?Aa.BoolAttribute(!1):O.fromStringValueHandler(function(b){T.canParse(b)&&(b=T.parse(b),a(b))})},fromFloatValueHandler:function(a){return null==a?Aa.BoolAttribute(!1):
O.fromStringValueHandler(function(b){J.canParse(b)&&(b=J.parse(b),a(b))})},toString:function(a){if(1==a[1])return a[2];throw new V("cannot convert attribute "+C.string(a)+" to string",null,{fileName:"AttributeValue.hx",lineNumber:67,className:"doom.core._AttributeValue.AttributeValue_Impl_",methodName:"toString"});},equalsTo:function(a,b){if(null==a)return!1;switch(a[1]){case 0:return null==b?!1:0==b[1]?a[2]==b[2]:!1;case 1:return null==b?!1:1==b[1]?a[2]==b[2]:!1;default:return!1}},notEqualsTo:function(a,
b){return!O.equalsTo(a,b)}},Aa={__ename__:["doom","core","AttributeValueImpl"],__constructs__:["BoolAttribute","StringAttribute","EventAttribute"],BoolAttribute:function(a){a=["BoolAttribute",0,a];a.__enum__=Aa;return a},StringAttribute:function(a){a=["StringAttribute",1,a];a.__enum__=Aa;return a},EventAttribute:function(a){a=["EventAttribute",2,a];a.__enum__=Aa;return a}},S={__name__:["doom","core","_VNode","VNode_Impl_"],text:function(a){return Z.Text(a)},comp:function(a){return Z.Comp(a)},raw:function(a){return Z.Raw(a)},
comment:function(a){return Z.Comment(a)},el:function(a,b,c){null==b&&(b=new H);null==c&&(c=F.children([]));return Z.Element(a,b,c)},lazy:function(a){return Z.Lazy(a)},renderable:function(a){return Z.Lazy(v(a,a.render))},asNodes:function(a){return F.children([a])}},Z={__ename__:["doom","core","VNodeImpl"],__constructs__:"Element Comment Raw Text Comp Lazy".split(" "),Element:function(a,b,c){a=["Element",0,a,b,c];a.__enum__=Z;return a},Comment:function(a){a=["Comment",1,a];a.__enum__=Z;return a},Raw:function(a){a=
["Raw",2,a];a.__enum__=Z;return a},Text:function(a){a=["Text",3,a];a.__enum__=Z;return a},Comp:function(a){a=["Comp",4,a];a.__enum__=Z;return a},Lazy:function(a){a=["Lazy",5,a];a.__enum__=Z;return a}},F={__name__:["doom","core","_VNodes","VNodes_Impl_"],child:function(a){return F.children([a])},text:function(a){return F.children([Z.Text(a)])},comp:function(a){return F.children([Z.Comp(a)])},children:function(a){return a},lazy:function(a){return F.children([Z.Lazy(a)])},renderable:function(a){return F.children([Z.Lazy(v(a,
a.render))])},_new:function(a){return a},add:function(a,b){a.push(b);return F.children(a)},prepend:function(a,b){a.unshift(b);return F.children(a)},concat:function(a,b){return F.children(a.concat(b))},copy:function(a){return F.children(a.slice())},filter:function(a,b){return F.children(a.filter(b))},toArray:function(a){return a}},P={__ename__:["doom","html","AttributeType"],__constructs__:"BooleanAttribute Property BooleanProperty OverloadedBooleanAttribute NumericAttribute PositiveNumericAttribute SideEffectProperty".split(" "),
BooleanAttribute:["BooleanAttribute",0]};P.BooleanAttribute.__enum__=P;P.Property=["Property",1];P.Property.__enum__=P;P.BooleanProperty=["BooleanProperty",2];P.BooleanProperty.__enum__=P;P.OverloadedBooleanAttribute=["OverloadedBooleanAttribute",3];P.OverloadedBooleanAttribute.__enum__=P;P.NumericAttribute=["NumericAttribute",4];P.NumericAttribute.__enum__=P;P.PositiveNumericAttribute=["PositiveNumericAttribute",5];P.PositiveNumericAttribute.__enum__=P;P.SideEffectProperty=["SideEffectProperty",
6];P.SideEffectProperty.__enum__=P;var xa=function(){};xa.__name__=["doom","html","Attributes"];xa.getAttribute=function(a,b){var c=xa.properties,c=null!=l[b]?c.getReserved(b):c.h[b];if(null==c)return a.getAttribute(b);switch(c[1]){case 1:case 2:case 6:return A.field(a,b);case 0:case 3:case 4:case 5:return a.getAttribute(b)}};xa.setDynamicAttribute=function(a,b,c){var d=xa.properties,d=null!=l[b]?d.getReserved(b):d.h[b];if(null==d)a.setAttribute(b,c);else switch(d[1]){case 1:case 2:case 6:a[b]=c;
break;case 0:case 3:case 4:case 5:a.setAttribute(b,c)}};xa.setStringAttribute=function(a,b,c){var d=xa.properties,d=null!=l[b]?d.getReserved(b):d.h[b];if(null==d)a.setAttribute(b,c);else switch(d[1]){case 1:case 2:case 6:a[b]=c;break;case 0:case 3:case 4:case 5:a.setAttribute(b,c)}};xa.toggleBoolAttribute=function(a,b,c){var d=xa.properties,d=null!=l[b]?d.getReserved(b):d.h[b];if(null==d)c?a.setAttribute(b,b):a.removeAttribute(b);else switch(d[1]){case 1:case 2:case 6:a[b]=c;break;case 0:case 3:case 4:case 5:c?
a.setAttribute(b,b):a.removeAttribute(b)}};xa.removeAttribute=function(a,b){a.removeAttribute(b)};var Q={__ename__:["dots","AttributeType"],__constructs__:"BooleanAttribute Property BooleanProperty OverloadedBooleanAttribute NumericAttribute PositiveNumericAttribute SideEffectProperty".split(" "),BooleanAttribute:["BooleanAttribute",0]};Q.BooleanAttribute.__enum__=Q;Q.Property=["Property",1];Q.Property.__enum__=Q;Q.BooleanProperty=["BooleanProperty",2];Q.BooleanProperty.__enum__=Q;Q.OverloadedBooleanAttribute=
["OverloadedBooleanAttribute",3];Q.OverloadedBooleanAttribute.__enum__=Q;Q.NumericAttribute=["NumericAttribute",4];Q.NumericAttribute.__enum__=Q;Q.PositiveNumericAttribute=["PositiveNumericAttribute",5];Q.PositiveNumericAttribute.__enum__=Q;Q.SideEffectProperty=["SideEffectProperty",6];Q.SideEffectProperty.__enum__=Q;var Ma=function(){};Ma.__name__=["dots","Attributes"];Ma.asAttribute=function(a){for(var b=[],c=a.keys();c.hasNext();){var d=c.next();(null!=l[d]?a.getReserved(d):a.h[d])&&b.push(d)}return b.join(" ")};
Ma.asStyle=function(a){for(var b=[],c=a.keys();c.hasNext();){var d=c.next(),e=null!=l[d]?a.getReserved(d):a.h[d];t.isEmpty(e)||b.push(""+d+": "+e+";")}return b.join(" ")};Ma.getAttribute=function(a,b){var c=Ma.properties,c=null!=l[b]?c.getReserved(b):c.h[b];if(null==c)return a.getAttribute(b);switch(c[1]){case 1:case 2:case 6:return A.field(a,b);case 0:case 3:case 4:case 5:return a.getAttribute(b)}};Ma.setDynamicAttribute=function(a,b,c){var d=Ma.properties,d=null!=l[b]?d.getReserved(b):d.h[b];if(null==
d)a.setAttribute(b,c);else switch(d[1]){case 1:case 2:case 6:a[b]=c;break;case 0:case 3:case 4:case 5:a.setAttribute(b,c)}};Ma.setStringAttribute=function(a,b,c){var d=Ma.properties,d=null!=l[b]?d.getReserved(b):d.h[b];if(null==c)"value"==b?a.setAttribute(b,""):a.removeAttribute(b);else if(null==d)a.setAttribute(b,c);else switch(d[1]){case 1:case 2:case 6:a[b]=c;break;case 0:case 3:case 4:case 5:a.setAttribute(b,c)}};Ma.toggleBoolAttribute=function(a,b,c){var d=Ma.properties,d=null!=l[b]?d.getReserved(b):
d.h[b];if(null==d)c?a.setAttribute(b,b):a.removeAttribute(b);else switch(d[1]){case 1:case 2:case 6:a[b]=c;break;case 0:case 3:case 4:case 5:c?a.setAttribute(b,b):a.removeAttribute(b)}};Ma.removeAttribute=function(a,b){a.removeAttribute(b)};var K=function(){};K.__name__=["dots","Dom"];K.hasClass=function(a,b){return a.classList.contains(b)};K.addClass=function(a,b){a.classList.add(b);return a};K.removeClass=function(a,b){a.classList.remove(b);return a};K.remove=function(a){var b=a.parentNode;b.removeChild(a);
return b};K.toggleClass=function(a,b,c){null==c&&(c=!a.classList.contains(b));c?a.classList.add(b):a.classList.remove(b)};K.on=function(a,b,c){a.addEventListener(b,c);return a};K.once=function(a,b,c){var d=null,d=function(e){a.removeEventListener(b,d);c(e)};a.addEventListener(b,d);return a};K.off=function(a,b,c){a.removeEventListener(b,c);return a};K.toString=function(a){if(1==a.nodeType)return a.outerHTML;if(8==a.nodeType)return"\x3c!--"+a.textContent+"--\x3e";if(3==a.nodeType)return a.textContent;
throw new V("invalid nodeType "+a.nodeType,null,{fileName:"Dom.hx",lineNumber:151,className:"dots.Dom",methodName:"toString"});};K.nodeText=function(a){if(1==a.nodeType)return a.innerHTML;if(8==a.nodeType||3==a.nodeType)return a.textContent;throw new V("invalid nodeType "+a.nodeType,null,{fileName:"Dom.hx",lineNumber:162,className:"dots.Dom",methodName:"nodeText"});};K.nodeListToArray=function(a){return Array.prototype.slice.call(a,0)};K.parse=function(a,b,c,d,e){b=eb.parseSelector(a,b);null==e&&
(e=window.document);a=e.createElement(b.tag);for(var f=b.attributes.keys();f.hasNext();){var m=f.next(),W=b.attributes;Ma.setStringAttribute(a,m,null!=l[m]?W.getReserved(m):W.h[m])}if(null!=c)for(b=0;b<c.length;)f=c[b],++b,a.appendChild(f);null!=d&&a.appendChild(e.createTextNode(d));return a};K.insertAtIndex=function(a,b,c){a.insertBefore(b,a.children[c]);return a};K.prependChild=function(a,b){return K.insertAtIndex(a,b,0)};K.prependChildren=function(a,b){for(var c=K.prependChild,d=a,e=b.length;0<=
--e;)d=c(d,b[e]);return d};K.prepend=function(a,b,c){null!=b&&K.prependChild(a,b);return K.prependChildren(a,null!=c?c:[])};K.appendChild=function(a,b){a.appendChild(b);return a};K.appendChildren=function(a,b){return h.reduce(b,K.appendChild,a)};K.append=function(a,b,c){null!=b&&K.appendChild(a,b);null!=c&&0<c.length&&K.appendChildren(a,c);return a};K.empty=function(a){for(;null!=a.firstChild;)a.removeChild(a.firstChild);return a};K.flattenSiblingsAndChildren=function(a){for(;null!=a;){if(1==a.nodeType)K.flattenSiblingsAndChildren(a.childNodes[0]);
else if(3==a.nodeType)for(;null!=a.nextSibling&&3==a.nextSibling.nodeType;){var b=a.textContent,c=a.nextSibling.textContent;a.parentNode.removeChild(a.nextSibling);b=window.document.createTextNode(b+c);a.parentNode.replaceChild(b,a);a=b}a=a.nextSibling}};K.flattenTextNodes=function(a){K.flattenSiblingsAndChildren(a.childNodes[0])};K.traverseTextNodes=function(a,b){var c=[],d=null,d=function(a){if(3==a.nodeType)c.push(a);else if(1==a.nodeType){var b=0;for(a=a.childNodes;b<a.length;){var e=a[b];++b;
d(e)}}};d(a);for(var e=0;e<c.length;){var f=c[e];++e;b(f)}};K.addCss=function(a,b){null==b&&(b=window.document.head);var c=window.document.createElement("style");c.type="text/css";c.appendChild(window.document.createTextNode(a));b.appendChild(c)};K.getValue=function(a){switch(a.nodeName){case "INPUT":return"checkbox"!=a.type||a.checked?a.value:null;case "SELECT":return a.options.item(a.selectedIndex).value;case "TEXTAREA":return a.value;default:return a.innerHTML}};K.getMultiValue=function(a){switch(a.nodeName){case "INPUT":return"checkbox"!=
a.type||a.checked?Ra.Left(a.value):Ra.Right([]);case "SELECT":if(a.multiple){var b=[];a=a.selectedOptions;for(var c=0,d=a.length;c<d;){var e=c++;b.push(a[e].value)}return Ra.Right(b)}b=a.options.item(a.selectedIndex);return Ra.Left(b.value);case "TEXTAREA":return Ra.Left(a.value);default:return Ra.Left(a.innerHTML)}};K.getWindowHeight=function(a){null==a&&(a=window);return a.document.documentElement.clientHeight};K.getWindowWidth=function(a){null==a&&(a=window);return a.document.documentElement.clientWidth};
K.getWindowSize=function(a){null==a&&(a=window);return{width:a.document.documentElement.clientWidth,height:a.document.documentElement.clientHeight}};K.getWindowInnerHeight=function(a){null==a&&(a=window);return a.innerHeight};K.getWindowInnerWidth=function(a){null==a&&(a=window);return a.innerWidth};K.getWindowInnerSize=function(a){null==a&&(a=window);return{width:a.innerWidth,height:a.innerHeight}};K.getDocumentHeight=function(a){null==a&&(a=window.document);return a.documentElement.scrollHeight};
K.getDocumentWidth=function(a){null==a&&(a=window.document);return a.documentElement.scrollWidth};K.getDocumentSize=function(a){null==a&&(a=window.document);return{width:a.documentElement.scrollWidth,height:a.documentElement.scrollHeight}};K.getScrollTop=function(a){null==a&&(a=window.document);return null!=a.documentElement?a.documentElement.scrollTop:a.body.scrollTop};K.getOffset=function(a,b){null==b&&(b=window.document);var c=a.getBoundingClientRect();return{top:Math.round(c.top+b.body.scrollTop),
left:Math.round(c.left+b.body.scrollLeft)}};K.getOffsetParent=function(a){return null!=a.offsetParent?a.offsetParent:a};K.getOuterHeight=function(a){return a.offsetHeight};K.getOuterHeightWithMargin=function(a){var b=a.offsetHeight;a=Rb.style(a);return b+C.parseInt(a.marginTop)+C.parseInt(a.marginBottom)};K.getOuterWidth=function(a){return a.offsetWidth};K.getOuterWidthWithMargin=function(a){var b=a.offsetWidth;a=Rb.style(a);return b+C.parseInt(a.marginLeft)+C.parseInt(a.marginRight)};K.getPosition=
function(a){return{left:a.offsetLeft,top:a.offsetTop}};K.ready=function(a,b){null==b&&(b=window.document);"loading"!=b.readyState?a():b.addEventListener("DOMContentLoaded",a)};var Na=function(){};Na.__name__=["dots","Html"];Na.parseNodes=function(a){if(!Na.pattern.match(a))throw new aa('Invalid pattern "'+a+'"');var b;switch(Na.pattern.matched(1).toLowerCase()){case "tbody":case "thead":b=window.document.createElement("table");break;case "td":case "th":b=window.document.createElement("tr");break;
case "tr":b=window.document.createElement("tbody");break;default:b=window.document.createElement("div")}b.innerHTML=a;return b.childNodes};Na.parseArray=function(a){a=Na.parseNodes(a);return Array.prototype.slice.call(a,0)};Na.parseElement=function(a){return Na.parseNodes(a)[0]};Na.parse=function(a){a=Na.parseNodes(a);if(1<a.length){for(var b=window.document.createDocumentFragment();0<a.length;)b.appendChild(a[0]);return b}return a[0]};var Ja=function(){};Ja.__name__=["dots","Query"];Ja.find=function(a,
b){return(null!=b?b:Ja.doc).querySelector(a)};Ja.selectNodes=function(a,b){return(null!=b?b:Ja.doc).querySelectorAll(a)};Ja.select=function(a,b){var c=Ja.selectNodes(a,b);return Array.prototype.slice.call(c,0)};Ja.getElementIndex=function(a){for(var b=0;;){a=a.previousElementSibling;if(null==a)break;++b}return b};Ja.siblings=function(a){return Array.prototype.slice.call(a.parentNode.children).filter(function(b){return b!=a})};Ja.childrenOf=function(a,b){return a.filter(function(a){return a.parentElement==
b})};Ja.closest=function(a,b){for(;!a.matches(b);)if(a=a.parentElement,null==a)return null;return a};var eb=function(a){this.selector=a;this.index=0};eb.__name__=["dots","SelectorParser"];eb.parseSelector=function(a,b){var c=(new eb(a)).parse();null!=b&&(c.attributes=eb.mergeAttributes(c.attributes,b));return c};eb.mergeAttributes=function(a,b){return x.reduce(b.keys(),function(a,d){var c=null!=l[d]?b.getReserved(d):b.h[d];"class"==d&&(null!=l[d]?a.existsReserved(d):a.h.hasOwnProperty(d))&&(c=""+
(null!=l[d]?a.getReserved(d):a.h[d]).toString()+" "+c.toString());null!=l[d]?a.setReserved(d,c):a.h[d]=c;return a},a)};eb.prototype={selector:null,index:null,parse:function(){var a=this.gobbleTag(),b=this.gobbleAttributes();return{tag:a,attributes:b}},gobbleTag:function(){return this.isIdentifierStart()?this.gobbleIdentifier():"div"},gobbleAttributes:function(){for(var a=new H;this.index<this.selector.length;){var b=this.gobbleAttribute();if("class"==b.key&&(null!=l["class"]?a.existsReserved("class"):
a.h.hasOwnProperty("class"))){var c=(null!=l["class"]?a.getReserved("class"):a.h["class"]).toString();b.value=""+c+" "+b.value.toString()}c=b.key;b=b.value;null!=l[c]?a.setReserved(c,b):a.h[c]=b}return a},gobbleAttribute:function(){var a=this.selector.charAt(this.index);switch(a){case "#":return this.gobbleElementId();case ".":return this.gobbleElementClass();case "[":return this.gobbleElementAttribute();default:throw new V('unknown selector char "'+a+'" at pos '+this.index,null,{fileName:"SelectorParser.hx",
lineNumber:79,className:"dots.SelectorParser",methodName:"gobbleAttribute"});}},gobbleElementId:function(){this.gobbleChar("#");return{key:"id",value:this.gobbleIdentifier()}},gobbleElementClass:function(){this.gobbleChar(".");return{key:"class",value:this.gobbleIdentifier()}},gobbleElementAttribute:function(){this.gobbleChar("[");var a=this.gobbleIdentifier();this.gobbleChar("=");var b=this.gobbleUpTo("]");Sa.canParse(b.toString())&&(b=Sa.parse(b.toString())?a:null);this.gobbleChar("]");return{key:a,
value:b}},gobbleIdentifier:function(){var a=[];for(a.push(this.gobbleChar());this.isIdentifierPart();)a.push(this.gobbleChar());return a.join("")},gobbleChar:function(a,b){var c=this.selector.charAt(this.index++);if(null!=a&&a!=c)throw new V("expecting "+a+" at position "+this.index+" of "+this.selector,null,{fileName:"SelectorParser.hx",lineNumber:122,className:"dots.SelectorParser",methodName:"gobbleChar"});if(null!=b&&!h.contains(b,c))throw new V("expecting one of "+b.join(", ")+" at position "+
this.index+" of "+this.selector,null,{fileName:"SelectorParser.hx",lineNumber:125,className:"dots.SelectorParser",methodName:"gobbleChar"});return c},gobbleUpTo:function(a){for(var b=[];this.selector.charAt(this.index)!=a;)b.push(this.gobbleChar());return b.join("")},isAlpha:function(){var a=D.cca(this.selector,this.index);return 65<=a&&90>=a?!0:97<=a?122>=a:!1},isNumeric:function(){var a=D.cca(this.selector,this.index);return 48<=a?57>=a:!1},isAlphaNumeric:function(){return this.isAlpha()?!0:this.isNumeric()},
isAny:function(a){for(var b=0;b<a.length;){var c=a[b];++b;if(c==this.selector.charAt(this.index))return!0}return!1},isIdentifierStart:function(){return this.isAlpha()},isIdentifierPart:function(){return this.isAlpha()||this.isNumeric()?!0:this.isAny(["_","-"])},isIdStart:function(){return"#"==this.selector.charAt(this.index)},isClassStart:function(){return"."==this.selector.charAt(this.index)},"char":function(){return this.selector.charAt(this.index)},code:function(){return D.cca(this.selector,this.index)},
__class__:eb};var Rb=function(){};Rb.__name__=["dots","Style"];Rb.style=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};var Eb=function(){};Eb.__name__=["dr","Algebra"];Eb.prototype={zero:null,die:null,sum:null,subtract:null,negate:null,multiply:null,divide:null,compare:null,compareToSides:null,average:null,ofLiteral:null,__class__:Eb};var Fb=function(a){this.zero=0;this.roll=a};Fb.__name__=["dr","IntAlgebra"];Fb.__interfaces__=[Eb];Fb.prototype={zero:null,roll:null,die:function(a){return this.roll(a)},
sum:function(a,b){return a+b},subtract:function(a,b){return a-b},negate:function(a){return-a},multiply:function(a,b){return a*b},divide:function(a,b){return Math.ceil(a/b)},compare:function(a,b){return T.compare(a,b)},compareToSides:function(a,b){return T.compare(a,b)},average:function(a){return Math.ceil(Ka.average(a))},ofLiteral:function(a){return a},__class__:Fb};var Gb=function(a,b){this.headers=a;this.size=1;for(var c=0,d=this.headers.length;c<d;){var e=c++;this.size*=a[e].length}var f;switch(b[1]){case 0:c=
b[2];d=[];e=0;for(f=this.size;e<f;)e++,d.push(c);f=d;break;case 1:f=b[2]}this.cells=f};Gb.__name__=["dr","BoxLattice"];Gb.prototype={headers:null,cells:null,size:null,dims:function(){return this.headers.length},flatten:function(){return this.cells},mapcells:function(a){for(var b=[],c=[],d=0,e=this.headers.length;d<e;)d++,c.push(0);for(var d=[],e=0,f=this.size;e<f;){for(var m=e++,W=0,g=this.headers.length;W<g;){var h=W++;d[h]=this.headers[h][c[h]]}b[m]=a(this.cells[m],d);c[0]++;m=0;for(W=this.headers.length-
1;m<W;)g=m++,c[g]>=this.headers[g].length&&(c[g]=0,c[g+1]++)}return new Gb(this.headers,Ra.Right(b))},mapheaderstocells:function(a){return this.mapcells(function(b,c){return a(c)})},__class__:Gb};var Ca={__ename__:["dr","DiceExpression"],__constructs__:["Die","Literal","DiceReduce","BinaryOp","UnaryOp"],Die:function(a){a=["Die",0,a];a.__enum__=Ca;return a},Literal:function(a){a=["Literal",1,a];a.__enum__=Ca;return a},DiceReduce:function(a,b){var c=["DiceReduce",2,a,b];c.__enum__=Ca;return c},BinaryOp:function(a,
b,c){a=["BinaryOp",3,a,b,c];a.__enum__=Ca;return a},UnaryOp:function(a,b){var c=["UnaryOp",4,a,b];c.__enum__=Ca;return c}},Fa={__ename__:["dr","DiceReducer"],__constructs__:["Sum","Average","Min","Max"],Sum:["Sum",0]};Fa.Sum.__enum__=Fa;Fa.Average=["Average",1];Fa.Average.__enum__=Fa;Fa.Min=["Min",2];Fa.Min.__enum__=Fa;Fa.Max=["Max",3];Fa.Max.__enum__=Fa;var lb={__ename__:["dr","DiceReduceable"],__constructs__:["DiceExpressions","DiceListWithFilter","DiceListWithMap"],DiceExpressions:function(a){a=
["DiceExpressions",0,a];a.__enum__=lb;return a},DiceListWithFilter:function(a,b){var c=["DiceListWithFilter",1,a,b];c.__enum__=lb;return c},DiceListWithMap:function(a,b){var c=["DiceListWithMap",2,a,b];c.__enum__=lb;return c}},Hb={__ename__:["dr","DiceFilterable"],__constructs__:["DiceArray","DiceExpressions"],DiceArray:function(a){a=["DiceArray",0,a];a.__enum__=Hb;return a},DiceExpressions:function(a){a=["DiceExpressions",1,a];a.__enum__=Hb;return a}},Sb={__ename__:["dr","DiceFilter"],__constructs__:["Drop",
"Keep"],Drop:function(a,b){var c=["Drop",0,a,b];c.__enum__=Sb;return c},Keep:function(a,b){var c=["Keep",1,a,b];c.__enum__=Sb;return c}},Tb={__ename__:["dr","DiceFunctor"],__constructs__:["Explode","Reroll"],Explode:function(a,b){var c=["Explode",0,a,b];c.__enum__=Tb;return c},Reroll:function(a,b){var c=["Reroll",1,a,b];c.__enum__=Tb;return c}},vb={__ename__:["dr","Times"],__constructs__:["Always","UpTo"],Always:["Always",0]};vb.Always.__enum__=vb;vb.UpTo=function(a){a=["UpTo",1,a];a.__enum__=vb;
return a};var Xa={__ename__:["dr","Range"],__constructs__:["Exact","Between","ValueOrMore","ValueOrLess","Composite"],Exact:function(a){a=["Exact",0,a];a.__enum__=Xa;return a},Between:function(a,b){var c=["Between",1,a,b];c.__enum__=Xa;return c},ValueOrMore:function(a){a=["ValueOrMore",2,a];a.__enum__=Xa;return a},ValueOrLess:function(a){a=["ValueOrLess",3,a];a.__enum__=Xa;return a},Composite:function(a){a=["Composite",4,a];a.__enum__=Xa;return a}},Ya={__ename__:["dr","LowHigh"],__constructs__:["Low",
"High"],Low:["Low",0]};Ya.Low.__enum__=Ya;Ya.High=["High",1];Ya.High.__enum__=Ya;var ya={__ename__:["dr","DiceBinOp"],__constructs__:["Sum","Difference","Division","Multiplication"],Sum:["Sum",0]};ya.Sum.__enum__=ya;ya.Difference=["Difference",1];ya.Difference.__enum__=ya;ya.Division=["Division",2];ya.Division.__enum__=ya;ya.Multiplication=["Multiplication",3];ya.Multiplication.__enum__=ya;var Ub={__ename__:["dr","DiceUnOp"],__constructs__:["Negate"],Negate:["Negate",0]};Ub.Negate.__enum__=Ub;var g=
function(){};g.__name__=["parsihax","Parser"];g.index=function(){var a=Array(1);a[0]=function(a,c){null==c&&(c=0);return{status:!0,index:c,value:c,furthest:-1,expected:[]}};return a};g.letter=function(){return g.as(g.regexp(new fa("[a-z]","i")),"a letter")};g.letters=function(){return g.regexp(new fa("[a-z]*","i"))};g.digit=function(){return g.as(g.regexp(new fa("[0-9]","")),"a digit")};g.digits=function(){return g.regexp(new fa("[0-9]*",""))};g.whitespace=function(){return g.as(g.regexp(new fa("\\s+",
"")),"whitespace")};g.optWhitespace=function(){return g.regexp(new fa("\\s*",""))};g.any=function(){var a=Array(1);a[0]=function(a,c){null==c&&(c=0);return c>=a.length?{status:!1,index:-1,value:null,furthest:c,expected:["any character"]}:{status:!0,index:c+1,value:a.charAt(c),furthest:-1,expected:[]}};return a};g.all=function(){var a=Array(1);a[0]=function(a,c){null==c&&(c=0);return{status:!0,index:a.length,value:a.substring(c),furthest:-1,expected:[]}};return a};g.eof=function(){var a=Array(1);a[0]=
function(a,c){null==c&&(c=0);return c<a.length?{status:!1,index:-1,value:null,furthest:c,expected:["EOF"]}:{status:!0,index:c,value:null,furthest:-1,expected:[]}};return a};g.string=function(a){var b=a.length,c="'"+a+"'",d=Array(1);d[0]=function(d,f){null==f&&(f=0);var e=d.substring(f,f+b);return e==a?{status:!0,index:f+b,value:e,furthest:-1,expected:[]}:{status:!1,index:-1,value:null,furthest:f,expected:[c]}};return d};g["char"]=function(a){return g.as(g.test(function(b){return a==b}),"'"+a+"'")};
g.oneOf=function(a){return g.test(function(b){return 0<=a.indexOf(b)})};g.noneOf=function(a){return g.test(function(b){return 0>a.indexOf(b)})};g.regexp=function(a,b){null==b&&(b=0);var c=C.string(a),d=Array(1);d[0]=function(d,f){null==f&&(f=0);var e=d.substring(f);if(a.match(e)){var e=a.matched(b),W=a.matchedPos();if(null!=e&&0==W.pos)return{status:!0,index:f+W.len,value:e,furthest:-1,expected:[]}}return{status:!1,index:-1,value:null,furthest:f,expected:[c]}};return d};g.succeed=function(a){var b=
Array(1);b[0]=function(b,d){null==d&&(d=0);return{status:!0,index:d,value:a,furthest:-1,expected:[]}};return b};g.fail=function(a){var b=Array(1);b[0]=function(b,d){null==d&&(d=0);return{status:!1,index:-1,value:null,furthest:d,expected:[a]}};return b};g.empty=function(){return g.fail("empty")};g.seq=function(a){if(0==a.length)return g.fail("sequence of parsers");var b=Array(1);b[0]=function(b,d){null==d&&(d=0);for(var c=null,f=[],m=0;m<a.length;){var W=a[m];++m;c=Ba.mergeReplies(W[0](b,d),c);if(!c.status)return c;
f.push(c.value);d=c.index}return Ba.mergeReplies({status:!0,index:d,value:f,furthest:-1,expected:[]},c)};return b};g.alt=function(a){if(0==a.length)return g.fail("at least one alt");var b=Array(1);b[0]=function(b,d){null==d&&(d=0);for(var c=null,f=0;f<a.length;){var m=a[f];++f;c=Ba.mergeReplies(m[0](b,d),c);if(c.status)break}return c};return b};g.sepBy=function(a,b){return g.or(g.sepBy1(a,b),g.succeed([]))};g.sepBy1=function(a,b){var c=g.many(g.then(b,a));return g.flatMap(a,function(a){return g.map(c,
function(b){return[a].concat(b)})})};g.test=function(a){var b=Array(1);b[0]=function(b,d){null==d&&(d=0);var c=b.charAt(d);return d<b.length&&a(c)?{status:!0,index:d+1,value:c,furthest:-1,expected:[]}:{status:!1,index:-1,value:null,furthest:d,expected:["a character matching "+C.string(a)]}};return b};g.takeWhile=function(a){var b=Array(1);b[0]=function(b,d){null==d&&(d=0);for(var c=d;;){var f;c<b.length?(f=b.charAt(c),f=a(f)):f=!1;if(!f)break;++c}return{status:!0,index:c,value:b.substring(d,c),furthest:-1,
expected:[]}};return b};g.or=function(a,b){return g.alt([a,b])};g.flatMap=function(a,b){var c=Array(1);c[0]=function(c,e){null==e&&(e=0);var d=a[0](c,e);if(!d.status)return d;var m=b(d.value);return Ba.mergeReplies(m[0](c,d.index),d)};return c};g.then=function(a,b){return g.flatMap(a,function(a){return b})};g.map=function(a,b){var c=Array(1);c[0]=function(c,e){null==e&&(e=0);var d=a[0](c,e);return d.status?Ba.mergeReplies({status:!0,index:d.index,value:b(d.value),furthest:-1,expected:[]},d):d};return c};
g.result=function(a,b){return g.map(a,function(a){return b})};g.skip=function(a,b){return g.flatMap(a,function(a){return g.result(b,a)})};g.many=function(a){var b=Array(1);b[0]=function(b,d){null==d&&(d=0);for(var c=[],f=null;;)if(f=Ba.mergeReplies(a[0](b,d),f),f.status)d=f.index,c.push(f.value);else return Ba.mergeReplies({status:!0,index:d,value:c,furthest:-1,expected:[]},f)};return b};g.many1=function(a){return g.atLeast(a,1)};g.times=function(a,b,c){null==c&&(c=b);var d=Array(1);d[0]=function(d,
f){null==f&&(f=0);for(var e=[],W,g=null,h=0;h<b;)if(h++,W=a[0](d,f),g=Ba.mergeReplies(W,g),W.status)f=W.index,e.push(W.value);else return g;for(var h=0,k=c;h<k;)if(h++,W=a[0](d,f),g=Ba.mergeReplies(W,g),W.status)f=W.index,e.push(W.value);else break;return Ba.mergeReplies({status:!0,index:f,value:e,furthest:-1,expected:[]},g)};return d};g.atMost=function(a,b){return g.times(a,0,b)};g.atLeast=function(a,b){return g.map(g.seq([g.times(a,b),g.many(a)]),function(a){return a[0].concat(a[1])})};g.as=function(a,
b){var c=Array(1);c[0]=function(c,e){null==e&&(e=0);var d=a[0](c,e);d.status||(d.expected=[b]);return d};return c};g.lazy=function(a){var b=null,c=Array(1);c[0]=function(c,e){null==e&&(e=0);var d=a()[0];return(b[0]=d)(c,e)};return b=c};var Ba=function(){};Ba.__name__=["parsihax","ParseUtil"];Ba.formatError=function(a,b){var c=1==a.expected.length?a.expected[0]:"one of "+a.expected.join(", "),d=a.furthest,e=b.substring(0,d).split("\n"),f=e.length,e=e[e.length-1].length+1;if(d==b.length)d=", got the end of the stream";
else var m=12<b.length-d?"...'":"'",d=" at line "+f+" column "+e+", got "+(0<d?"'...":"'")+b.substring(d,d+12)+m;return"expected "+c+d};Ba.makeSuccess=function(a,b){return{status:!0,index:a,value:b,furthest:-1,expected:[]}};Ba.makeFailure=function(a,b){return{status:!1,index:-1,value:null,furthest:a,expected:[b]}};Ba.mergeReplies=function(a,b){if(null==b||a.furthest>b.furthest)return a;var c=a.furthest==b.furthest?Ba.unsafeUnion(a.expected,b.expected):b.expected;return{status:a.status,index:a.index,
value:a.value,furthest:b.furthest,expected:c}};Ba.unsafeUnion=function(a,b){if(0==a.length)return b;if(0==b.length)return a;var c=a.concat(b);c.sort(function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a<b?-1:a>b?1:0});return c};var R=function(){};R.__name__=["js","Boot"];R.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};R.__trace=function(a,b){var c=null!=b?b.fileName+":"+b.lineNumber+": ":"",c=c+R.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=
0,e=b.customParams;d<e.length;){var f=e[d];++d;c+=","+R.__string_rec(f,"")}var m;"undefined"!=typeof document?(m=document.getElementById("haxe:trace"),d=null!=m):d=!1;d?m.innerHTML+=R.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};R.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=R.__nativeClassName(a);return null!=a?R.__resolveNativeClass(a):null};R.__string_rec=function(a,b){if(null==a)return"null";
if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+R.__string_rec(a[f],b)):c+R.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+R.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(m){return ca.lastException=
m,"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+R.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};R.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;
var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||R.__interfLoop(f,b))return!0}return R.__interfLoop(a.__super__,b)};R.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case hc:return"boolean"==typeof a;case sc:return!0;case ic:return"number"==typeof a;case tc:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||
R.__interfLoop(R.getClass(a),b))return!0}else{if("object"==typeof b&&R.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==jc&&null!=a.__name__||b==kc&&null!=a.__ename__?!0:a.__enum__==b}};R.__nativeClassName=function(a){a=R.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};R.__isNativeObj=function(a){return null!=R.__nativeClassName(a)};R.__resolveNativeClass=function(a){return p[a]};var mb={__ename__:["dr","MoreLess"],__constructs__:["More",
"Less"],More:["More",0]};mb.More.__enum__=mb;mb.Less=["Less",1];mb.Less.__enum__=mb;var h=function(){};h.__name__=["thx","Arrays"];h.append=function(a,b){a.push(b);return a};h.appendIf=function(a,b,c){b&&a.push(c);return a};h.applyIndexes=function(a,b,c){null==c&&(c=!1);if(b.length!=a.length)throw new V("`Arrays.applyIndexes` can only be applied to two arrays with the same length",null,{fileName:"Arrays.hx",lineNumber:55,className:"thx.Arrays",methodName:"applyIndexes"});var d=[];if(c){c=da.createInt();
for(var e=0,f=a.length;e<f;){for(var m=e++,g=b[m];c.h.hasOwnProperty(g);)++g;da.add(c,g);d[g]=a[m]}}else for(c=0,e=a.length;c<e;)f=c++,d[b[f]]=a[f];return d};h.monoid=function(){return{zero:[],append:function(a,b){return a.concat(b)}}};h.after=function(a,b){return a.slice(fb.indexOf(a,b)+1)};h.atIndex=function(a,b){return 0<=b&&b<a.length?y.Some(a[b]):y.None};h.getOption=function(a,b){var c=a[b];return null==c?y.None:y.Some(c)};h.each=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;b(a[e])}};
h.eachi=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;b(a[e],e)}};h.all=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;if(!b(a[e]))return!1}return!0};h.any=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;if(b(a[e]))return!0}return!1};h.at=function(a,b){return b.map(function(b){return a[b]})};h.before=function(a,b){return a.slice(0,fb.indexOf(a,b))};h.commonsFromStart=function(a,b,c){null==c&&(c=ta.equality);var d=0,e=0;for(b=h.zip(a,b);e<b.length;){var f=b[e];++e;if(c(f._0,f._1))++d;
else break}return a.slice(0,d)};h.compact=function(a){return a.filter(function(a){return null!=a})};h.compare=function(a,b){var c=T.compare(a.length,b.length);if(0!=c)return c;for(var d=0,e=a.length;d<e;)if(c=d++,c=qa.compare(a[c],b[c]),0!=c)return c;return 0};h.contains=function(a,b,c){if(null==c)return 0<=fb.indexOf(a,b);for(var d=0,e=a.length;d<e;){var f=d++;if(c(a[f],b))return!0}return!1};h.containsAll=function(a,b,c){for(b=k(b)();b.hasNext();){var d=b.next();if(!h.contains(a,d,c))return!1}return!0};
h.containsAny=function(a,b,c){for(b=k(b)();b.hasNext();){var d=b.next();if(h.contains(a,d,c))return!0}return!1};h.create=function(a,b){for(var c=0<a?Array(a):[],d=0;d<a;){var e=d++;c[e]=b}return c};h.fromItem=function(a){return[a]};h.cross=function(a,b){for(var c=[],d=0;d<a.length;){var e=a[d];++d;for(var f=0;f<b.length;){var m=b[f];++f;c.push([e,m])}}return c};h.crossMulti=function(a){a=a.slice();for(var b=a.shift().map(function(a){return[a]});0<a.length;)for(var c=a.shift(),d=b,b=[],e=0;e<c.length;){var f=
c[e];++e;for(var m=0;m<d.length;){var g=d[m];++m;g=g.slice();g.push(f);b.push(g)}}return b};h.distinct=function(a,b){var c=[];if(1>=a.length)return a.slice();null==b&&(b=ta.equality);for(var d=0;d<a.length;){var e=[a[d]];++d;h.any(c,function(a){return function(c){return b(c,a[0])}}(e))||c.push(e[0])}return c};h.eachPair=function(a,b){for(var c=0,d=a.length;c<d;)for(var e=c++,f=e,m=a.length;f<m;){var g=f++;if(!b(a[e],a[g]))return}};h.equals=function(a,b,c){if(null==a||null==b||a.length!=b.length)return!1;
null==c&&(c=ta.equality);for(var d=0,e=a.length;d<e;){var f=d++;if(!c(a[f],b[f]))return!1}return!0};h.extract=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;if(b(a[e]))return a.splice(e,1)[0]}return null};h.filterNull=function(a){for(var b=[],c=0;c<a.length;){var d=a[c];++c;null!=d&&b.push(d)}return b};h.filterOption=function(a){return h.reduce(a,function(a,c){switch(c[1]){case 0:a.push(c[2])}return a},[])};h.flattenOptions=function(a){for(var b=[],c=0;c<a.length;){var d=a[c];++c;switch(d[1]){case 0:b.push(d[2]);
break;case 1:return y.None}}return y.Some(b)};h.find=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(b(d))return d}return null};h.findi=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;if(b(a[e],e))return a[e]}return null};h.findiOption=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;if(b(a[e],e))return y.Some(a[e])}return y.None};h.findOption=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(b(d))return y.Some(d)}return y.None};h.findMap=function(a,b){for(var c=0;c<a.length;){var d=
a[c];++c;d=b(d);if(!r.isNone(d))return d}return y.None};h.filterMap=function(a,b){for(var c=[],d=0;d<a.length;){var e=a[d];++d;e=b(e);switch(e[1]){case 0:c.push(e[2])}}return c};h.findSome=function(a){for(var b=0;b<a.length;){var c=a[b];++b;if(!r.isNone(c))return c}return y.None};h.findIndex=function(a,b){for(var c=0,d=a.length;c<d;){var e=c++;if(b(a[e]))return e}return-1};h.findLast=function(a,b){for(var c=a.length,d,e=0;e<c;)if(d=e++,d=c-d-1,b(a[d]))return a[d];return null};h.first=function(a){return a[0]};
h.firstOption=function(a){a=a[0];return null==a?y.None:y.Some(a)};h.flatMap=function(a,b){var c=a.map(b);return Array.prototype.concat.apply([],c)};h.flatten=function(a){return Array.prototype.concat.apply([],a)};h.from=function(a,b){return a.slice(fb.indexOf(a,b))};h.groupByAppend=function(a,b,c){for(var d=0,e=a.length;d<e;){var f=d++,f=a[f],m=b(f),g=c.get(m);null==g?c.set(m,[f]):g.push(f)}return c};h.spanByIndex=function(a,b){for(var c=[],d=null,e=-1,f=0,m=a.length;f<m;){var g=f++,h=b(g);if(null==
h)throw new V("spanKey function returned null for index "+g,null,{fileName:"Arrays.hx",lineNumber:633,className:"thx.Arrays",methodName:"spanByIndex"});d==h?c[e].push(a[g]):(d=h,++e,c.push([a[g]]))}return c};h.hasElements=function(a){return null!=a?0<a.length:!1};h.head=function(a){return a[0]};h.ifEmpty=function(a,b){return null!=a&&0!=a.length?a:b};h.initial=function(a){return a.slice(0,a.length-1)};h.intersperse=function(a,b){return h.reducei(a,function(a,b,e){a[2*e]=b;return a},h.create(2*a.length-
1,b))};h.interspersef=function(a,b){if(0==a.length)return[];for(var c=[a[0]],d=1,e=a.length;d<e;){var f=d++;c.push(b());c.push(a[f])}return c};h.isEmpty=function(a){return null!=a?0==a.length:!0};h.last=function(a){return a[a.length-1]};h.lastOption=function(a){a=a[a.length-1];return null==a?y.None:y.Some(a)};h.map=function(a,b){for(var c=[],d=0,e=a.length;d<e;){var f=d++;c.push(b(a[f]))}return c};h.mapi=function(a,b){for(var c=[],d=0,e=a.length;d<e;){var f=d++;c.push(b(a[f],f))}return c};h.mapRight=
function(a,b){for(var c=a.length,d=[];0<=--c;)d.push(b(a[c]));return d};h.order=function(a,b){var c=a.slice();c.sort(b);return c};h.pull=function(a,b,c){for(var d=0;d<b.length;){var e=b[d];++d;h.removeAll(a,e,c)}};h.pushIf=function(a,b,c){b&&a.push(c);return a};h.rank=function(a,b,c){null==c&&(c=!0);for(var d=[],e=0,f=a.length;e<f;){var m=e++;d.push({_0:a[m],_1:m})}d.sort(function(a,c){return b(a._0,c._0)});if(c){var g=da.createInt();return h.reducei(d,function(a,c,e){for(e=0<e&&0==b(d[e-1]._0,c._0)?
a[d[e-1]._1]:e;g.h.hasOwnProperty(e);)++e;da.add(g,e);a[c._1]=e;return a},[])}return h.reducei(d,function(a,c,e){a[c._1]=0<e&&0==b(d[e-1]._0,c._0)?a[d[e-1]._1]:e;return a},[])};h.reduce=function(a,b,c){for(var d=0;d<a.length;){var e=a[d];++d;c=b(c,e)}return c};h.foldLeft=function(a,b,c){return h.reduce(a,c,b)};h.foldLeft1=function(a,b){var c=h.dropLeft(a,1),d=a[0];return null==d?y.None:y.Some(h.reduce(c,b,d))};h.foldLeftEither=function(a,b,c){b=I.Right(b);for(var d=0;d<a.length;){var e=a[d];++d;switch(b[1]){case 0:return b;
case 1:b=c(b[2],e)}}return b};h.foldMap=function(a,b,c){return h.reduce(a.map(b),function(a,b){return gb.append(c,a,b)},gb.get_zero(c))};h.fold=function(a,b){return h.foldMap(a,ta.identity,b)};h.nel=function(a){return ma.fromArray(a)};h.foldS=function(a,b){return r.map(h.nel(a),function(a){return ma.fold(a,b)})};h.resize=function(a,b,c){for(;a.length<b;)a.push(c);a.splice(b,a.length-b);return a};h.resized=function(a,b,c){a=a.slice();return h.resize(a,b,c)};h.reducei=function(a,b,c){for(var d=0,e=
a.length;d<e;){var f=d++;c=b(c,a[f],f)}return c};h.reduceRight=function(a,b,c){for(var d=a.length;0<=--d;)c=b(c,a[d]);return c};h.removeAll=function(a,b,c){null==c&&(c=ta.equality);for(var d=a.length;0<=--d;)c(a[d],b)&&a.splice(d,1)};h.rest=function(a){return a.slice(1)};h.reversed=function(a){a=a.slice();a.reverse();return a};h.sample=function(a,b){var c=a.length;b<c||(b=c);for(var c=a.slice(),d=[],e=0,f=b;e<f;)e++,d.push(c.splice(C.random(c.length),1)[0]);return d};h.sampleOne=function(a){return a[C.random(a.length)]};
h.string=function(a){return"["+a.map(qa.string).join(", ")+"]"};h.shuffle=function(a){for(var b=T.range(a.length),c=[];0<b.length;){var d=C.random(b.length),e=b[d];b.splice(d,1);c.push(a[e])}return c};h.split=function(a,b){return h.splitBy(a,Math.ceil(a.length/b))};h.splitBy=function(a,b){var c=[],d=a.length;b<d||(b=d);for(var d=0,e=Math.ceil(a.length/b);d<e;){var f=d++;c.push(a.slice(f*b,(f+1)*b))}return c};h.splitByPad=function(a,b,c){for(a=h.splitBy(a,b);a[a.length-1].length<b;)a[a.length-1].push(c);
return a};h.tail=function(a){return a.slice(1)};h.take=function(a,b){return a.slice(0,b)};h.takeLast=function(a,b){return a.slice(a.length-b)};h.traverseOption=function(a,b){return h.reduce(a,function(a,d){return r.ap(b(d),r.map(a,function(a){return function(b){a.push(b);return a}}))},y.Some([]))};h.traverseEither=function(a,b){return h.reduce(a,function(a,d){return ea.ap(b(d),ea.map(a,function(a){return function(b){a.push(b);return a}}))},I.Right([]))};h.traverseValidation=function(a,b,c){return h.reduce(a,
function(a,e){return z.ap(b(e),z.map(a,function(a){return function(b){a.push(b);return a}}),c)},I.Right([]))};h.traverseValidationIndexed=function(a,b,c){return h.reducei(a,function(a,e,f){return z.ap(b(e,f),z.map(a,function(a){return function(b){a.push(b);return a}}),c)},I.Right([]))};h.rotate=function(a){for(var b=[],c=0,d=a[0].length;c<d;){var e=c++,f=[];b.push(f);for(var m=0,g=a.length;m<g;){var h=m++;f.push(a[h][e])}}return b};h.sliding2=function(a,b){if(2>a.length)return[];for(var c=[],d=0,
e=a.length-1;d<e;){var f=d++;c.push(b(a[f],a[f+1]))}return c};h.unzip=function(a){var b=[],c=[];a.map(function(a){b.push(a._0);c.push(a._1)});return{_0:b,_1:c}};h.unzip3=function(a){var b=[],c=[],d=[];a.map(function(a){b.push(a._0);c.push(a._1);d.push(a._2)});return{_0:b,_1:c,_2:d}};h.unzip4=function(a){var b=[],c=[],d=[],e=[];a.map(function(a){b.push(a._0);c.push(a._1);d.push(a._2);e.push(a._3)});return{_0:b,_1:c,_2:d,_3:e}};h.unzip5=function(a){var b=[],c=[],d=[],e=[],f=[];a.map(function(a){b.push(a._0);
c.push(a._1);d.push(a._2);e.push(a._3);f.push(a._4)});return{_0:b,_1:c,_2:d,_3:e,_4:f}};h.zip=function(a,b){for(var c=a.length,d=b.length,e=[],f=0,c=c<d?c:d;f<c;)d=f++,e.push({_0:a[d],_1:b[d]});return e};h.zip3=function(a,b,c){for(var d=[],e=0,f=Ka.min([a.length,b.length,c.length]);e<f;){var m=e++;d.push({_0:a[m],_1:b[m],_2:c[m]})}return d};h.zip4=function(a,b,c,d){for(var e=[],f=0,m=Ka.min([a.length,b.length,c.length,d.length]);f<m;){var g=f++;e.push({_0:a[g],_1:b[g],_2:c[g],_3:d[g]})}return e};
h.zip5=function(a,b,c,d,e){for(var f=[],m=0,g=Ka.min([a.length,b.length,c.length,d.length,e.length]);m<g;){var h=m++;f.push({_0:a[h],_1:b[h],_2:c[h],_3:d[h],_4:e[h]})}return f};h.zipAp=function(a,b){for(var c=[],d=0,e=a.length,f=b.length,e=e<f?e:f;d<e;)f=d++,c.push(b[f](a[f]));return c};h.zip2Ap=function(a,b,c){return h.zipAp(c,b.map(ga.curry(a)))};h.zip3Ap=function(a,b,c,d){return h.zipAp(d,h.zip2Ap(function(b,c){return function(d){return a(b,c,d)}},b,c))};h.zip4Ap=function(a,b,c,d,e){return h.zipAp(e,
h.zip3Ap(function(b,c,d){return function(e){return a(b,c,d,e)}},b,c,d))};h.zip5Ap=function(a,b,c,d,e,f){return h.zipAp(f,h.zip4Ap(function(b,c,d,e){return function(f){return a(b,c,d,e,f)}},b,c,d,e))};h.withPrepend=function(a,b){return[b].concat(a)};h["with"]=function(a,b){return a.concat([b])};h.withSlice=function(a,b,c,d){null==d&&(d=0);return a.slice(0,c).concat(b).concat(a.slice(c+d))};h.withInsert=function(a,b,c){return a.slice(0,c).concat([b]).concat(a.slice(c))};h.maxBy=function(a,b){return 0==
a.length?y.None:y.Some(h.reduce(a,function(a,d){return nb.max(b,a,d)},a[0]))};h.minBy=function(a,b){return 0==a.length?y.None:y.Some(h.reduce(a,function(a,d){return nb.min(b,a,d)},a[0]))};h.toMap=function(a,b){for(var c=ha.Tip,d=[],e=0,f=a.length;e<f;){var m=e++,m=a[m];r.isNone(B.lookup(c,m._0,b))?c=B.insert(c,m._0,m._1,b):d.push(m._0)}return r.toFailure(ma.fromArray(d),c)};h.toStringMap=function(a){return h.reduce(a,function(a,c){var b=c._0,e=c._1;null!=l[b]?a.setReserved(b,e):a.h[b]=e;return a},
new H)};h.partition=function(a,b){return h.reduce(a,function(a,d){b(d)?a._0.push(d):a._1.push(d);return a},{_0:[],_1:[]})};h.partitionWhile=function(a,b){var c=!0;return h.reduce(a,function(a,e){c?b(e)?a._0.push(e):(c=!1,a._1.push(e)):a._1.push(e);return a},{_0:[],_1:[]})};h.dropLeft=function(a,b){return b>=a.length?[]:a.slice(b)};h.dropRight=function(a,b){return b>=a.length?[]:a.slice(0,a.length-b)};h.dropWhile=function(a,b){for(var c=[].concat(a),d=0;d<a.length;){var e=a[d];++d;if(b(e))c.shift();
else break}return c};h.pad=function(a,b,c){var d=[],e=0;for(b-=a.length;e<b;)e++,d.push(c);return a.concat(d)};h.fill=function(a,b){return a.map(function(a){return null==a?b:a})};var n=function(){};n.__name__=["dr","DiceParser"];n.parse=function(a){var b=n.grammar[0](a);if(1==b.status)return I.Right(b.value);a=Ba.formatError(b,a);return I.Left(a)};n.unsafeParse=function(a){a=n.parse(a);switch(a[1]){case 0:throw new aa(a[2]);case 1:return a[2]}};n.dirValue=function(a,b){return g.then(g.then(a,n.OWS),
g.alt([g.flatMap(n.lowOrHigh,function(a){return g.then(n.OWS,g.map(n.positive,function(b){return{dir:a,value:b}}))}),g.map(n.positive,function(a){return{dir:b,value:a}})]))};n.diceFunctorConst=function(a,b){return g.alt([g.then(g.then(g.string(a),n.OWS),g.flatMap(n.functorTimes,function(a){return g.then(n.OWS,g.map(n.range,function(c){return b(a,c)}))}))])};n.diceReduce=function(a){return g.or(g.flatMap(a,function(a){return g.then(n.OWS,g.map(g.alt([g.result(n.SUM,Fa.Sum),g.result(n.AVERAGE,Fa.Average),
g.result(n.MIN,Fa.Min),g.result(n.MAX,Fa.Max)]),function(b){return Ca.DiceReduce(a,b)}))}),g.map(a,function(a){return Ca.DiceReduce(a,Fa.Sum)}))};n.commaSeparated=function(a){return g.then(g.then(n.OPEN_SET_BRACKET,n.OWS),g.skip(g.or(g.sepBy1(a,g.then(g.then(n.OWS,n.COMMA),n.OWS)),g.succeed([])),g.then(n.OWS,n.CLOSE_SET_BRACKET)))};var wa=function(a,b){this.weightedValues=[];for(var c=0,d=a.length;c<d;){var e=c++;this.weightedValues[e]={_0:a[e],_1:b[e]}}this.compact()};wa.__name__=["dr","Discrete"];
wa.literal=function(a){return new wa([1],[a])};wa.die=function(a){for(var b=[],c=0;c<a;)c++,b.push(1);for(var c=[],d=0;d<a;){var e=d++;c.push(e+1)}return new wa(b,c)};wa.apply=function(a,b){var c=a.map(function(a){return a.weightedValues}),d=(new Gb(c,Ra.Left(0))).mapheaderstocells(function(a){for(var c=[],d=1,e=0,g=a.length;e<g;){var h=e++,d=d*a[h]._0;c[h]=a[h]._1}return{_0:d,_1:b(c)}}),c=d.cells.map(function(a){return a._0}),d=d.cells.map(function(a){return a._1});return new wa(c,d)};wa.compare=
function(a,b){return a._1==b._1?0:a._1<b._1?-1:1};wa.prototype={weightedValues:null,length:function(){return this.weightedValues.length},weights:function(){for(var a=[],b=0,c=this.weightedValues.length;b<c;){var d=b++;a.push(this.weightedValues[d]._0)}return a},values:function(){for(var a=[],b=0,c=this.weightedValues.length;b<c;){var d=b++;a.push(this.weightedValues[d]._1)}return a},probabilities:function(){for(var a=0,b=0,c=this.weightedValues.length;b<c;)var d=b++,a=a+this.weightedValues[d]._0;
b=[];c=0;for(d=this.weightedValues.length;c<d;){var e=c++;b.push(this.weightedValues[e]._0/a)}return b},compact:function(){this.weightedValues.sort(wa.compare);for(var a=this.weights(),b=this.values(),c=[],d=[],e=0,f=0,m=a.length;f<m;){var g=f++;0<a[g]&&(c[e]=a[g],d[e]=b[g],++e)}a=0;this.weightedValues=[];this.weightedValues[0]={_0:c[0],_1:d[0]};b=1;for(e=c.length;b<e;)f=b++,this.weightedValues[a]._1==d[f]?this.weightedValues[a]={_0:this.weightedValues[a]._0+c[f],_1:this.weightedValues[a]._1}:(++a,
this.weightedValues[a]={_0:c[f],_1:d[f]})},unary:function(a){return new wa(this.weights(),this.values().map(a))},binary:function(a,b){return wa.apply([this,a],function(a){return b(a[0],a[1])})},alwaysResample:function(a){for(var b=this.weights(),c=0,d=this.weightedValues.length;c<d;)for(var e=c++,f=0,m=a.length;f<m;){var g=f++;this.weightedValues[e]._1==a[g]&&(b[e]=0)}return new wa(b,this.values())},toString:function(){var a=h.reduce(this.values(),function(a,c){var b=u.integer(c,null).length;return b>
a?b:a},0);return"probabilities:\n"+h.zip(this.values(),this.probabilities()).map(function(b){return t.lpad(u.integer(b._0,null)," ",a)+": "+u.percent(b._1,2)}).join("\n")},__class__:wa};var Ib=function(){this.zero=wa.zero};Ib.__name__=["dr","DiscreteAlgebra"];Ib.__interfaces__=[Eb];Ib.prototype={zero:null,die:function(a){return wa.die(a)},sum:function(a,b){return a.binary(b,function(a,b){return a+b})},subtract:function(a,b){return a.binary(b,function(a,b){return a-b})},negate:function(a){return a.unary(function(a){return-a})},
multiply:function(a,b){return a.binary(b,function(a,b){return a*b})},divide:function(a,b){return a.binary(b,function(a,b){return Math.ceil(a/b)})},compare:function(a,b){return 0},compareToSides:function(a,b){return 0},average:function(a){return wa.apply(a,function(a){return La.average(a)})},ofLiteral:function(a){return wa.literal(a)},__class__:Ib};var Da={__ename__:["dr","RollResult"],__constructs__:["OneResult","LiteralResult","DiceReduceResult","BinaryOpResult","UnaryOpResult"],OneResult:function(a){a=
["OneResult",0,a];a.__enum__=Da;return a},LiteralResult:function(a,b){var c=["LiteralResult",1,a,b];c.__enum__=Da;return c},DiceReduceResult:function(a,b,c){a=["DiceReduceResult",2,a,b,c];a.__enum__=Da;return a},BinaryOpResult:function(a,b,c,d){a=["BinaryOpResult",3,a,b,c,d];a.__enum__=Da;return a},UnaryOpResult:function(a,b,c){a=["UnaryOpResult",4,a,b,c];a.__enum__=Da;return a}},ob={__ename__:["dr","DiceReduceableResult"],__constructs__:["DiceExpressionsResult","DiceFilterableResult","DiceMapeableResult"],
DiceExpressionsResult:function(a){a=["DiceExpressionsResult",0,a];a.__enum__=ob;return a},DiceFilterableResult:function(a,b){var c=["DiceFilterableResult",1,a,b];c.__enum__=ob;return c},DiceMapeableResult:function(a,b){var c=["DiceMapeableResult",2,a,b];c.__enum__=ob;return c}},pb={__ename__:["dr","DiceResultMapped"],__constructs__:["Rerolled","Exploded","Normal"],Rerolled:function(a){a=["Rerolled",0,a];a.__enum__=pb;return a},Exploded:function(a){a=["Exploded",1,a];a.__enum__=pb;return a},Normal:function(a){a=
["Normal",2,a];a.__enum__=pb;return a}},Vb={__ename__:["dr","DieResultFilter"],__constructs__:["Keep","Discard"],Keep:function(a){a=["Keep",0,a];a.__enum__=Vb;return a},Discard:function(a){a=["Discard",1,a];a.__enum__=Vb;return a}},Ga=function(){};Ga.__name__=["dr","RollResultExtensions"];Ga.getResult=function(a){switch(a[1]){case 0:return a[2].result;case 1:return a[3];case 2:return a[4];case 3:return a[5];case 4:return a[4]}};var Za=function(a){this.algebra=a};Za.__name__=["dr","Roller"];Za["int"]=
function(a){return new Za(new Fb(a))};Za.discrete=function(){return new Za(new Ib)};Za.prototype={algebra:null,roll:function(a){var b=this;switch(a[1]){case 0:return a=a[2],Da.OneResult({result:this.algebra.die(a),sides:a});case 1:return a=a[2],Da.LiteralResult(a,this.algebra.ofLiteral(a));case 2:switch(a[2][1]){case 0:var c=a[3];a=a[2][2].map(v(this,this.roll));var d=this.reduceRolls(a,c);return Da.DiceReduceResult(ob.DiceExpressionsResult(a),c,d);case 1:switch(a[2][2][1]){case 0:c=a[3];d=a[2][3];
a=a[2][2][2].map(function(a){return b.roll(Ca.Die(a))});a=this.filterRolls(a,d);var e=this.keepFilteredRolls(a),e=this.reduceRolls(e,c);return Da.DiceReduceResult(ob.DiceFilterableResult(a,d),c,e);case 1:return c=a[3],d=a[2][3],a=a[2][2][2].map(v(this,this.roll)),a=this.filterRolls(a,d),e=this.keepFilteredRolls(a),e=this.reduceRolls(e,c),Da.DiceReduceResult(ob.DiceFilterableResult(a,d),c,e)}break;case 2:return c=a[3],d=a[2][3],a=a[2][2].map(function(a){return{result:b.algebra.die(a),sides:a}}),a=
this.mapRolls(a,d),e=this.keepMappedRolls(a),e=this.reduceRolls(e.map(Da.OneResult),c),Da.DiceReduceResult(ob.DiceMapeableResult(a,d),c,e)}break;case 3:d=a[4];c=a[2];a=this.roll(a[3]);d=this.roll(d);switch(c[1]){case 0:return Da.BinaryOpResult(ya.Sum,a,d,this.algebra.sum(Ga.getResult(a),Ga.getResult(d)));case 1:return Da.BinaryOpResult(ya.Difference,a,d,this.algebra.subtract(Ga.getResult(a),Ga.getResult(d)));case 2:return Da.BinaryOpResult(ya.Division,a,d,this.algebra.divide(Ga.getResult(a),Ga.getResult(d)));
case 3:return Da.BinaryOpResult(ya.Multiplication,a,d,this.algebra.multiply(Ga.getResult(a),Ga.getResult(d)))}break;case 4:return a=this.roll(a[3]),Da.UnaryOpResult(Ub.Negate,a,this.algebra.negate(Ga.getResult(a)))}},mapRolls:function(a,b){switch(b[1]){case 0:switch(b[2][1]){case 0:var c=b[3],d=v(this,this.explodeRoll);return a.map(function(a){return d(a,-1,c)});case 1:var e=b[3],f=b[2][2],m=v(this,this.explodeRoll);return a.map(function(a){return m(a,f,e)})}break;case 1:switch(b[2][1]){case 0:var g=
b[3],h=v(this,this.rerollRoll);return a.map(function(a){return h(a,-1,g)});case 1:var k=b[3],l=b[2][2],p=v(this,this.rerollRoll);return a.map(function(a){return p(a,l,k)})}}},explodeRoll:function(a,b,c){a=this.rollRange(a,b,c);return 1==a.length?pb.Normal(a[0]):pb.Exploded(a)},rerollRoll:function(a,b,c){a=this.rollRange(a,b,c);return 1==a.length?pb.Normal(a[0]):pb.Rerolled(a)},rollRange:function(a,b,c){for(var d=[a];0!=b&&this.matchRange(a.result,c);)a={result:this.algebra.die(a.sides),sides:a.sides},
d.push(a),--b;return d},matchRange:function(a,b){var c=this;switch(b[1]){case 0:return 0==this.algebra.compareToSides(a,b[2]);case 1:var d=b[3];return 0<=this.algebra.compareToSides(a,b[2])?0>=this.algebra.compareToSides(a,d):!1;case 2:return 0<=this.algebra.compareToSides(a,b[2]);case 3:return 0>=this.algebra.compareToSides(a,b[2]);case 4:return h.reduce(b[2],function(b,d){return b?!0:c.matchRange(a,d)},!1)}},keepMappedRolls:function(a){a=a.map(function(a){switch(a[1]){case 0:return a=a[2],[a[a.length-
1]];case 1:return a[2];case 2:return[a[2]]}});return Array.prototype.concat.apply([],a)},filterRolls:function(a,b){var c=this,d=h.rank(a,function(a,b){return c.algebra.compare(Ga.getResult(a),Ga.getResult(b))},!0),e;switch(b[1]){case 0:switch(b[2][1]){case 0:var f=b[3];e=function(a,b){return a>=f};break;case 1:var m=b[3];e=function(a,b){return a<b-m}}break;case 1:switch(b[2][1]){case 0:var g=b[3];e=function(a,b){return a<g};break;case 1:var k=b[3];e=function(a,b){return a>=b-k}}}for(var l=[],p=0,
n=a.length;p<n;){var r=p++,t=a[r];l.push(e(d[r],d.length)?Vb.Keep(t):Vb.Discard(t))}return l},keepFilteredRolls:function(a){return h.filterMap(a,function(a){switch(a[1]){case 0:return y.Some(a[2]);case 1:return y.None}})},reduceRolls:function(a,b){return this.reduceResults(this.getRollResults(a),b)},reduceResults:function(a,b){switch(b[1]){case 0:return h.reduce(a,($a=this.algebra,v($a,$a.sum)),this.algebra.zero);case 1:return this.algebra.average(a);case 2:return h.order(a,($a=this.algebra,v($a,
$a.compare))).shift();case 3:return h.order(a,($a=this.algebra,v($a,$a.compare))).pop()}},getRollResults:function(a){return a.map(Ga.getResult)},__class__:Za};var Ha={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],CFunction:["CFunction",0]};Ha.CFunction.__enum__=Ha;Ha.Module=function(a){a=["Module",1,a];a.__enum__=Ha;return a};Ha.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];a.__enum__=Ha;return a};Ha.Method=function(a,b){var c=["Method",3,
a,b];c.__enum__=Ha;return c};Ha.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=Ha;return a};var ca=function(){};ca.__name__=["haxe","CallStack"];ca.getStack=function(a){if(null==a)return[];var b=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){for(var c=[],d=0;d<b.length;){var m=b[d];++d;null!=ca.wrapCallSite&&(m=ca.wrapCallSite(m));var g=null,h=m.getFunctionName();if(null!=h){var k=h.lastIndexOf(".");0<=k&&(g=D.substr(h,0,k),h=D.substr(h,k+1,null),g=Ha.Method(g,h))}c.push(Ha.FilePos(g,
m.getFileName(),m.getLineNumber()))}return c};a=ca.makeStack(a.stack);Error.prepareStackTrace=b;return a};ca.callStack=function(){try{throw Error();}catch(b){ca.lastException=b;b instanceof aa&&(b=b.val);var a=ca.getStack(b);a.shift();return a}};ca.exceptionStack=function(){return ca.getStack(ca.lastException)};ca.toString=function(a){for(var b=new Qb,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";ca.itemToString(b,d)}return b.b};ca.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";
break;case 1:var c=b[2];a.b+="module ";a.b+=null==c?"null":""+c;break;case 2:var c=b[4],d=b[3],e=b[2];null!=e&&(ca.itemToString(a,e),a.b+=" (");a.b+=null==d?"null":""+d;a.b+=" line ";a.b+=null==c?"null":""+c;null!=e&&(a.b+=")");break;case 3:c=b[3];d=b[2];a.b+=null==d?"null":""+d;a.b+=".";a.b+=null==c?"null":""+c;break;case 4:c=b[2],a.b+="local function #",a.b+=null==c?"null":""+c}};ca.makeStack=function(a){if(null==a)return[];if("string"==typeof a){a=a.split("\n");"Error"==a[0]&&a.shift();for(var b=
[],c=new fa("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),d=0;d<a.length;){var e=a[d];++d;if(c.match(e)){var e=c.matched(1).split("."),f=e.pop(),m=c.matched(2),g=C.parseInt(c.matched(3));b.push(Ha.FilePos("Anonymous function"==f?Ha.LocalFunction():"Global code"==f?null:Ha.Method(e.join("."),f),m,g))}else b.push(Ha.Module(N.trim(e)))}return b}return a};var Ta=function(){};Ta.__name__=["haxe","IMap"];Ta.prototype={get:null,set:null,exists:null,remove:null,keys:null,iterator:null,__class__:Ta};
var lc={__name__:["haxe","_Int32","Int32_Impl_"]},Jb=function(){};Jb.__name__=["haxe","Log"];Jb.trace=function(a,b){R.__trace(a,b)};var qb=function(){};qb.__name__=["haxe","Utf8"];qb.compare=function(a,b){return a>b?1:a==b?0:-1};var ec=function(){};ec.__name__=["haxe","crypto","Base64"];var Kb=function(){};Kb.__name__=["haxe","ds","BalancedTree"];Kb.prototype={root:null,set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);
if(0==c)return b.value;b=0>c?b.left:b.right}return null},remove:function(a){try{return this.root=this.removeLoop(a,this.root),!0}catch(b){ca.lastException=b;b instanceof aa&&(b=b.val);if(R.__instanceof(b,String))return!1;throw b;}},exists:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return!0;b=0>c?b.left:b.right}return!1},iterator:function(){var a=[];this.iteratorLoop(this.root,a);return D.iter(a)},keys:function(){var a=[];this.keysLoop(this.root,a);return D.iter(a)},
setLoop:function(a,b,c){if(null==c)return new Ia(null,a,b,null);var d=this.compare(a,c.key);if(0==d)return new Ia(c.left,a,b,c.right,null==c?0:c._height);if(0>d)return a=this.setLoop(a,b,c.left),this.balance(a,c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,c.key,c.value,a)},removeLoop:function(a,b){if(null==b)throw new aa("Not_found");var c=this.compare(a,b.key);return 0==c?this.merge(b.left,b.right):0>c?this.balance(this.removeLoop(a,b.left),b.key,b.value,b.right):
this.balance(b.left,b.key,b.value,this.removeLoop(a,b.right))},iteratorLoop:function(a,b){null!=a&&(this.iteratorLoop(a.left,b),b.push(a.value),this.iteratorLoop(a.right,b))},keysLoop:function(a,b){null!=a&&(this.keysLoop(a.left,b),b.push(a.key),this.keysLoop(a.right,b))},merge:function(a,b){if(null==a)return b;if(null==b)return a;var c=this.minBinding(b);return this.balance(a,c.key,c.value,this.removeMinBinding(b))},minBinding:function(a){if(null==a)throw new aa("Not_found");return null==a.left?
a:this.minBinding(a.left)},removeMinBinding:function(a){return null==a.left?a.right:this.balance(this.removeMinBinding(a.left),a.key,a.value,a.right)},balance:function(a,b,c,d){var e=null==a?0:a._height,f=null==d?0:d._height;return e>f+2?(e=a.left,f=a.right,(null==e?0:e._height)>=(null==f?0:f._height)?new Ia(a.left,a.key,a.value,new Ia(a.right,b,c,d)):new Ia(new Ia(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new Ia(a.right.right,b,c,d))):f>e+2?(e=d.right,f=d.left,(null==e?0:e._height)>
(null==f?0:f._height)?new Ia(new Ia(a,b,c,d.left),d.key,d.value,d.right):new Ia(new Ia(a,b,c,d.left.left),d.left.key,d.left.value,new Ia(d.left.right,d.key,d.value,d.right))):new Ia(a,b,c,d,(e>f?e:f)+1)},compare:function(a,b){return A.compare(a,b)},__class__:Kb};var Ia=function(a,b,c,d,e){null==e&&(e=-1);this.left=a;this.key=b;this.value=c;this.right=d;-1==e?(a=this.left,b=this.right,a=(null==a?0:a._height)>(null==b?0:b._height)?this.left:this.right,a=null==a?0:a._height,this._height=a+1):this._height=
e};Ia.__name__=["haxe","ds","TreeNode"];Ia.prototype={left:null,right:null,key:null,value:null,_height:null,__class__:Ia};var Ra={__ename__:["haxe","ds","Either"],__constructs__:["Left","Right"],Left:function(a){a=["Left",0,a];a.__enum__=Ra;return a},Right:function(a){a=["Right",1,a];a.__enum__=Ra;return a}},wb=function(){};wb.__name__=["haxe","ds","EnumValueMap"];wb.__interfaces__=[Ta];wb.__super__=Kb;wb.prototype=G(Kb.prototype,{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),
d=b.slice(2);return 0==c.length&&0==d.length?0:this.compareArgs(c,d)},compareArgs:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(var c=0,d=a.length;c<d;){var e=c++,e=this.compareArg(a[e],b[e]);if(0!=e)return e}return 0},compareArg:function(a,b){return A.isEnumValue(a)&&A.isEnumValue(b)?this.compare(a,b):a instanceof Array&&null==a.__enum__&&b instanceof Array&&null==b.__enum__?this.compareArgs(a,b):A.compare(a,b)},__class__:wb});var Lb=function(){this.h={}};Lb.__name__=["haxe","ds","IntMap"];
Lb.__interfaces__=[Ta];Lb.prototype={h:null,set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return D.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},
__class__:Lb};var Wa=function(){this.h={__keys__:{}}};Wa.__name__=["haxe","ds","ObjectMap"];Wa.__interfaces__=[Ta];Wa.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++Wa.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&
a.push(this.h.__keys__[b]);return D.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:Wa};var y={__ename__:["haxe","ds","Option"],__constructs__:["Some","None"],Some:function(a){a=["Some",0,a];a.__enum__=y;return a},None:["None",1]};y.None.__enum__=y;var Wb=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};Wb.__name__=["haxe","ds","_StringMap","StringMapIterator"];
Wb.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=l[b]?a.getReserved(b):a.h[b]},__class__:Wb};var H=function(){this.h={}};H.__name__=["haxe","ds","StringMap"];H.__interfaces__=[Ta];H.prototype={h:null,rh:null,set:function(a,b){null!=l[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=l[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=l[a]?this.existsReserved(a):
this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=l[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return D.iter(this.arrayKeys())},arrayKeys:function(){var a=
[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new Wb(this,this.arrayKeys())},__class__:H};var aa=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,aa)};aa.__name__=["js","_Boot","HaxeError"];aa.wrap=function(a){return a instanceof Error?a:new aa(a)};aa.__super__=Error;aa.prototype=G(Error.prototype,{val:null,__class__:aa});
var La=function(){};La.__name__=["thx","ArrayFloats"];La.average=function(a){return La.sum(a)/a.length};La.compact=function(a){return a.filter(function(a){return null!=a?isFinite(a):!1})};La.max=function(a){return r.get(h.maxBy(a,J.order))};La.min=function(a){return r.get(h.minBy(a,J.order))};La.resize=function(a,b,c){for(null==c&&(c=0);a.length<b;)a.push(c);a.splice(b,a.length-b);return a};La.resized=function(a,b,c){null==c&&(c=0);a=a.slice();return La.resize(a,b,c)};La.standardDeviation=function(a){if(2>
a.length)return 0;var b=La.average(a);a=h.reduce(a,function(a,d){return a+Math.pow(d-b,2)},0)/(a.length-1);return Math.sqrt(a)};La.sum=function(a){return h.reduce(a,function(a,c){return a+c},0)};var Ka=function(){};Ka.__name__=["thx","ArrayInts"];Ka.average=function(a){return Ka.sum(a)/a.length};Ka.max=function(a){return r.get(h.maxBy(a,T.order))};Ka.min=function(a){return r.get(h.minBy(a,T.order))};Ka.resize=function(a,b,c){for(null==c&&(c=0);a.length<b;)a.push(c);a.splice(b,a.length-b);return a};
Ka.resized=function(a,b,c){null==c&&(c=0);a=a.slice();return Ka.resize(a,b,c)};Ka.sum=function(a){return h.reduce(a,function(a,c){return a+c},0)};var Sa=function(){};Sa.__name__=["thx","Bools"];Sa.compare=function(a,b){return a==b?0:a?-1:1};Sa.toInt=function(a){return a?1:0};Sa.canParse=function(a){a=a.toLowerCase();if(null==a)return!0;switch(a){case "0":case "1":case "false":case "off":case "on":case "true":return!0;default:return!1}};Sa.parse=function(a){a=a.toLowerCase();if(null==a)return!1;switch(a){case "1":case "on":case "true":return!0;
case "0":case "false":case "off":return!1;default:throw new aa('unable to parse "'+a+'"');}};Sa.xor=function(a,b){return a!=b};Sa.option=function(a,b){return a?y.Some(b):y.None};var nb={__name__:["thx","_Ord","Ord_Impl_"],order:function(a,b,c){return a(b,c)},max:function(a,b,c){switch(a(b,c)[1]){case 1:return b;case 0:case 2:return c}},min:function(a,b,c){switch(a(b,c)[1]){case 1:return c;case 0:case 2:return b}},equal:function(a,b,c){return a(b,c)==ua.EQ},contramap:function(a,b){return function(c,
d){var e=b(c),f=b(d);return a(e,f)}},inverse:function(a){return function(b,c){return a(c,b)}},intComparison:function(a,b,c){switch(a(b,c)[1]){case 0:return-1;case 1:return 1;case 2:return 0}},fromIntComparison:function(a){return function(b,c){return mc.fromInt(a(b,c))}},forComparable:function(){return function(a,b){return mc.fromInt(a.compareTo(b))}},forComparableOrd:function(){return function(a,b){return a.compareTo(b)}}},mc={__name__:["thx","_Ord","Ordering_Impl_"],fromInt:function(a){return 0>
a?ua.LT:0<a?ua.GT:ua.EQ},fromFloat:function(a){return 0>a?ua.LT:0<a?ua.GT:ua.EQ},toInt:function(a){switch(a[1]){case 0:return-1;case 1:return 1;case 2:return 0}}},ua={__ename__:["thx","OrderingImpl"],__constructs__:["LT","GT","EQ"],LT:["LT",0]};ua.LT.__enum__=ua;ua.GT=["GT",1];ua.GT.__enum__=ua;ua.EQ=["EQ",2];ua.EQ.__enum__=ua;var q=function(){};q.__name__=["thx","Dates"];q.compare=function(a,b){var c=a.getTime(),d=b.getTime();return c<d?-1:c>d?1:0};q.create=function(a,b,c,d,e,f){null==f&&(f=0);null==
e&&(e=0);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);e+=Math.floor(f/60);f%=60;0>f&&(f+=60);d+=Math.floor(e/60);e%=60;0>e&&(e+=60);c+=Math.floor(d/24);d%=24;0>d&&(d+=24);0==c&&(--b,0>b&&(b=11,--a),c=q.daysInMonth(a,b));a+=Math.floor(b/12);b%=12;0>b&&(b+=12);for(var m=q.daysInMonth(a,b);c>m;)c>m&&(c-=m,++b),11<b&&(b-=12,++a),m=q.daysInMonth(a,b);return new Date(a,b,c,d,e,f)};q.daysRange=function(a,b){if(0>q.compare(b,a))return[];for(var c=[];!q.sameDay(a,b);)c.push(a),a=q.jump(a,Y.Day,1);c.push(b);
return c};q.equals=function(a,b){return a.getTime()==b.getTime()};q.nearEquals=function(a,b,c,d){null==c&&(c=1);null==d&&(d=Y.Second);0>c&&(c=-c);var e=q.jump(a,d,-c);a=q.jump(a,d,c);return 0>=q.compare(e,b)?0<=q.compare(a,b):!1};q.greater=function(a,b){return 0<q.compare(a,b)};q.more=function(a,b){return 0<q.compare(a,b)};q.less=function(a,b){return 0>q.compare(a,b)};q.greaterEquals=function(a,b){return 0<=q.compare(a,b)};q.moreEqual=function(a,b){return 0<=q.compare(a,b)};q.lessEquals=function(a,
b){return 0>=q.compare(a,b)};q.lessEqual=function(a,b){return 0>=q.compare(a,b)};q.isLeapYear=function(a){return 0!=a%4?!1:0==a%100?0==a%400:!0};q.isInLeapYear=function(a){return q.isLeapYear(a.getFullYear())};q.daysInMonth=function(a,b){switch(b){case 1:return q.isLeapYear(a)?29:28;case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 3:case 5:case 8:case 10:return 30;default:throw new aa('Invalid month "'+b+'".  Month should be a number, Jan=0, Dec=11');}};q.numDaysInMonth=function(a,
b){return q.daysInMonth(b,a)};q.daysInThisMonth=function(a){return q.daysInMonth(a.getFullYear(),a.getMonth())};q.numDaysInThisMonth=function(a){return q.daysInThisMonth(a)};q.sameYear=function(a,b){return a.getFullYear()==b.getFullYear()};q.sameMonth=function(a,b){return q.sameYear(a,b)?a.getMonth()==b.getMonth():!1};q.sameDay=function(a,b){return q.sameMonth(a,b)?a.getDate()==b.getDate():!1};q.sameHour=function(a,b){return q.sameDay(a,b)?a.getHours()==b.getHours():!1};q.sameMinute=function(a,b){return q.sameHour(a,
b)?a.getMinutes()==b.getMinutes():!1};q.snapNext=function(a,b){var c=fc.snapNext(a.getTime(),b);return new Date(c)};q.snapPrev=function(a,b){var c=fc.snapPrev(a.getTime(),b);return new Date(c)};q.snapTo=function(a,b){var c=fc.snapTo(a.getTime(),b);return new Date(c)};q.jump=function(a,b,c){var d=a.getSeconds(),e=a.getMinutes(),f=a.getHours(),m=a.getDate(),g=a.getMonth();a=a.getFullYear();switch(b[1]){case 0:d+=c;break;case 1:e+=c;break;case 2:f+=c;break;case 3:m+=c;break;case 4:m+=7*c;break;case 5:g+=
c;break;case 6:a+=c}return q.create(a,g,m,f,e,d)};q.max=function(a,b){return a.getTime()>b.getTime()?a:b};q.min=function(a,b){return a.getTime()<b.getTime()?a:b};q.snapToWeekDay=function(a,b,c){null==c&&(c=0);var d=a.getDay();b<c&&(b+=7);d<c&&(d+=7);return q.jump(a,Y.Day,b-d)};q.snapNextWeekDay=function(a,b){var c=a.getDay(),d=b;d<c&&(d+=7);return q.jump(a,Y.Day,d-c)};q.snapPrevWeekDay=function(a,b){var c=a.getDay(),d=b;d>c&&(d-=7);return q.jump(a,Y.Day,d-c)};q.prevYear=function(a){return q.jump(a,
Y.Year,-1)};q.nextYear=function(a){return q.jump(a,Y.Year,1)};q.prevMonth=function(a){return q.jump(a,Y.Month,-1)};q.nextMonth=function(a){return q.jump(a,Y.Month,1)};q.prevWeek=function(a){return q.jump(a,Y.Week,-1)};q.nextWeek=function(a){return q.jump(a,Y.Week,1)};q.prevDay=function(a){return q.jump(a,Y.Day,-1)};q.nextDay=function(a){return q.jump(a,Y.Day,1)};q.prevHour=function(a){return q.jump(a,Y.Hour,-1)};q.nextHour=function(a){return q.jump(a,Y.Hour,1)};q.prevMinute=function(a){return q.jump(a,
Y.Minute,-1)};q.nextMinute=function(a){return q.jump(a,Y.Minute,1)};q.prevSecond=function(a){return q.jump(a,Y.Second,-1)};q.nextSecond=function(a){return q.jump(a,Y.Second,1)};q.withYear=function(a,b){return q.create(b,a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())};q.withMonth=function(a,b){return q.create(a.getFullYear(),b,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())};q.withDay=function(a,b){return q.create(a.getFullYear(),a.getMonth(),b,a.getHours(),a.getMinutes(),
a.getSeconds())};q.withHour=function(a,b){return q.create(a.getFullYear(),a.getMonth(),a.getDate(),b,a.getMinutes(),a.getSeconds())};q.withMinute=function(a,b){return q.create(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),b,a.getSeconds())};q.withSecond=function(a,b){return q.create(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),b)};q.parseDate=function(a){try{return I.Right(D.strDate(a))}catch(b){return ca.lastException=b,I.Left(""+a+" could not be parsed to a valid Date value.")}};
var qa=function(){};qa.__name__=["thx","Dynamics"];qa.equals=function(a,b){if(!oa.sameType(a,b))return!1;if(a==b)return!0;var c=U["typeof"](a);switch(c[1]){case 0:case 1:case 2:case 3:return!1;case 4:for(var c=A.fields(a),d=A.fields(b),e=0;e<c.length;){var f=c[e];++e;D.remove(d,f);if(!Object.prototype.hasOwnProperty.call(b,f))return!1;var m=A.field(a,f);if(!A.isFunction(m)&&(f=A.field(b,f),!qa.equals(m,f)))return!1}if(0<d.length)return!1;if((d=x.isIterator(a))||M.isIterable(a)){if(d&&!x.isIterator(b)||
!d&&!M.isIterable(b))return!1;c=d?x.toArray(a):x.toArray(k(a)());d=d?x.toArray(b):x.toArray(k(b)());if(c.length!=d.length)return!1;e=0;for(m=c.length;e<m;)if(f=e++,!qa.equals(c[f],d[f]))return!1}return!0;case 5:return A.compareMethods(a,b);case 6:c=U.getClassName(c[2]);d=U.getClassName(null==b?null:R.getClass(b));if(c!=d||"string"==typeof a)return!1;if(a instanceof Array&&null==a.__enum__){if(a.length!=b.length)return!1;c=0;for(d=a.length;c<d;)if(e=c++,!qa.equals(a[e],b[e]))return!1;return!0}if(R.__instanceof(a,
Date))return a.getTime()==b.getTime();if(R.__instanceof(a,Ta)){c=x.toArray(a.keys());d=x.toArray(b.keys());if(c.length!=d.length)return!1;for(d=0;d<c.length;)if(e=c[d],++d,!b.exists(e)||!qa.equals(a.get(e),b.get(e)))return!1;return!0}if((d=x.isIterator(a))||M.isIterable(a)){c=d?x.toArray(a):x.toArray(k(a)());d=d?x.toArray(b):x.toArray(k(b)());if(c.length!=d.length)return!1;e=0;for(m=c.length;e<m;)if(f=e++,!qa.equals(c[f],d[f]))return!1;return!0}c=null;Object.prototype.hasOwnProperty.call(a,"equals")?
(c=A.field(a,"equals"),d=A.isFunction(c)):d=!1;if(d)return c.apply(a,[b]);c=U.getInstanceFields(null==a?null:R.getClass(a));for(d=0;d<c.length;)if(m=c[d],++d,e=A.field(a,m),!A.isFunction(e)&&(m=A.field(b,m),!qa.equals(e,m)))return!1;return!0;case 7:c=U.getEnumName(c[2]);d=U.getEnum(b);d=U.getEnumName(d);if(c!=d||a[1]!=b[1])return!1;c=a.slice(2);d=b.slice(2);e=0;for(m=c.length;e<m;)if(f=e++,!qa.equals(c[f],d[f]))return!1;return!0;case 8:throw new aa("Unable to compare two unknown types");}};qa.clone=
function(a,b){null==b&&(b=!1);var c=U["typeof"](a);switch(c[1]){case 0:return null;case 4:return X.copyTo(a,{});case 1:case 2:case 3:case 5:case 7:case 8:return a;case 6:var d=c[2];switch(U.getClassName(d)){case "Array":return a.map(function(a){return qa.clone(a,b)});case "Date":case "String":return a;default:if(b){for(var c=U.createEmptyInstance(d),e=0,d=U.getInstanceFields(d);e<d.length;){var f=d[e];++e;c[f]=qa.clone(A.field(a,f),b)}return c}return a}}};qa.compare=function(a,b){if(null==a&&null==
b)return 0;if(null==a)return-1;if(null==b)return 1;if(!oa.sameType(a,b))return qb.compare(oa.toString(U["typeof"](a)),oa.toString(U["typeof"](b)));var c=U["typeof"](a);switch(c[1]){case 1:return T.compare(a,b);case 2:return a<b?-1:a>b?1:0;case 3:return Sa.compare(a,b);case 4:return X.compare(a,b);case 6:switch(U.getClassName(c[2])){case "Array":return h.compare(a,b);case "Date":return q.compare(a,b);case "String":return qb.compare(a,b);default:return Object.prototype.hasOwnProperty.call(a,"compare")?
A.field(a,"compare").apply(a,[b]):qb.compare(C.string(a),C.string(b))}case 7:return Ua.compare(a,b);default:return 0}};qa.string=function(a){var b=U["typeof"](a);switch(b[1]){case 0:return"null";case 1:case 2:case 3:return""+C.string(a);case 4:return X.string(a);case 5:return"<function>";case 6:switch(U.getClassName(b[2])){case "Array":return h.string(a);case "Date":return D.dateStr(a);case "String":return a;default:return R.__instanceof(a,Ta)?za.string(a):C.string(a)}case 7:return Ua.string(a);case 8:return"<unknown>"}};
var I={__ename__:["thx","Either"],__constructs__:["Left","Right"],Left:function(a){a=["Left",0,a];a.__enum__=I;return a},Right:function(a){a=["Right",1,a];a.__enum__=I;return a}},ea=function(){};ea.__name__=["thx","Eithers"];ea.isLeft=function(a){switch(a[1]){case 0:return!0;case 1:return!1}};ea.isRight=function(a){switch(a[1]){case 0:return!1;case 1:return!0}};ea.toLeft=function(a){switch(a[1]){case 0:return y.Some(a[2]);case 1:return y.None}};ea.toRight=function(a){switch(a[1]){case 0:return y.None;
case 1:return y.Some(a[2])}};ea.toLeftUnsafe=function(a){switch(a[1]){case 0:return a[2];case 1:return null}};ea.toRightUnsafe=function(a){switch(a[1]){case 0:return null;case 1:return a[2]}};ea.map=function(a,b){switch(a[1]){case 0:return I.Left(a[2]);case 1:return I.Right(b(a[2]))}};ea.ap=function(a,b){switch(a[1]){case 0:return I.Left(a[2]);case 1:var c=a[2];return ea.map(b,function(a){return a(c)})}};ea.flatMap=function(a,b){switch(a[1]){case 0:return I.Left(a[2]);case 1:return b(a[2])}};ea.leftMap=
function(a,b){switch(a[1]){case 0:return I.Left(b(a[2]));case 1:return I.Right(a[2])}};ea.orThrow=function(a,b){switch(a[1]){case 0:throw new V(""+b+": "+C.string(a[2]),null,{fileName:"Eithers.hx",lineNumber:103,className:"thx.Eithers",methodName:"orThrow"});case 1:return a[2]}};ea.toValidation=function(a){return a};ea.toVNel=function(a){return ea.leftMap(a,ma.pure)};ea.cata=function(a,b,c){switch(a[1]){case 0:return b(a[2]);case 1:return c(a[2])}};ea.foldLeft=function(a,b,c){switch(a[1]){case 0:return b;
case 1:return c(b,a[2])}};ea.foldMap=function(a,b,c){return ea.foldLeft(ea.map(a,b),gb.get_zero(c),function(a,b){return gb.append(c,a,b)})};ea.orElse=function(a,b){return 0==a[1]?b:a};ea.each=function(a,b){switch(a[1]){case 1:b(a[2])}};ea.eachLeft=function(a,b){switch(a[1]){case 0:b(a[2])}};ea.ensure=function(a,b,c){return 1==a[1]?b(a[2])?a:I.Left(c):a};var Ua=function(){};Ua.__name__=["thx","Enums"];Ua.string=function(a){var b=a[0],c=[],d=0;for(a=a.slice(2);d<a.length;){var e=a[d];++d;c.push(qa.string(e))}return b+
(0==c.length?"":"("+c.join(", ")+")")};Ua.compare=function(a,b){var c=T.compare(a[1],b[1]);return 0!=c?c:h.compare(a.slice(2),b.slice(2))};Ua.sameConstructor=function(a,b){return a[1]==b[1]};Ua.min=function(a,b){return 0>Ua.compare(a,b)?a:b};Ua.max=function(a,b){return 0<Ua.compare(a,b)?a:b};var V=function(a,b,c){Error.call(this,a);this.message=a;if(null==b){try{b=ca.exceptionStack()}catch(d){ca.lastException=d,b=[]}if(0==b.length)try{b=ca.callStack()}catch(d){ca.lastException=d,b=[]}}this.stackItems=
b;this.pos=c};V.__name__=["thx","Error"];V.fromDynamic=function(a,b){return R.__instanceof(a,V)?a:new sb(""+C.string(a),a,null,b)};V.__super__=Error;V.prototype=G(Error.prototype,{pos:null,stackItems:null,toString:function(){return this.message+"\nfrom: "+this.getPosition()+"\n\n"+this.stackToString()},getPosition:function(){return this.pos.className+"."+this.pos.methodName+"() at "+this.pos.lineNumber},stackToString:function(){return ca.toString(this.stackItems)},__class__:V});var J=function(){};
J.__name__=["thx","Floats"];J.angleDifference=function(a,b,c){null==c&&(c=360);a=(b-a)%c;0>a&&(a+=c);a>c/2&&(a-=c);return a};J.ceilTo=function(a,b){var c=Math.pow(10,b);return Math.ceil(a*c)/c};J.canParse=function(a){return J.pattern_parse.match(a)};J.clamp=function(a,b,c){return a<b?b:a>c?c:a};J.clampSym=function(a,b){var c=-b;return a<c?c:a>b?b:a};J.compare=function(a,b){return a<b?-1:a>b?1:0};J.floorTo=function(a,b){var c=Math.pow(10,b);return Math.floor(a*c)/c};J.interpolate=function(a,b,c){return(c-
b)*a+b};J.interpolateAngle=function(a,b,c,d){null==d&&(d=360);return J.wrapCircular(J.interpolate(a,b,b+J.angleDifference(b,c,d)),d)};J.interpolateAngleWidest=function(a,b,c,d){null==d&&(d=360);return J.wrapCircular(J.interpolateAngle(a,b,c,d)-d/2,d)};J.interpolateAngleCW=function(a,b,c,d){null==d&&(d=360);b=J.wrapCircular(b,d);c=J.wrapCircular(c,d);c<b&&(c+=d);return J.wrapCircular(J.interpolate(a,b,c),d)};J.interpolateAngleCCW=function(a,b,c,d){null==d&&(d=360);b=J.wrapCircular(b,d);c=J.wrapCircular(c,
d);c>b&&(c-=d);return J.wrapCircular(J.interpolate(a,b,c),d)};J.max=function(a,b){return a>b?a:b};J.min=function(a,b){return a<b?a:b};J.nearEquals=function(a,b,c){null==c&&(c=1E-9);return isFinite(a)?Math.abs(a-b)<=c:isNaN(a)?isNaN(b):isNaN(b)?!1:isFinite(b)?!1:0<a==0<b};J.nearEqualAngles=function(a,b,c,d){null==d&&(d=1E-9);null==c&&(c=360);return Math.abs(J.angleDifference(a,b,c))<=d};J.nearZero=function(a,b){null==b&&(b=1E-9);return Math.abs(a)<=b};J.normalize=function(a){return 0>a?0:1<a?1:a};
J.parse=function(a){"+"==a.substring(0,1)&&(a=a.substring(1));return parseFloat(a)};J.root=function(a,b){return Math.pow(a,1/b)};J.roundTo=function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c};J.sign=function(a){return 0>a?-1:1};J.toString=function(a){return""+a};J.toFloat=function(a){return J.parse(a)};J.trunc=function(a){return 0>a?Math.ceil(a):Math.floor(a)};J.ftrunc=function(a){return 0>a?Math.ceil(a):Math.floor(a)};J.wrap=function(a,b,c){c=c-b+1;a<b&&(a+=c*((b-a)/c+1));return b+(a-b)%
c};J.wrapCircular=function(a,b){a%=b;0>a&&(a+=b);return a};var ga=function(){};ga.__name__=["thx","Functions2"];ga.memoize=function(a,b){null==b&&(b=function(a,b){return""+C.string(a)+":"+C.string(b)});var c=new H;return function(d,e){var f=b(d,e);if(null!=l[f]?c.existsReserved(f):c.h.hasOwnProperty(f))return null!=l[f]?c.getReserved(f):c.h[f];var m=a(d,e);null!=l[f]?c.setReserved(f,m):c.h[f]=m;return m}};ga.curry=function(a){return function(b){return function(c){return a(b,c)}}};ga.join=function(a,
b){return function(c,d){a(c,d);b(c,d)}};ga.negate=function(a){return function(b,c){return!a(b,c)}};var ta=function(){};ta.__name__=["thx","Functions"];ta.equality=function(a,b){return a==b};ta.identity=function(a){return a};ta.noop=function(){};ta.lift=function(a,b){return b(a)};var T=function(){};T.__name__=["thx","Ints"];T.abs=function(a){return 0>a?-a:a};T.canParse=function(a){return T.pattern_parse.match(a)};T.clamp=function(a,b,c){return a<b?b:a>c?c:a};T.clampSym=function(a,b){var c=-b;return a<
c?c:a>b?b:a};T.compare=function(a,b){return a-b};T.gcd=function(a,b){0>a&&(a=-a);0>b&&(b=-b);return 0==b?a:T.gcd(b,a%b)};T.interpolate=function(a,b,c){return Math.round(b+(c-b)*a)};T.isEven=function(a){return 0==a%2};T.isOdd=function(a){return 0!=a%2};T.lpad=function(a,b,c){null==b&&(b="0");var d=!1;0>a&&(d=!0,a=-a);return(d?"-":"")+N.lpad(""+a,b,c)};T.lcm=function(a,b){0>a&&(a=-a);0>b&&(b=-b);return 0==b?a:a*(b/T.gcd(a,b)|0)};T.rpad=function(a,b,c){null==b&&(b="0");return N.rpad(""+a,b,c)};T.max=
function(a,b){return a>b?a:b};T.min=function(a,b){return a<b?a:b};T.parse=function(a,b){null==b&&(b="0x"==a.substring(0,2)?16:10);var c=parseInt(a,b);return isNaN(c)?null:c};T.random=function(a,b){null==a&&(a=0);return C.random(b-a+1)+a};T.range=function(a,b,c){null==c&&(c=1);null==b&&(b=a,a=0);if(Infinity==(b-a)/c)throw new aa("infinite range");var d=[],e=-1,f;if(0>c)for(;;){f=a+c*++e;if(!(f>b))break;d.push(f)}else for(;;){f=a+c*++e;if(!(f<b))break;d.push(f)}return d};T.rangeIter=function(a,b,c){null==
c&&(c=1);return new Xb(a,b,c)};T.toString=function(a,b){return a.toString(b)};T.toBase=function(a,b){return a.toString(b)};T.toBool=function(a){return 0!=a};T.toInt=function(a,b){return T.parse(a,b)};T.sign=function(a){return 0>a?-1:1};T.wrapCircular=function(a,b){a%=b;0>a&&(a+=b);return a};var Xb=function(a,b,c){null==c&&(c=1);this.current=a;this.stop=b;this.step=c};Xb.__name__=["thx","RangeIterator"];Xb.prototype={current:null,stop:null,step:null,hasNext:function(){return null==this.stop||0<=this.step&&
this.current<this.stop?!0:0>this.step?this.current>this.stop:!1},next:function(){var a=this.current;this.current+=this.step;return a},__class__:Xb};var M=function(){};M.__name__=["thx","Iterables"];M.all=function(a,b){return x.all(k(a)(),b)};M.any=function(a,b){return x.any(k(a)(),b)};M.eachPair=function(a,b){x.eachPair(k(a)(),b)};M.equals=function(a,b,c){return x.equals(k(a)(),k(b)(),c)};M.filter=function(a,b){return x.filter(k(a)(),b)};M.find=function(a,b){return x.find(k(a)(),b)};M.findOption=
function(a,b){var c=x.find(k(a)(),b);return null==c?y.None:y.Some(c)};M.first=function(a){return x.first(k(a)())};M.get=function(a,b){return x.get(k(a)(),b)};M.getOption=function(a,b){var c=x.get(k(a)(),b);return null==c?y.None:y.Some(c)};M.last=function(a){return x.last(k(a)())};M.hasElements=function(a){return k(a)().hasNext()};M.indexOf=function(a,b){return x.indexOf(k(a)(),b)};M.isEmpty=function(a){return!k(a)().hasNext()};M.isIterable=function(a){var b;b=A.isObject(a)&&null==(null==a?null:R.getClass(a))?
A.fields(a):U.getInstanceFields(null==a?null:R.getClass(a));return yb.has(b,"iterator")?A.isFunction(A.field(a,"iterator")):!1};M.map=function(a,b){return x.map(k(a)(),b)};M.fmap=function(a,b){return{iterator:function(){return x.fmap(k(a)(),b)}}};M.mapi=function(a,b){return x.mapi(k(a)(),b)};M.fmapi=function(a,b){return{iterator:function(){return x.fmapi(k(a)(),b)}}};M.order=function(a,b){return x.order(k(a)(),b)};M.reduce=function(a,b,c){return x.reduce(k(a)(),b,c)};M.reducei=function(a,b,c){return x.reducei(k(a)(),
b,c)};M.toArray=function(a){return x.toArray(k(a)())};M.minBy=function(a,b,c){var d=y.None;for(a=k(a)();a.hasNext();){var e=[a.next()];r.any(d,function(a){return function(d){d=b(d);var e=b(a[0]);return c(d,e)==ua.LT}}(e))||(d=y.Some(e[0]))}return d};M.maxBy=function(a,b,c){return M.minBy(a,b,nb.inverse(c))};M.min=function(a,b){return M.minBy(a,ta.identity,b)};M.max=function(a,b){return M.minBy(a,ta.identity,nb.inverse(b))};M.extremaBy=function(a,b,c){var d=y.None;for(a=k(a)();a.hasNext();){var e=
a.next();switch(d[1]){case 0:var f=d[2];c(b(e),b(f._0))==ua.LT?d=y.Some({_0:e,_1:f._1}):(f=d[2],c(b(e),b(f._1))==ua.GT&&(d=y.Some({_0:f._0,_1:e})));break;case 1:d=y.Some({_0:e,_1:e})}}return d};M.extrema=function(a,b){return M.extremaBy(a,ta.identity,b)};M.takeUntil=function(a,b){return x.takeUntil(k(a)(),b)};M.dropLeft=function(a,b){return{iterator:function(){for(var c=k(a)();0<b;)c.hasNext()&&c.next();return{next:v(c,c.next),hasNext:v(c,c.hasNext)}}}};M.dropUntil=function(a,b){return x.dropUntil(k(a)(),
b)};M.unionBy=function(a,b,c){var d=[];for(a=k(a)();a.hasNext();){var e=a.next();d.push(e)}for(b=k(b)();b.hasNext();)a=[b.next()],M.any(d,function(a){return function(b){return c(b,a[0])}}(a))||d.push(a[0]);return d};M.differenceBy=function(a,b,c){var d=[];for(a=k(a)();a.hasNext();){var e=[a.next()];M.any(b,function(a){return function(b){return c(b,a[0])}}(e))||d.push(e[0])}return d};M.unzip=function(a){return x.unzip(k(a)())};M.unzip3=function(a){return x.unzip3(k(a)())};M.unzip4=function(a){return x.unzip4(k(a)())};
M.unzip5=function(a){return x.unzip5(k(a)())};M.zip=function(a,b){return x.zip(k(a)(),k(b)())};M.zip3=function(a,b,c){return x.zip3(k(a)(),k(b)(),k(c)())};M.zip4=function(a,b,c,d){return x.zip4(k(a)(),k(b)(),k(c)(),k(d)())};M.zip5=function(a,b,c,d,e){return x.zip5(k(a)(),k(b)(),k(c)(),k(d)(),k(e)())};var x=function(){};x.__name__=["thx","Iterators"];x.all=function(a,b){for(;a.hasNext();){var c=a.next();if(!b(c))return!1}return!0};x.any=function(a,b){for(;a.hasNext();){var c=a.next();if(b(c))return!0}return!1};
x.equals=function(a,b,c){null==c&&(c=ta.equality);for(var d,e;;){d=a.hasNext();e=b.hasNext();if(!d&&!e)return!0;if(!d||!e||!c(a.next(),b.next()))return!1}};x.get=function(a,b){for(var c=0;a.hasNext();){var d=a.next();if(c++==b)return d}return null};x.getOption=function(a,b){var c=x.get(a,b);return null==c?y.None:y.Some(c)};x.eachPair=function(a,b){h.eachPair(x.toArray(a),b)};x.filter=function(a,b){return x.reduce(a,function(a,d){b(d)&&a.push(d);return a},[])};x.find=function(a,b){for(;a.hasNext();){var c=
a.next();if(b(c))return c}return null};x.findOption=function(a,b){var c=x.find(a,b);return null==c?y.None:y.Some(c)};x.first=function(a){return a.hasNext()?a.next():null};x.hasElements=function(a){return a.hasNext()};x.indexOf=function(a,b){for(var c=0;a.hasNext();){var d=a.next();if(b==d)return c;++c}return-1};x.isEmpty=function(a){return!a.hasNext()};x.isIterator=function(a){var b;b=A.isObject(a)&&null==(null==a?null:R.getClass(a))?A.fields(a):U.getInstanceFields(null==a?null:R.getClass(a));return yb.has(b,
"next")&&yb.has(b,"hasNext")?A.isFunction(A.field(a,"next"))?A.isFunction(A.field(a,"hasNext")):!1:!1};x.last=function(a){for(var b=null;a.hasNext();)b=a.next();return b};x.forEach=function(a,b){for(;a.hasNext();)b(a.next())};x.map=function(a,b){for(var c=[];a.hasNext();){var d=a.next();c.push(b(d))}return c};x.fmap=function(a,b){return new Yb(a,b)};x.mapi=function(a,b){for(var c=[],d=0;a.hasNext();){var e=a.next();c.push(b(e,d++))}return c};x.fmapi=function(a,b){return new Zb(a,b)};x.order=function(a,
b){var c=x.toArray(a);c.sort(b);return c};x.reduce=function(a,b,c){for(;a.hasNext();)c=b(c,a.next());return c};x.reducei=function(a,b,c){x.mapi(a,function(a,e){c=b(c,a,e)});return c};x.foldLeft=function(a,b,c){return x.reduce(a,c,b)};x.foldMap=function(a,b,c){return x.foldLeft(x.fmap(a,b),gb.get_zero(c),function(a,b){return gb.append(c,a,b)})};x.takeUntil=function(a,b){for(var c=[];a.hasNext();){var d=a.next();if(b(d))c.push(d);else break}return c};x.dropUntil=function(a,b){for(var c=!1,d=[];a.hasNext();){var e=
a.next();c?d.push(e):b(e)||(c=!0,d.push(e))}return d};x.toArray=function(a){for(var b=[];a.hasNext();){var c=a.next();b.push(c)}return b};x.unzip=function(a){var b=[],c=[];x.forEach(a,function(a){b.push(a._0);c.push(a._1)});return{_0:b,_1:c}};x.unzip3=function(a){var b=[],c=[],d=[];x.forEach(a,function(a){b.push(a._0);c.push(a._1);d.push(a._2)});return{_0:b,_1:c,_2:d}};x.unzip4=function(a){var b=[],c=[],d=[],e=[];x.forEach(a,function(a){b.push(a._0);c.push(a._1);d.push(a._2);e.push(a._3)});return{_0:b,
_1:c,_2:d,_3:e}};x.unzip5=function(a){var b=[],c=[],d=[],e=[],f=[];x.forEach(a,function(a){b.push(a._0);c.push(a._1);d.push(a._2);e.push(a._3);f.push(a._4)});return{_0:b,_1:c,_2:d,_3:e,_4:f}};x.zip=function(a,b){for(var c=[];a.hasNext()&&b.hasNext();){var d={_0:a.next(),_1:b.next()};c.push(d)}return c};x.zip3=function(a,b,c){for(var d=[];a.hasNext()&&b.hasNext()&&c.hasNext();){var e={_0:a.next(),_1:b.next(),_2:c.next()};d.push(e)}return d};x.zip4=function(a,b,c,d){for(var e=[];a.hasNext()&&b.hasNext()&&
c.hasNext()&&d.hasNext();){var f={_0:a.next(),_1:b.next(),_2:c.next(),_3:d.next()};e.push(f)}return e};x.zip5=function(a,b,c,d,e){for(var f=[];a.hasNext()&&b.hasNext()&&c.hasNext()&&d.hasNext()&&e.hasNext();){var m={_0:a.next(),_1:b.next(),_2:c.next(),_3:d.next(),_4:e.next()};f.push(m)}return f};var Yb=function(a,b){this.base=a;this.f=b};Yb.__name__=["thx","MapIterator"];Yb.prototype={base:null,f:null,next:function(){return this.f(this.base.next())},hasNext:function(){return this.base.hasNext()},
__class__:Yb};var Zb=function(a,b){this.i=0;this.base=a;this.f=b};Zb.__name__=["thx","MapIIterator"];Zb.prototype={base:null,f:null,i:null,next:function(){var a=this.f(this.base.next(),this.i);this.i++;return a},hasNext:function(){return this.base.hasNext()},__class__:Zb};var za=function(){};za.__name__=["thx","Maps"];za.copyTo=function(a,b){for(var c=a.keys();c.hasNext();){var d=c.next();b.set(d,a.get(d))}return b};za.tuples=function(a){return x.map(a.keys(),function(b){return{_0:b,_1:a.get(b)}})};
za.mapValues=function(a,b,c){return za.reduce(a,function(a,c){a.set(c._0,b(c._1));return a},c)};za.reduce=function(a,b,c){return h.reduce(za.tuples(a),b,c)};za.values=function(a){return x.map(a.keys(),function(b){return a.get(b)})};za.foldLeftWithKeys=function(a,b,c){return x.reduce(a.keys(),function(c,e){return b(c,e,a.get(e))},c)};za.getOption=function(a,b){var c=a.get(b);return null==c?y.None:y.Some(c)};za.toObject=function(a){return h.reduce(za.tuples(a),function(a,c){a[c._0]=c._1;return a},{})};
za.getAlt=function(a,b,c){a=a.get(b);return null==a?c:a};za.isMap=function(a){return R.__instanceof(a,Ta)};za.string=function(a){return"["+za.tuples(a).map(function(a){return qa.string(a._0)+" => "+qa.string(a._1)}).join(", ")+"]"};za.merge=function(a,b){return h.reduce(b,function(a,b){return x.reduce(b.keys(),function(a,c){a.set(c,b.get(c));return a},a)},a)};var gb={__name__:["thx","_Monoid","Monoid_Impl_"],get_semigroup:function(a){return a.append},get_zero:function(a){return a.zero},append:function(a,
b,c){return a.append(b,c)}},ma={__name__:["thx","_Nel","Nel_Impl_"],nel:function(a,b){var c=ma.fromArray(b);switch(c[1]){case 0:return ma.cons(a,c[2]);case 1:return ma.pure(a)}},pure:function(a){return Va.Single(a)},cons:function(a,b){return Va.ConsNel(a,b)},fromArray:function(a){if(0==a.length)return y.None;for(var b=Va.Single(a[a.length-1]),c=T.rangeIter(a.length-2,-1,-1);c.hasNext();)var d=c.next(),b=Va.ConsNel(a[d],b);return y.Some(b)},map:function(a,b){return ma.flatMap(a,function(a){return ma.pure(b(a))})},
flatMap:function(a,b){switch(a[1]){case 0:return b(a[2]);case 1:var c=a[3];return ma.append(b(a[2]),ma.flatMap(c,b))}},fold:function(a,b){switch(a[1]){case 0:return a[2];case 1:return b(a[2],ma.fold(a[3],b))}},append:function(a,b){switch(a[1]){case 0:return Va.ConsNel(a[2],b);case 1:return Va.ConsNel(a[2],ma.append(a[3],b))}},head:function(a){switch(a[1]){case 0:return a[2];case 1:return a[2]}},tail:function(a){switch(a[1]){case 0:return[];case 1:return ma.toArray(a[3])}},init:function(a){switch(a[1]){case 0:return[];
case 1:return[a[2]].concat(ma.init(a[3]))}},last:function(a){switch(a[1]){case 0:return a[2];case 1:return ma.last(a[3])}},push:function(a,b){return ma.append(a,Va.Single(b))},pop:function(a){return{_0:ma.last(a),_1:ma.init(a)}},unshift:function(a,b){return Va.ConsNel(b,a)},shift:function(a){return{_0:ma.head(a),_1:ma.tail(a)}},toArray:function(a){var b=null,b=function(a,d){switch(d[1]){case 0:return h.append(a,d[2]);case 1:var c=d[3],f=h.append(a,d[2]);return b(f,c)}};return b([],a)},semigroup:function(){return function(a,
b){return ma.append(a,b)}}},Va={__ename__:["thx","NonEmptyList"],__constructs__:["Single","ConsNel"],Single:function(a){a=["Single",0,a];a.__enum__=Va;return a},ConsNel:function(a,b){var c=["ConsNel",1,a,b];c.__enum__=Va;return c}},rb={__ename__:["thx","Nil"],__constructs__:["nil"],nil:["nil",0]};rb.nil.__enum__=rb;var X=function(){};X.__name__=["thx","Objects"];X.compare=function(a,b){var c,d=A.fields(a);c=h.compare(d,A.fields(b));if(0!=c)return c;for(var e=0;e<d.length;)if(c=d[e],++e,c=qa.compare(A.field(a,
c),A.field(b,c)),0!=c)return c;return 0};X.isEmpty=function(a){return 0==A.fields(a).length};X.exists=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};X.fields=function(a){return A.fields(a)};X.deflate=function(a,b){null==b&&(b=!0);var c=null,c=function(a){return a instanceof Array&&null==a.__enum__?b?I.Right(h.reducei(a,function(a,b,d){b=c(b);switch(b[1]){case 0:b=b[2];d=""+d;null!=l[d]?a.setReserved(d,b):a.h[d]=b;break;case 1:b=b[2];for(var e=b.keys();e.hasNext();){var f=e.next(),
m=""+d+"."+f,f=null!=l[f]?b.getReserved(f):b.h[f];null!=l[m]?a.setReserved(m,f):a.h[m]=f}}return a},new H)):I.Left(a):A.isObject(a)&&null==(null==a?null:R.getClass(a))?I.Right(h.reduce(A.fields(a),function(b,d){var e=A.field(a,d),e=c(e);switch(e[1]){case 0:var e=e[2],f=""+d;null!=l[f]?b.setReserved(f,e):b.h[f]=e;break;case 1:for(e=e[2],f=e.keys();f.hasNext();){var m=f.next(),g=""+d+"."+m,m=null!=l[m]?e.getReserved(m):e.h[m];null!=l[g]?b.setReserved(g,m):b.h[g]=m}}return b},new H)):I.Left(a)},d=c(a);
switch(d[1]){case 0:return d[2];case 1:return za.toObject(d[2])}};X.inflate=function(a){return h.reduce(A.fields(a),function(b,c){return X.setPath(b,c,A.field(a,c))},{})};X.combine=function(a,b){return X.shallowCombine(a,b)};X.shallowCombine=function(a,b){for(var c={},d=0,e=A.fields(a);d<e.length;){var f=e[d];++d;c[f]=A.field(a,f)}d=0;for(e=A.fields(b);d<e.length;)f=e[d],++d,c[f]=A.field(b,f);return c};X.deepCombine=function(a,b){return X.copyTo(b,a,!0)};X.assign=function(a,b,c){null==c&&(c=function(a,
b,c){return c});for(var d=0,e=A.fields(b);d<e.length;){var f=e[d];++d;var m=A.field(b,f);Object.prototype.hasOwnProperty.call(a,f)?a[f]=c(f,A.field(a,f),m):a[f]=m}return a};X.copyTo=function(a,b,c){null==c&&(c=!1);for(var d=0,e=A.fields(a);d<e.length;){var f=e[d];++d;var m=qa.clone(A.field(a,f),c),g=A.field(b,f),h;A.isObject(m)?(h=m,h=null==(null==h?null:R.getClass(h))):h=!1;h?A.isObject(g)?(h=g,h=null==(null==h?null:R.getClass(h))):h=!1:h=!1;h?X.copyTo(m,g):b[f]=m}return b};X.clone=function(a,b){null==
b&&(b=!1);return qa.clone(a,b)};X.toMap=function(a){return h.reduce(X.tuples(a),function(a,c){var b=c._0,e=c._1;null!=l[b]?a.setReserved(b,e):a.h[b]=e;return a},new H)};X.size=function(a){return A.fields(a).length};X.string=function(a){return"{"+A.fields(a).map(function(b){var c=A.field(a,b),c="string"==typeof c?t.quote(c):qa.string(c);return""+b+" : "+c}).join(", ")+"}"};X.stringImpl=function(a,b){};X.values=function(a){return A.fields(a).map(function(b){return A.field(a,b)})};X.tuples=function(a){return A.fields(a).map(function(b){return{_0:b,
_1:A.field(a,b)}})};X.hasPath=function(a,b){b=b.replace(RegExp("\\[(\\d+)\\]","g"),".$1");for(var c=b.split("."),d=a,e=0;e<c.length;){var f=c[e];++e;if(t.DIGITS.match(f)){f=C.parseInt(f);d=d instanceof Array?d:null;if(null==d||d.length<=f)return!1;d=d[f]}else if(Object.prototype.hasOwnProperty.call(d,f))d=A.field(d,f);else return!1}return!0};X.hasPathValue=function(a,b){return null!=X.getPath(a,b)};X.getPath=function(a,b){b=b.replace(RegExp("\\[(\\d+)\\]","g"),".$1");for(var c=b.split("."),d=a,e=
0;e<c.length;){var f=c[e];++e;if(null==d)return null;if(t.DIGITS.match(f)){f=C.parseInt(f);d=d instanceof Array?d:null;if(null==d)return null;d=d[f]}else if(Object.prototype.hasOwnProperty.call(d,f))d=A.field(d,f);else return null}return d};X.getPathOption=function(a,b){var c=X.getPath(a,b);return null==c?y.None:y.Some(c)};X.parsePath=function(a,b,c){a=r.toSuccessNel(X.getPathOption(a,b),"Object does not contain path "+b);switch(a[1]){case 0:return I.Left(a[2]);case 1:return c(a[2])}};X.getPathOr=
function(a,b,c){return r.getOrElse(X.getPathOption(a,b),c)};X.setPath=function(a,b,c){b=b.replace(RegExp("\\[(\\d+)\\]","g"),".$1");var d=b.split(".");b=a;for(var e=0,f=d.length-1;e<f;){var m=e++,g=d[m],m=d[m+1];t.DIGITS.match(g)||"*"==g?(g="*"==g?b.length:C.parseInt(g),null==b[g]&&(t.DIGITS.match(m)||"*"==m?b[g]=[]:b[g]={}),b=b[g]):(Object.prototype.hasOwnProperty.call(b,g)||(t.DIGITS.match(m)||"*"==m?b[g]=[]:b[g]={}),b=A.field(b,g))}d=d[d.length-1];t.DIGITS.match(d)?(d=C.parseInt(d),b[d]=c):"*"==
d?b.push(c):b[d]=c;return a};X.removePath=function(a,b){b=b.replace(RegExp("\\[(\\d+)\\]","g"),".$1");var c=b.split("."),d=c.pop();try{var e=h.reduce(c,function(a,b){if("*"==b)return a.pop();if(t.DIGITS.match(b)){var c=C.parseInt(b);return a[c]}return A.field(a,b)},a);null!=e&&A.deleteField(e,d)}catch(f){ca.lastException=f}return a};X.normalizePath=function(a){return a.replace(RegExp("\\[(\\d+)\\]","g"),".$1")};var r=function(){};r.__name__=["thx","Options"];r.ofValue=function(a){return null==a?y.None:
y.Some(a)};r.maybe=function(a){return null==a?y.None:y.Some(a)};r.equals=function(a,b,c){switch(a[1]){case 0:return 0==b[1]?(a=a[2],b=b[2],null==c&&(c=function(a,b){return a==b}),c(a,b)):!1;case 1:return 1==b[1]?!0:!1}};r.equalsValue=function(a,b,c){return r.equals(a,null==b?y.None:y.Some(b),c)};r.map=function(a,b){switch(a[1]){case 0:return y.Some(b(a[2]));case 1:return y.None}};r.ap=function(a,b){switch(a[1]){case 0:var c=a[2];return r.map(b,function(a){return a(c)});case 1:return y.None}};r.flatMap=
function(a,b){switch(a[1]){case 0:return b(a[2]);case 1:return y.None}};r.join=function(a){switch(a[1]){case 0:return a[2];case 1:return y.None}};r.cata=function(a,b,c){switch(a[1]){case 0:return c(a[2]);case 1:return b}};r.cataf=function(a,b,c){switch(a[1]){case 0:return c(a[2]);case 1:return b()}};r.foldLeft=function(a,b,c){switch(a[1]){case 0:return c(b,a[2]);case 1:return b}};r.foldLeftf=function(a,b,c){switch(a[1]){case 0:return a=a[2],c(b(),a);case 1:return b()}};r.foldMap=function(a,b,c){return r.foldLeft(r.map(a,
b),gb.get_zero(c),function(a,b){return gb.append(c,a,b)})};r.filter=function(a,b){return 0==a[1]?b(a[2])?a:y.None:y.None};r.toArray=function(a){switch(a[1]){case 0:return[a[2]];case 1:return[]}};r.toBool=function(a){switch(a[1]){case 0:return!0;case 1:return!1}};r.isNone=function(a){return!r.toBool(a)};r.toOption=function(a){return null==a?y.None:y.Some(a)};r.get=function(a){switch(a[1]){case 0:return a[2];case 1:return null}};r.getOrElse=function(a,b){switch(a[1]){case 0:return a[2];case 1:return b}};
r.getOrThrow=function(a,b,c){null==b&&(b=new V("Could not extract value from option",null,c));switch(a[1]){case 0:return a[2];case 1:throw b;}};r.getOrFail=function(a,b,c){return r.getOrThrow(a,new V(b,null,c),{fileName:"Options.hx",lineNumber:199,className:"thx.Options",methodName:"getOrFail"})};r.orElse=function(a,b){switch(a[1]){case 0:return a;case 1:return b}};r.all=function(a,b){switch(a[1]){case 0:return b(a[2]);case 1:return!0}};r.any=function(a,b){switch(a[1]){case 0:return b(a[2]);case 1:return!1}};
r.traverseValidation=function(a,b){switch(a[1]){case 0:return z.map(b(a[2]),function(a){return y.Some(a)});case 1:return I.Right(y.None)}};r.toSuccess=function(a,b){switch(a[1]){case 0:return I.Right(a[2]);case 1:return I.Left(b)}};r.toSuccessNel=function(a,b){switch(a[1]){case 0:return I.Right(a[2]);case 1:return I.Left(ma.pure(b))}};r.toFailure=function(a,b){switch(a[1]){case 0:return I.Left(a[2]);case 1:return I.Right(b)}};r.toFailureNel=function(a,b){switch(a[1]){case 0:return I.Left(ma.pure(a[2]));
case 1:return I.Right(b)}};r.toRight=function(a,b){switch(a[1]){case 0:return I.Right(a[2]);case 1:return I.Left(b)}};r.toLeft=function(a,b){switch(a[1]){case 0:return I.Left(a[2]);case 1:return I.Right(b)}};r.each=function(a,b){switch(a[1]){case 0:return b(a[2]),a;case 1:return a}};r.ap2=function(a,b,c){return r.ap(c,r.map(b,ga.curry(a)))};r.ap3=function(a,b,c,d){return r.ap(d,r.ap(c,r.map(b,ga.curry(function(b,c){return function(d){return a(b,c,d)}}))))};r.ap4=function(a,b,c,d,e){var f=function(b,
c,d){return function(e){return a(b,c,d,e)}};return r.ap(e,r.ap(d,r.ap(c,r.map(b,ga.curry(function(a,b){return function(c){return f(a,b,c)}})))))};r.ap5=function(a,b,c,d,e,f){var g=function(b,c,d,e){return function(f){return a(b,c,d,e,f)}},h=function(a,b,c){return function(d){return g(a,b,c,d)}};return r.ap(f,r.ap(e,r.ap(d,r.ap(c,r.map(b,ga.curry(function(a,b){return function(c){return h(a,b,c)}}))))))};r.ap6=function(a,b,c,d,e,f,g){var m=function(b,c,d,e,f){return function(g){return a(b,c,d,e,f,g)}},
h=function(a,b,c,d){return function(e){return m(a,b,c,d,e)}},k=function(a,b,c){return function(d){return h(a,b,c,d)}};return r.ap(g,r.ap(f,r.ap(e,r.ap(d,r.ap(c,r.map(b,ga.curry(function(a,b){return function(c){return k(a,b,c)}})))))))};r.ap7=function(a,b,c,d,e,f,g,h){var m=function(b,c,d,e,f,g){return function(m){return a(b,c,d,e,f,g,m)}},k=function(a,b,c,d,e){return function(f){return m(a,b,c,d,e,f)}},l=function(a,b,c,d){return function(e){return k(a,b,c,d,e)}},p=function(a,b,c){return function(d){return l(a,
b,c,d)}};return r.ap(h,r.ap(g,r.ap(f,r.ap(e,r.ap(d,r.ap(c,r.map(b,ga.curry(function(a,b){return function(c){return p(a,b,c)}}))))))))};r.ap8=function(a,b,c,d,e,f,g,h,k){var m=function(b,c,d,e,f,g,m){return function(h){return a(b,c,d,e,f,g,m,h)}},l=function(a,b,c,d,e,f){return function(g){return m(a,b,c,d,e,f,g)}},p=function(a,b,c,d,e){return function(f){return l(a,b,c,d,e,f)}},n=function(a,b,c,d){return function(e){return p(a,b,c,d,e)}},W=function(a,b,c){return function(d){return n(a,b,c,d)}};return r.ap(k,
r.ap(h,r.ap(g,r.ap(f,r.ap(e,r.ap(d,r.ap(c,r.map(b,ga.curry(function(a,b){return function(c){return W(a,b,c)}})))))))))};r.combine=function(a,b){return r.ap(b,r.map(a,ga.curry(nc.of)))};r.combine2=function(a,b){return r.ap(b,r.map(a,ga.curry(nc.of)))};r.combine3=function(a,b,c){var d=uc.of;return r.ap(c,r.ap(b,r.map(a,ga.curry(function(a,b){return function(c){return d(a,b,c)}}))))};r.combine4=function(a,b,c,d){var e=vc.of,f=function(a,b,c){return function(d){return e(a,b,c,d)}};return r.ap(d,r.ap(c,
r.ap(b,r.map(a,ga.curry(function(a,b){return function(c){return f(a,b,c)}})))))};r.combine5=function(a,b,c,d,e){var f=wc.of,g=function(a,b,c,d){return function(e){return f(a,b,c,d,e)}},h=function(a,b,c){return function(d){return g(a,b,c,d)}};return r.ap(e,r.ap(d,r.ap(c,r.ap(b,r.map(a,ga.curry(function(a,b){return function(c){return h(a,b,c)}}))))))};r.combine6=function(a,b,c,d,e,f){var g=xc.of,h=function(a,b,c,d,e){return function(f){return g(a,b,c,d,e,f)}},k=function(a,b,c,d){return function(e){return h(a,
b,c,d,e)}},l=function(a,b,c){return function(d){return k(a,b,c,d)}};return r.ap(f,r.ap(e,r.ap(d,r.ap(c,r.ap(b,r.map(a,ga.curry(function(a,b){return function(c){return l(a,b,c)}})))))))};r.spread2=function(a,b){return r.map(a,function(a){return b(a._0,a._1)})};r.spread=function(a,b){return r.map(a,function(a){return b(a._0,a._1)})};r.spread3=function(a,b){return r.map(a,function(a){return b(a._0,a._1,a._2)})};r.spread4=function(a,b){return r.map(a,function(a){return b(a._0,a._1,a._2,a._3)})};r.spread5=
function(a,b){return r.map(a,function(a){return b(a._0,a._1,a._2,a._3,a._4)})};r.spread6=function(a,b){return r.map(a,function(a){return b(a._0,a._1,a._2,a._3,a._4,a._5)})};var fb={__name__:["thx","_ReadonlyArray","ReadonlyArray_Impl_"],empty:function(){return[]},flatten:function(a){return Array.prototype.concat.apply([],a)},indexOf:function(a,b,c){null==c&&(c=ta.equality);for(var d=0,e=a.length;d<e;){var f=d++;if(c(b,a[f]))return f}return-1},lastIndexOf:function(a,b,c){null==c&&(c=ta.equality);for(var d=
a.length,e=0;e<d;){var f=e++;if(c(b,a[d-f-1]))return f}return-1},get_length:function(a){return a.length},get:function(a,b){return a[b]},head:function(a){return a[0]},tail:function(a){return a.slice(1)},reduce:function(a,b,c,d){for(a=0;a<b.length;){var e=b[a];++a;d=c(d,e)}return d},reducei:function(a,b,c){for(var d=0,e=a.length;d<e;){var f=d++;c=b(c,a[f],f)}return c},reverse:function(a){a=a.slice();a.reverse();return a},toArray:function(a){return a.slice()},unsafe:function(a){return a},concat:function(a,
b){return a.concat(b)},insertAt:function(a,b,c){return a.slice(0,b).concat([c]).concat(a.slice(b))},insertAfter:function(a,b,c,d){b=fb.indexOf(a,b,d);0>b&&(b=a.length-1);b+=1;return a.slice(0,b).concat([c]).concat(a.slice(b))},insertBefore:function(a,b,c,d){b=fb.indexOf(a,b,d);return a.slice(0,b).concat([c]).concat(a.slice(b))},replace:function(a,b,c,d){b=fb.indexOf(a,b,d);if(0>b)throw new V("unable to find reference element",null,{fileName:"ReadonlyArray.hx",lineNumber:94,className:"thx._ReadonlyArray.ReadonlyArray_Impl_",
methodName:"replace"});return a.slice(0,b).concat([c]).concat(a.slice(b+1))},replaceAt:function(a,b,c){return a.slice(0,b).concat([c]).concat(a.slice(b+1))},remove:function(a,b,c){b=fb.indexOf(a,b,c);return a.slice(0,b).concat(a.slice(b+1))},removeAt:function(a,b){return a.slice(0,b).concat(a.slice(b+1))},prepend:function(a,b){return[b].concat(a)},append:function(a,b){return a.concat([b])},unshift:function(a,b){return[b].concat(a)},shift:function(a){if(0==a.length)return{_0:null,_1:a};var b=a[0];
a=a.slice(0,0).concat(a.slice(1));return{_0:b,_1:a}},push:function(a,b){return a.concat([b])},pop:function(a){if(0==a.length)return{_0:null,_1:a};var b=a[a.length-1],c=a.length-1;a=a.slice(0,c).concat(a.slice(c+1));return{_0:b,_1:a}},iterator:function(a){return D.iter(a)}},oc={__name__:["thx","_Semigroup","Semigroup_Impl_"],get_append:function(a){return a}},da={__name__:["thx","_Set","Set_Impl_"],createString:function(a){var b=new H;null!=a&&da.pushMany(b,a);return b},createInt:function(a){var b=
new Lb;null!=a&&da.pushMany(b,a);return b},createObject:function(a){var b=new Wa;null!=a&&da.pushMany(b,a);return b},createEnum:function(a){var b=new wb;null!=a&&da.pushMany(b,a);return b},_new:function(a){return a},add:function(a,b){if(a.exists(b))return!1;a.set(b,!0);return!0},copy:function(a){var b=da.empty(a);for(a=a.keys();a.hasNext();){var c=a.next();b.set(c,!0)}return b},empty:function(a){return U.createInstance(null==a?null:R.getClass(a),[])},difference:function(a,b){for(var c=da.copy(a),
d=k(da)(b);d.hasNext();){var e=d.next();c.remove(e)}return c},filter:function(a,b){return da.reduce(a,function(a,d){b(d)&&da.add(a,d);return a},da.empty(a))},map:function(a,b){return da.reduce(a,function(a,d){a.push(b(d));return a},[])},exists:function(a,b){return a.exists(b)},remove:function(a,b){return a.remove(b)},intersection:function(a,b){for(var c=da.empty(a),d=k(da)(a);d.hasNext();){var e=d.next();b.exists(e)&&c.set(e,!0)}return c},push:function(a,b){a.set(b,!0)},pushMany:function(a,b){for(var c=
k(b)();c.hasNext();){var d=c.next();a.set(d,!0)}},reduce:function(a,b,c){for(a=k(da)(a);a.hasNext();){var d=a.next();c=b(c,d)}return c},iterator:function(a){return a.keys()},union:function(a,b){var c=da.copy(a);da.pushMany(c,da.toArray(b));return c},toArray:function(a){var b=[];for(a=a.keys();a.hasNext();){var c=a.next();b.push(c)}return b},toString:function(a){return"{"+da.toArray(a).join(", ")+"}"},get_length:function(a){var b=0;for(a=a.iterator();a.hasNext();)a.next(),++b;return b}},t=function(){};
t.__name__=["thx","Strings"];t.after=function(a,b){var c=a.indexOf(b);return 0>c?"":a.substring(c+b.length)};t.afterLast=function(a,b){var c=a.lastIndexOf(b);return 0>c?"":a.substring(c+b.length)};t.capitalize=function(a){return D.substr(a,0,1).toUpperCase()+D.substr(a,1,a.length-1)};t.capitalizeWords=function(a,b){null==b&&(b=!1);return b?t.UCWORDSWS.map(D.substr(a,0,1).toUpperCase()+D.substr(a,1,a.length-1),t.upperMatch):t.UCWORDS.map(D.substr(a,0,1).toUpperCase()+D.substr(a,1,a.length-1),t.upperMatch)};
t.canonicalizeNewlines=function(a){return a.replace(t.CANONICALIZE_LINES.r,"\n")};t.caseInsensitiveCompare=function(a,b){return null==a&&null==b?0:null==a?-1:null==b?1:qb.compare(a.toLowerCase(),b.toLowerCase())};t.caseInsensitiveEndsWith=function(a,b){return N.endsWith(a.toLowerCase(),b.toLowerCase())};t.caseInsensitiveEndsWithAny=function(a,b){return t.endsWithAny(a.toLowerCase(),b.map(function(a){return a.toLowerCase()}))};t.caseInsensitiveStartsWith=function(a,b){return N.startsWith(a.toLowerCase(),
b.toLowerCase())};t.caseInsensitiveStartsWithAny=function(a,b){return t.startsWithAny(a.toLowerCase(),b.map(function(a){return a.toLowerCase()}))};t.collapse=function(a){var b=t.WSG;return N.trim(a).replace(b.r," ")};t.compare=function(a,b){return qb.compare(a,b)};t.caseInsensitiveContains=function(a,b){return 0<=a.toLowerCase().indexOf(b.toLowerCase())};t.contains=function(a,b){return 0<=a.indexOf(b)};t.count=function(a,b){return a.split(b).length-1};t.caseInsensitiveContainsAny=function(a,b){return h.any(b,
function(b){return t.caseInsensitiveContains(a,b)})};t.containsAny=function(a,b){return h.any(b,function(b){return t.contains(a,b)})};t.caseInsensitiveContainsAll=function(a,b){return h.all(b,function(b){return t.caseInsensitiveContains(a,b)})};t.containsAll=function(a,b){return h.all(b,function(b){return t.contains(a,b)})};t.dasherize=function(a){return N.replace(a,"_","-")};t.diffAt=function(a,b){for(var c=a.length,d=b.length,c=c<d?c:d,d=0;d<c;){var e=d++;if(a.substring(e,e+1)!=b.substring(e,e+
1))return e}return c};t.ellipsis=function(a,b,c){null==c&&(c="\u2026");null==b&&(b=20);var d=c.length;return a.length>b?b<d?D.substr(c,d-b,b):D.substr(a,0,b-d)+c:a};t.ellipsisMiddle=function(a,b,c){null==c&&(c="\u2026");null==b&&(b=20);var d=a.length,e=c.length;if(d>b){if(b<=e)return t.ellipsis(a,b,c);var f=Math.floor((b-e)/2);return D.substr(a,0,Math.ceil((b-e)/2))+c+D.substr(a,d-f,f)}return a};t.endsWithAny=function(a,b){return M.any(b,function(b){return N.endsWith(a,b)})};t.filter=function(a,b){return a.split("").filter(b).join("")};
t.filterCharcode=function(a,b){return t.map(a,function(a){return D.cca(a,0)}).filter(b).map(function(a){return String.fromCharCode(a)}).join("")};t.from=function(a,b){var c=a.indexOf(b);return 0>c?"":a.substring(c)};t.hashCode=function(a){for(var b=0,c=0,d=a.length;c<d;)var e=c++,e=D.cca(a,e),b=(lc._mul(t.HASCODE_MUL,b)+e|0)%t.HASCODE_MAX;return b};t.hasContent=function(a){return null!=a?0<a.length:!1};t.humanize=function(a){return N.replace(t.underscore(a),"_"," ")};t.isAlpha=function(a){return 0<
a.length?!t.IS_ALPHA.match(a):!1};t.isAlphaNum=function(a){return t.ALPHANUM.match(a)};t.isBreakingWhitespace=function(a){return!t.IS_BREAKINGWHITESPACE.match(a)};t.isLowerCase=function(a){return a.toLowerCase()==a};t.isUpperCase=function(a){return a.toUpperCase()==a};t.ifEmpty=function(a,b){return null!=a&&""!=a?a:b};t.isDigitsOnly=function(a){return t.DIGITS.match(a)};t.isEmpty=function(a){return null!=a?""==a:!0};t.lowerCaseFirst=function(a){return a.substring(0,1).toLowerCase()+a.substring(1)};
t.random=function(a,b){null==b&&(b=1);return D.substr(a,Math.floor((a.length-b+1)*Math.random()),b)};t.randomSequence=function(a,b){return T.range(0,b).map(function(b){return t.random(a)}).join("")};t.randomSequence64=function(a){return t.randomSequence(ec.CHARS,a)};t.iterator=function(a){return D.iter(a.split(""))};t.map=function(a,b){return a.split("").map(b)};t.remove=function(a,b){return N.replace(a,b,"")};t.removeAfter=function(a,b){return N.endsWith(a,b)?a.substring(0,a.length-b.length):a};
t.removeAt=function(a,b,c){return a.substring(0,b)+a.substring(b+c)};t.removeBefore=function(a,b){return N.startsWith(a,b)?a.substring(b.length):a};t.removeOne=function(a,b){var c=a.indexOf(b);return 0>c?a:a.substring(0,c)+a.substring(c+b.length)};t.repeat=function(a,b){for(var c=[],d=0;d<b;)d++,c.push(a);return c.join("")};t.reverse=function(a){a=a.split("");a.reverse();return a.join("")};t.quote=function(a){return 0>a.indexOf('"')?'"'+a+'"':0>a.indexOf("'")?"'"+a+"'":'"'+N.replace(a,'"','\\"')+
'"'};t.splitOnce=function(a,b){var c=a.indexOf(b);return 0>c?[a]:[a.substring(0,c),a.substring(c+b.length)]};t.startsWithAny=function(a,b){return M.any(b,function(b){return N.startsWith(a,b)})};t.stripTags=function(a){return a.replace(t.STRIPTAGS.r,"")};t.surround=function(a,b,c){return""+b+a+(null==c?b:c)};t.toArray=function(a){return a.split("")};t.toCharcodes=function(a){return t.map(a,function(a){return D.cca(a,0)})};t.toChunks=function(a,b){for(var c=[];0<a.length;)c.push(D.substr(a,0,b)),a=
D.substr(a,b,a.length-b);return c};t.toLines=function(a){return t.SPLIT_LINES.split(a)};t.trimChars=function(a,b){return t.trimCharsRight(t.trimCharsLeft(a,b),b)};t.trimCharsLeft=function(a,b){for(var c=0,d=0,e=a.length;d<e;){var f=d++;if(0<=b.indexOf(a.charAt(f)))++c;else break}return a.substring(c)};t.trimCharsRight=function(a,b){for(var c=a.length,d=c,e,f=0;f<c;)if(e=f++,e=c-e-1,0<=b.indexOf(a.charAt(e)))d=e;else break;return a.substring(0,d)};t.underscore=function(a){a=a.replace(RegExp("::","g"),
"/");a=a.replace(RegExp("([A-Z]+)([A-Z][a-z])","g"),"$1_$2");a=a.replace(RegExp("([a-z\\d])([A-Z])","g"),"$1_$2");a=a.replace(RegExp("-","g"),"_");return a.toLowerCase()};t.upperCaseFirst=function(a){return a.substring(0,1).toUpperCase()+a.substring(1)};t.upTo=function(a,b){var c=a.indexOf(b);return 0>c?a:a.substring(0,c)};t.wrapColumns=function(a,b,c,d){null==d&&(d="\n");null==c&&(c="");null==b&&(b=78);return t.SPLIT_LINES.split(a).map(function(a){return t.wrapLine(N.trim(a.replace(t.WSG.r," ")),
b,c,d)}).join(d)};t.upperMatch=function(a){return a.matched(0).toUpperCase()};t.wrapLine=function(a,b,c,d){var e=[],f=0,g=a.length,h=c.length;for(b-=h;;){if(f+b>=g-h){e.push(a.substring(f));break}for(var k=0;!N.isSpace(a,f+b-k)&&k<b;)++k;if(k==b){for(k=0;!N.isSpace(a,f+b+k)&&f+b+k<g;)++k;e.push(a.substring(f,f+b+k));f+=b+k+1}else e.push(a.substring(f,f+b-k)),f+=b-k+1}return c+e.join(d+c)};t.lpad=function(a,b,c){c-=a.length;return 0<c?t.repeat(b,c)+a:a};t.rpad=function(a,b,c){c-=a.length;return 0<
c?a+t.repeat(b,c):a};var Y={__ename__:["thx","TimePeriod"],__constructs__:"Second Minute Hour Day Week Month Year".split(" "),Second:["Second",0]};Y.Second.__enum__=Y;Y.Minute=["Minute",1];Y.Minute.__enum__=Y;Y.Hour=["Hour",2];Y.Hour.__enum__=Y;Y.Day=["Day",3];Y.Day.__enum__=Y;Y.Week=["Week",4];Y.Week.__enum__=Y;Y.Month=["Month",5];Y.Month.__enum__=Y;Y.Year=["Year",6];Y.Year.__enum__=Y;var na=function(){};na.__name__=["thx","Timer"];na.debounce=function(a,b,c){null==c&&(c=!1);var d=ta.noop;return function(){c&&
(c=!1,a());d();d=na.delay(a,b)}};na.throttle=function(a,b,c){null==c&&(c=!1);var d=!1;return function(){c?(c=!1,a()):d||(d=!0,na.delay(a,b))}};na.repeat=function(a,b){var c=setInterval(a,b);return function(){na.clear(c)}};na.delay=function(a,b){var c=setTimeout(a,b);return function(){na.clear(c)}};na.frame=function(a){var b=!1,c=ta.noop,d=performance.now(),e,c=function(){b||(e=performance.now(),a(e-d),d=e,requestAnimationFrame(c))};requestAnimationFrame(c);return function(){b=!0}};na.nextFrame=function(a){var b=
requestAnimationFrame(a);return function(){cancelAnimationFrame(b)}};na.immediate=function(a){var b=setImmediate(a);return function(){na.clear(b)}};na.clear=function(a){clearTimeout(a)};na.time=function(){return performance.now()};na.resolution=function(){if(null!=na._resolution)return na._resolution;for(var a=performance.now(),b,c=0;++c,b=performance.now(),0==b-a;);return na._resolution=b-a};var fc={__name__:["thx","_Timestamp","Timestamp_Impl_"],create:function(a,b,c,d,e,f){return q.create(a,b,
c,d,e,f).getTime()},now:function(){return(new Date).getTime()},fromDate:function(a){return a.getTime()},fromString:function(a){return D.strDate(a).getTime()},toDate:function(a){return new Date(a)},toString:function(a){return D.dateStr(new Date(a))},snapNext:function(a,b){switch(b[1]){case 0:return 1E3*Math.ceil(a/1E3);case 1:return 6E4*Math.ceil(a/6E4);case 2:return 36E5*Math.ceil(a/36E5);case 3:var c=new Date(a);return q.create(c.getFullYear(),c.getMonth(),c.getDate()+1,0,0,0).getTime();case 4:var c=
new Date(a),d=c.getDay();return q.create(c.getFullYear(),c.getMonth(),c.getDate()+7-d,0,0,0).getTime();case 5:return c=new Date(a),q.create(c.getFullYear(),c.getMonth()+1,1,0,0,0).getTime();case 6:return q.create((new Date(a)).getFullYear()+1,0,1,0,0,0).getTime()}},snapPrev:function(a,b){switch(b[1]){case 0:return 1E3*Math.floor(a/1E3);case 1:return 6E4*Math.floor(a/6E4);case 2:return 36E5*Math.floor(a/36E5);case 3:var c=new Date(a);return q.create(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0).getTime();
case 4:var c=new Date(a),d=c.getDay();return q.create(c.getFullYear(),c.getMonth(),c.getDate()-d,0,0,0).getTime();case 5:return c=new Date(a),q.create(c.getFullYear(),c.getMonth(),1,0,0,0).getTime();case 6:return q.create((new Date(a)).getFullYear(),0,1,0,0,0).getTime()}},snapTo:function(a,b){switch(b[1]){case 0:return 1E3*Math.round(a/1E3);case 1:return 6E4*Math.round(a/6E4);case 2:return 36E5*Math.round(a/36E5);case 3:var c=new Date(a),d=12<=c.getHours()?1:0;return q.create(c.getFullYear(),c.getMonth(),
c.getDate()+d,0,0,0).getTime();case 4:return c=new Date(a),d=c.getDay(),d=3>d?-d:3<d?7-d:12>c.getHours()?-d:7-d,q.create(c.getFullYear(),c.getMonth(),c.getDate()+d,0,0,0).getTime();case 5:return c=new Date(a),d=c.getDate()>Math.round(sa.getMonthDays(c)/2)?1:0,q.create(c.getFullYear(),c.getMonth()+d,1,0,0,0).getTime();case 6:return c=new Date(a),d=a>(new Date(c.getFullYear(),6,2,0,0,0)).getTime()?1:0,q.create(c.getFullYear()+d,0,1,0,0,0).getTime()}},r:function(a,b){return Math.round(a/b)*b},f:function(a,
b){return Math.floor(a/b)*b},c:function(a,b){return Math.ceil(a/b)*b}},nc={__name__:["thx","_Tuple","Tuple2_Impl_"],of:function(a,b){return{_0:a,_1:b}},_new:function(a,b){return{_0:a,_1:b}},get_left:function(a){return a._0},get_right:function(a){return a._1},flip:function(a){return{_0:a._1,_1:a._0}},dropLeft:function(a){return a._1},dropRight:function(a){return a._0},"with":function(a,b){return{_0:a._0,_1:a._1,_2:b}},toString:function(a){return"Tuple2("+C.string(a._0)+","+C.string(a._1)+")"},map:function(a,
b){return{_0:a._0,_1:b(a._1)}},squeeze:function(a){return function(b){return a(b._0,b._1)}},arrayToTuple2:function(a){return{_0:a[0],_1:a[1]}}},uc={__name__:["thx","_Tuple","Tuple3_Impl_"],of:function(a,b,c){return{_0:a,_1:b,_2:c}},_new:function(a,b,c){return{_0:a,_1:b,_2:c}},flip:function(a){return{_0:a._2,_1:a._1,_2:a._0}},dropLeft:function(a){return{_0:a._1,_1:a._2}},dropRight:function(a){return{_0:a._0,_1:a._1}},"with":function(a,b){return{_0:a._0,_1:a._1,_2:a._2,_3:b}},toString:function(a){return"Tuple3("+
C.string(a._0)+","+C.string(a._1)+","+C.string(a._2)+")"},arrayToTuple3:function(a){return{_0:a[0],_1:a[1],_2:a[2]}},map:function(a,b){return{_0:a._0,_1:a._1,_2:b(a._2)}}},vc={__name__:["thx","_Tuple","Tuple4_Impl_"],of:function(a,b,c,d){return{_0:a,_1:b,_2:c,_3:d}},_new:function(a,b,c,d){return{_0:a,_1:b,_2:c,_3:d}},flip:function(a){return{_0:a._3,_1:a._2,_2:a._1,_3:a._0}},dropLeft:function(a){return{_0:a._1,_1:a._2,_2:a._3}},dropRight:function(a){return{_0:a._0,_1:a._1,_2:a._2}},"with":function(a,
b){return{_0:a._0,_1:a._1,_2:a._2,_3:a._3,_4:b}},toString:function(a){return"Tuple4("+C.string(a._0)+","+C.string(a._1)+","+C.string(a._2)+","+C.string(a._3)+")"},arrayToTuple4:function(a){return{_0:a[0],_1:a[1],_2:a[2],_3:a[3]}}},wc={__name__:["thx","_Tuple","Tuple5_Impl_"],of:function(a,b,c,d,e){return{_0:a,_1:b,_2:c,_3:d,_4:e}},_new:function(a,b,c,d,e){return{_0:a,_1:b,_2:c,_3:d,_4:e}},flip:function(a){return{_0:a._4,_1:a._3,_2:a._2,_3:a._1,_4:a._0}},dropLeft:function(a){return{_0:a._1,_1:a._2,
_2:a._3,_3:a._4}},dropRight:function(a){return{_0:a._0,_1:a._1,_2:a._2,_3:a._3}},"with":function(a,b){return{_0:a._0,_1:a._1,_2:a._2,_3:a._3,_4:a._4,_5:b}},toString:function(a){return"Tuple5("+C.string(a._0)+","+C.string(a._1)+","+C.string(a._2)+","+C.string(a._3)+","+C.string(a._4)+")"},arrayToTuple5:function(a){return{_0:a[0],_1:a[1],_2:a[2],_3:a[3],_4:a[4]}}},xc={__name__:["thx","_Tuple","Tuple6_Impl_"],of:function(a,b,c,d,e,f){return{_0:a,_1:b,_2:c,_3:d,_4:e,_5:f}},_new:function(a,b,c,d,e,f){return{_0:a,
_1:b,_2:c,_3:d,_4:e,_5:f}},flip:function(a){return{_0:a._5,_1:a._4,_2:a._3,_3:a._2,_4:a._1,_5:a._0}},dropLeft:function(a){return{_0:a._1,_1:a._2,_2:a._3,_3:a._4,_4:a._5}},dropRight:function(a){return{_0:a._0,_1:a._1,_2:a._2,_3:a._3,_4:a._4}},toString:function(a){return"Tuple6("+C.string(a._0)+","+C.string(a._1)+","+C.string(a._2)+","+C.string(a._3)+","+C.string(a._4)+","+C.string(a._5)+")"},arrayToTuple6:function(a){return{_0:a[0],_1:a[1],_2:a[2],_3:a[3],_4:a[4],_5:a[5]}}},oa=function(){};oa.__name__=
["thx","Types"];oa.isAnonymousObject=function(a){return A.isObject(a)?null==(null==a?null:R.getClass(a)):!1};oa.isObject=function(a){return A.isObject(a)?!oa.isPrimitive(a):!1};oa.isPrimitive=function(a){a=U["typeof"](a);switch(a[1]){case 1:case 2:case 3:return!0;case 0:case 4:case 5:case 7:case 8:return!1;case 6:return"String"==U.getClassName(a[2])?!0:"Date"==U.getClassName(a[2])?!0:!1}};oa.isEnumValue=function(a){return 7==U["typeof"](a)[1]?!0:!1};oa.hasSuperClass=function(a,b){for(;null!=a;){if(a==
b)return!0;a=U.getSuperClass(a)}return!1};oa.sameType=function(a,b){return oa.toString(U["typeof"](a))==oa.toString(U["typeof"](b))};oa.typeInheritance=function(a){switch(a[1]){case 1:return["Int"];case 2:return["Float"];case 3:return["Bool"];case 4:return["{}"];case 5:return["Function"];case 6:a=a[2];for(var b=[];null!=a;)b.push(a),a=U.getSuperClass(a);return b.map(U.getClassName);case 7:return[U.getEnumName(a[2])];default:throw new aa("invalid type "+C.string(a));}};oa.toString=function(a){switch(a[1]){case 0:return"Null";
case 1:return"Int";case 2:return"Float";case 3:return"Bool";case 4:return"{}";case 5:return"Function";case 6:return U.getClassName(a[2]);case 7:return U.getEnumName(a[2]);default:throw new aa("invalid type "+C.string(a));}};oa.valueTypeInheritance=function(a){return oa.typeInheritance(U["typeof"](a))};oa.valueTypeToString=function(a){return oa.toString(U["typeof"](a))};oa.anyValueToString=function(a){return R.__instanceof(a,ba)?oa.toString(a):R.__instanceof(a,jc)?U.getClassName(a):R.__instanceof(a,
kc)?U.getEnumName(a):oa.toString(U["typeof"](a))};var gc={__ename__:["thx","Unit"],__constructs__:["unit"],unit:["unit",0]};gc.unit.__enum__=gc;var z={__name__:["thx","_Validation","Validation_Impl_"],get_either:function(a){return a},pure:function(a){return I.Right(a)},success:function(a){return I.Right(a)},failure:function(a){return I.Left(a)},successNel:function(a){return I.Right(a)},failureNel:function(a){return I.Left(ma.pure(a))},nn:function(a,b){return null==a?I.Left(b):I.Right(a)},nnNel:function(a,
b){return null==a?I.Left(ma.pure(b)):I.Right(a)},map:function(a,b){return ea.map(a,b)},ap:function(a,b,c){switch(a[1]){case 0:a=a[2];switch(b[1]){case 0:return b=b[2],I.Left(oc.get_append(c)(a,b));case 1:return I.Left(a)}break;case 1:switch(c=a[2],b[1]){case 0:return I.Left(b[2]);case 1:return I.Right((0,b[2])(c))}}},flatMapV:function(a,b){switch(a[1]){case 0:return I.Left(a[2]);case 1:return b(a[2])}},orElseV:function(a,b,c){switch(a[1]){case 0:switch(b[1]){case 0:return a=a[2],b=b[2],I.Left(oc.get_append(c)(a,
b));case 1:return b}break;case 1:return a}},foldLeft:function(a,b,c){return ea.foldLeft(a,b,c)},foldMap:function(a,b,c){return ea.foldMap(a,b,c)},leftMap:function(a,b){return ea.leftMap(a,b)},wrapNel:function(a){return ea.leftMap(a,ma.pure)},ensure:function(a,b,c){return ea.ensure(a,b,c)},vnel:function(a){return a},val2:function(a,b,c,d){return z.ap(c,z.map(b,ga.curry(a)),d)},val3:function(a,b,c,d,e){return z.ap(d,z.ap(c,z.map(b,ga.curry(function(b,c){return function(d){return a(b,c,d)}})),e),e)},
val4:function(a,b,c,d,e,f){var g=function(b,c,d){return function(e){return a(b,c,d,e)}};return z.ap(e,z.ap(d,z.ap(c,z.map(b,ga.curry(function(a,b){return function(c){return g(a,b,c)}})),f),f),f)},val5:function(a,b,c,d,e,f,g){var m=function(b,c,d,e){return function(f){return a(b,c,d,e,f)}},h=function(a,b,c){return function(d){return m(a,b,c,d)}};return z.ap(f,z.ap(e,z.ap(d,z.ap(c,z.map(b,ga.curry(function(a,b){return function(c){return h(a,b,c)}})),g),g),g),g)},val6:function(a,b,c,d,e,f,g,h){var m=
function(b,c,d,e,f){return function(g){return a(b,c,d,e,f,g)}},k=function(a,b,c,d){return function(e){return m(a,b,c,d,e)}},l=function(a,b,c){return function(d){return k(a,b,c,d)}};return z.ap(g,z.ap(f,z.ap(e,z.ap(d,z.ap(c,z.map(b,ga.curry(function(a,b){return function(c){return l(a,b,c)}})),h),h),h),h),h)},val7:function(a,b,c,d,e,f,g,h,k){var m=function(b,c,d,e,f,g){return function(m){return a(b,c,d,e,f,g,m)}},l=function(a,b,c,d,e){return function(f){return m(a,b,c,d,e,f)}},p=function(a,b,c,d){return function(e){return l(a,
b,c,d,e)}},n=function(a,b,c){return function(d){return p(a,b,c,d)}};return z.ap(h,z.ap(g,z.ap(f,z.ap(e,z.ap(d,z.ap(c,z.map(b,ga.curry(function(a,b){return function(c){return n(a,b,c)}})),k),k),k),k),k),k)},val8:function(a,b,c,d,e,f,g,h,k,l){var m=function(b,c,d,e,f,g,m){return function(h){return a(b,c,d,e,f,g,m,h)}},p=function(a,b,c,d,e,f){return function(g){return m(a,b,c,d,e,f,g)}},n=function(a,b,c,d,e){return function(f){return p(a,b,c,d,e,f)}},r=function(a,b,c,d){return function(e){return n(a,
b,c,d,e)}},t=function(a,b,c){return function(d){return r(a,b,c,d)}};return z.ap(k,z.ap(h,z.ap(g,z.ap(f,z.ap(e,z.ap(d,z.ap(c,z.map(b,ga.curry(function(a,b){return function(c){return t(a,b,c)}})),l),l),l),l),l),l),l)},val9:function(a,b,c,d,e,f,g,h,k,l,p){var m=function(b,c,d,e,f,g,m,h){return function(k){return a(b,c,d,e,f,g,m,h,k)}},n=function(a,b,c,d,e,f,g){return function(h){return m(a,b,c,d,e,f,g,h)}},r=function(a,b,c,d,e,f){return function(g){return n(a,b,c,d,e,f,g)}},t=function(a,b,c,d,e){return function(f){return r(a,
b,c,d,e,f)}},q=function(a,b,c,d){return function(e){return t(a,b,c,d,e)}},W=function(a,b,c){return function(d){return q(a,b,c,d)}};return z.ap(l,z.ap(k,z.ap(h,z.ap(g,z.ap(f,z.ap(e,z.ap(d,z.ap(c,z.map(b,ga.curry(function(a,b){return function(c){return W(a,b,c)}})),p),p),p),p),p),p),p),p)},val10:function(a,b,c,d,e,f,g,h,k,l,p,n){var m=function(b,c,d,e,f,g,m,h,k){return function(l){return a(b,c,d,e,f,g,m,h,k,l)}},r=function(a,b,c,d,e,f,g,h){return function(k){return m(a,b,c,d,e,f,g,h,k)}},t=function(a,
b,c,d,e,f,g){return function(m){return r(a,b,c,d,e,f,g,m)}},q=function(a,b,c,d,e,f){return function(g){return t(a,b,c,d,e,f,g)}},W=function(a,b,c,d,e){return function(f){return q(a,b,c,d,e,f)}},u=function(a,b,c,d){return function(e){return W(a,b,c,d,e)}},v=function(a,b,c){return function(d){return u(a,b,c,d)}};return z.ap(p,z.ap(l,z.ap(k,z.ap(h,z.ap(g,z.ap(f,z.ap(e,z.ap(d,z.ap(c,z.map(b,ga.curry(function(a,b){return function(c){return v(a,b,c)}})),n),n),n),n),n),n),n),n),n)},val11:function(a,b,c,
d,e,f,g,h,k,l,p,n,r){var m=function(b,c,d,e,f,g,m,h,k,l){return function(p){return a(b,c,d,e,f,g,m,h,k,l,p)}},t=function(a,b,c,d,e,f,g,h,k){return function(l){return m(a,b,c,d,e,f,g,h,k,l)}},q=function(a,b,c,d,e,f,g,m){return function(h){return t(a,b,c,d,e,f,g,m,h)}},W=function(a,b,c,d,e,f,g){return function(m){return q(a,b,c,d,e,f,g,m)}},u=function(a,b,c,d,e,f){return function(g){return W(a,b,c,d,e,f,g)}},v=function(a,b,c,d,e){return function(f){return u(a,b,c,d,e,f)}},w=function(a,b,c,d){return function(e){return v(a,
b,c,d,e)}},x=function(a,b,c){return function(d){return w(a,b,c,d)}};return z.ap(n,z.ap(p,z.ap(l,z.ap(k,z.ap(h,z.ap(g,z.ap(f,z.ap(e,z.ap(d,z.ap(c,z.map(b,ga.curry(function(a,b){return function(c){return x(a,b,c)}})),r),r),r),r),r),r),r),r),r),r)},val12:function(a,b,c,d,e,f,g,h,k,l,p,n,r,t){var m=function(b,c,d,e,f,g,m,h,k,l,p){return function(n){return a(b,c,d,e,f,g,m,h,k,l,p,n)}},q=function(a,b,c,d,e,f,g,h,k,l){return function(p){return m(a,b,c,d,e,f,g,h,k,l,p)}},u=function(a,b,c,d,e,f,g,m,h){return function(k){return q(a,
b,c,d,e,f,g,m,h,k)}},W=function(a,b,c,d,e,f,g,m){return function(h){return u(a,b,c,d,e,f,g,m,h)}},v=function(a,b,c,d,e,f,g){return function(m){return W(a,b,c,d,e,f,g,m)}},w=function(a,b,c,d,e,f){return function(g){return v(a,b,c,d,e,f,g)}},x=function(a,b,c,d,e){return function(f){return w(a,b,c,d,e,f)}},y=function(a,b,c,d){return function(e){return x(a,b,c,d,e)}},A=function(a,b,c){return function(d){return y(a,b,c,d)}};return z.ap(r,z.ap(n,z.ap(p,z.ap(l,z.ap(k,z.ap(h,z.ap(g,z.ap(f,z.ap(e,z.ap(d,z.ap(c,
z.map(b,ga.curry(function(a,b){return function(c){return A(a,b,c)}})),t),t),t),t),t),t),t),t),t),t),t)},val13:function(a,b,c,d,e,f,g,h,k,l,p,n,r,t,q){var m=function(b,c,d,e,f,g,m,h,k,l,p,n){return function(r){return a(b,c,d,e,f,g,m,h,k,l,p,n,r)}},u=function(a,b,c,d,e,f,g,h,k,l,p){return function(n){return m(a,b,c,d,e,f,g,h,k,l,p,n)}},W=function(a,b,c,d,e,f,g,m,h,k){return function(l){return u(a,b,c,d,e,f,g,m,h,k,l)}},v=function(a,b,c,d,e,f,g,m,h){return function(k){return W(a,b,c,d,e,f,g,m,h,k)}},
w=function(a,b,c,d,e,f,g,m){return function(h){return v(a,b,c,d,e,f,g,m,h)}},x=function(a,b,c,d,e,f,g){return function(m){return w(a,b,c,d,e,f,g,m)}},y=function(a,b,c,d,e,f){return function(g){return x(a,b,c,d,e,f,g)}},A=function(a,b,c,d,e){return function(f){return y(a,b,c,d,e,f)}},B=function(a,b,c,d){return function(e){return A(a,b,c,d,e)}},C=function(a,b,c){return function(d){return B(a,b,c,d)}};return z.ap(t,z.ap(r,z.ap(n,z.ap(p,z.ap(l,z.ap(k,z.ap(h,z.ap(g,z.ap(f,z.ap(e,z.ap(d,z.ap(c,z.map(b,
ga.curry(function(a,b){return function(c){return C(a,b,c)}})),q),q),q),q),q),q),q),q),q),q),q),q)}},ab=function(a,b,c,d,e,f,g,h,k,l,p,n,r,t,q,u,v,w,x,y,z,A,B,C,D,E,F){this.calendarWeekRuleIndex=a;this.calendarWeekRuleName=b;this.designatorAm=c;this.designatorPm=d;this.firstDayOfWeekIndex=e;this.firstDayOfWeekName=f;this.nameCalendar=g;this.nameCalendarNative=h;this.nameDays=k;this.nameDaysAbbreviated=l;this.nameDaysShortest=p;this.nameMonths=n;this.nameMonthsAbbreviated=r;this.nameMonthGenitives=
t;this.nameMonthGenitivesAbbreviated=q;this.patternDateLong=u;this.patternDateShort=v;this.patternDateTimeFull=w;this.patternDateTimeSortable=x;this.patternMonthDay=y;this.patternRfc1123=z;this.patternTimeLong=A;this.patternTimeShort=B;this.patternUniversalSortable=C;this.patternYearMonth=D;this.separatorDate=E;this.separatorTime=F};ab.__name__=["thx","culture","DateFormatInfo"];ab.fromObject=function(a){return new ab(a.calendarWeekRuleIndex,a.calendarWeekRuleName,a.designatorAm,a.designatorPm,a.firstDayOfWeekIndex,
a.firstDayOfWeekName,a.nameCalendar,a.nameCalendarNative,a.nameDays,a.nameDaysAbbreviated,a.nameDaysShortest,a.nameMonths,a.nameMonthsAbbreviated,a.nameMonthGenitives,a.nameMonthGenitivesAbbreviated,a.patternDateLong,a.patternDateShort,a.patternDateTimeFull,a.patternDateTimeSortable,a.patternMonthDay,a.patternRfc1123,a.patternTimeLong,a.patternTimeShort,a.patternUniversalSortable,a.patternYearMonth,a.separatorDate,a.separatorTime)};ab.prototype={calendarWeekRuleIndex:null,calendarWeekRuleName:null,
designatorAm:null,designatorPm:null,firstDayOfWeekIndex:null,firstDayOfWeekName:null,nameCalendar:null,nameCalendarNative:null,nameDays:null,nameDaysAbbreviated:null,nameDaysShortest:null,nameMonths:null,nameMonthsAbbreviated:null,nameMonthGenitives:null,nameMonthGenitivesAbbreviated:null,patternDateLong:null,patternDateShort:null,patternDateTimeFull:null,patternDateTimeSortable:null,patternMonthDay:null,patternRfc1123:null,patternTimeLong:null,patternTimeShort:null,patternUniversalSortable:null,
patternYearMonth:null,separatorDate:null,separatorTime:null,toObject:function(){return{calendarWeekRuleIndex:this.calendarWeekRuleIndex,calendarWeekRuleName:this.calendarWeekRuleName,designatorAm:this.designatorAm,designatorPm:this.designatorPm,firstDayOfWeekIndex:this.firstDayOfWeekIndex,firstDayOfWeekName:this.firstDayOfWeekName,nameCalendar:this.nameCalendar,nameCalendarNative:this.nameCalendarNative,nameDays:this.nameDays,nameDaysAbbreviated:this.nameDaysAbbreviated,nameDaysShortest:this.nameDaysShortest,
nameMonths:this.nameMonths,nameMonthsAbbreviated:this.nameMonthsAbbreviated,nameMonthGenitives:this.nameMonthGenitives,nameMonthGenitivesAbbreviated:this.nameMonthGenitivesAbbreviated,patternDateLong:this.patternDateLong,patternDateShort:this.patternDateShort,patternDateTimeFull:this.patternDateTimeFull,patternDateTimeSortable:this.patternDateTimeSortable,patternMonthDay:this.patternMonthDay,patternRfc1123:this.patternRfc1123,patternTimeLong:this.patternTimeLong,patternTimeShort:this.patternTimeShort,
patternUniversalSortable:this.patternUniversalSortable,patternYearMonth:this.patternYearMonth,separatorDate:this.separatorDate,separatorTime:this.separatorTime}},__class__:ab};var bb=function(a,b,c,d,e,f,g,h,k,l,p,n,r,t,q,u,v,w,x,y,z,A,B,C,D){this.decimalDigitsCurrency=a;this.decimalDigitsNumber=b;this.decimalDigitsPercent=c;this.groupSizesCurrency=d;this.groupSizesNumber=e;this.groupSizesPercent=f;this.patternNegativeCurrency=g;this.patternNegativeNumber=h;this.patternNegativePercent=k;this.patternPositiveCurrency=
l;this.patternPositivePercent=p;this.separatorDecimalCurrency=n;this.separatorDecimalNumber=r;this.separatorDecimalPercent=t;this.separatorGroupCurrency=q;this.separatorGroupNumber=u;this.separatorGroupPercent=v;this.signNegative=w;this.signPositive=x;this.symbolCurrency=y;this.symbolNaN=z;this.symbolNegativeInfinity=A;this.symbolPercent=B;this.symbolPermille=C;this.symbolPositiveInfinity=D};bb.__name__=["thx","culture","NumberFormatInfo"];bb.fromObject=function(a){return new bb(a.decimalDigitsCurrency,
a.decimalDigitsNumber,a.decimalDigitsPercent,a.groupSizesCurrency,a.groupSizesNumber,a.groupSizesPercent,a.patternNegativeCurrency,a.patternNegativeNumber,a.patternNegativePercent,a.patternPositiveCurrency,a.patternPositivePercent,a.separatorDecimalCurrency,a.separatorDecimalNumber,a.separatorDecimalPercent,a.separatorGroupCurrency,a.separatorGroupNumber,a.separatorGroupPercent,a.signNegative,a.signPositive,a.symbolCurrency,a.symbolNaN,a.symbolNegativeInfinity,a.symbolPercent,a.symbolPermille,a.symbolPositiveInfinity)};
bb.prototype={decimalDigitsCurrency:null,decimalDigitsNumber:null,decimalDigitsPercent:null,groupSizesCurrency:null,groupSizesNumber:null,groupSizesPercent:null,patternNegativeCurrency:null,patternNegativeNumber:null,patternNegativePercent:null,patternPositiveCurrency:null,patternPositivePercent:null,separatorDecimalCurrency:null,separatorDecimalNumber:null,separatorDecimalPercent:null,separatorGroupCurrency:null,separatorGroupNumber:null,separatorGroupPercent:null,signNegative:null,signPositive:null,
symbolCurrency:null,symbolNaN:null,symbolNegativeInfinity:null,symbolPercent:null,symbolPermille:null,symbolPositiveInfinity:null,toObject:function(){return{decimalDigitsCurrency:this.decimalDigitsCurrency,decimalDigitsNumber:this.decimalDigitsNumber,decimalDigitsPercent:this.decimalDigitsPercent,groupSizesCurrency:this.groupSizesCurrency,groupSizesNumber:this.groupSizesNumber,groupSizesPercent:this.groupSizesPercent,patternNegativeCurrency:this.patternNegativeCurrency,patternNegativeNumber:this.patternNegativeNumber,
patternNegativePercent:this.patternNegativePercent,patternPositiveCurrency:this.patternPositiveCurrency,patternPositivePercent:this.patternPositivePercent,separatorDecimalCurrency:this.separatorDecimalCurrency,separatorDecimalNumber:this.separatorDecimalNumber,separatorDecimalPercent:this.separatorDecimalPercent,separatorGroupCurrency:this.separatorGroupCurrency,separatorGroupNumber:this.separatorGroupNumber,separatorGroupPercent:this.separatorGroupPercent,signNegative:this.signNegative,signPositive:this.signPositive,
symbolCurrency:this.symbolCurrency,symbolNaN:this.symbolNaN,symbolNegativeInfinity:this.symbolNegativeInfinity,symbolPercent:this.symbolPercent,symbolPermille:this.symbolPermille,symbolPositiveInfinity:this.symbolPositiveInfinity}},__class__:bb};var la=function(a,b,c,d,e,f,g,h,k,l,p,n,r,t,q,u){this.code=a;this.dateTime=b;this.ietf=c;this.isNeutral=d;this.iso2=e;this.iso3=f;this.isRightToLeft=g;this.lcid=h;this.nameCalendar=k;this.nameEnglish=l;this.nameNative=p;this.nameRegionEnglish=n;this.nameRegionNative=
r;this.number=t;this.separatorList=q;this.win3=u};la.__name__=["thx","culture","Culture"];la.fromObject=function(a){var b=a.code,c;null==a.dateTime?c=null:(c=a.dateTime,c=new ab(c.calendarWeekRuleIndex,c.calendarWeekRuleName,c.designatorAm,c.designatorPm,c.firstDayOfWeekIndex,c.firstDayOfWeekName,c.nameCalendar,c.nameCalendarNative,c.nameDays,c.nameDaysAbbreviated,c.nameDaysShortest,c.nameMonths,c.nameMonthsAbbreviated,c.nameMonthGenitives,c.nameMonthGenitivesAbbreviated,c.patternDateLong,c.patternDateShort,
c.patternDateTimeFull,c.patternDateTimeSortable,c.patternMonthDay,c.patternRfc1123,c.patternTimeLong,c.patternTimeShort,c.patternUniversalSortable,c.patternYearMonth,c.separatorDate,c.separatorTime));var d=a.ietf,e=a.isNeutral,f=a.iso2,g=a.iso3,h=a.isRightToLeft,k=a.lcid,l=a.nameCalendar,p=a.nameEnglish,n=a.nameNative,r=a.nameRegionEnglish,t=a.nameRegionNative,q;null==a.number?q=null:(q=a.number,q=new bb(q.decimalDigitsCurrency,q.decimalDigitsNumber,q.decimalDigitsPercent,q.groupSizesCurrency,q.groupSizesNumber,
q.groupSizesPercent,q.patternNegativeCurrency,q.patternNegativeNumber,q.patternNegativePercent,q.patternPositiveCurrency,q.patternPositivePercent,q.separatorDecimalCurrency,q.separatorDecimalNumber,q.separatorDecimalPercent,q.separatorGroupCurrency,q.separatorGroupNumber,q.separatorGroupPercent,q.signNegative,q.signPositive,q.symbolCurrency,q.symbolNaN,q.symbolNegativeInfinity,q.symbolPercent,q.symbolPermille,q.symbolPositiveInfinity));return new la(b,c,d,e,f,g,h,k,l,p,n,r,t,q,a.separatorList,a.win3)};
la.register=function(a){var b="C:"+a.code.toLowerCase(),c=la.cultures;if(null!=l[b]?c.existsReserved(b):c.h.hasOwnProperty(b))return a=la.cultures,null!=l[b]?a.getReserved(b):a.h[b];la.list.push(a);c=la.cultures;null!=l[b]?c.setReserved(b,a):c.h[b]=a;b=la.cultures;c="I2:"+a.iso2.toLowerCase();null!=l[c]?b.setReserved(c,a):b.h[c]=a;b=la.cultures;c="I3:"+a.iso3.toLowerCase();null!=l[c]?b.setReserved(c,a):b.h[c]=a;return a};la.getByCode=function(a){var b=la.cultures;a="C:"+a.toLowerCase();return null!=
l[a]?b.getReserved(a):b.h[a]};la.getByIso2=function(a){var b=la.cultures;a="I2:"+a.toLowerCase();return null!=l[a]?b.getReserved(a):b.h[a]};la.getByIso3=function(a){var b=la.cultures;a="I3:"+a.toLowerCase();return null!=l[a]?b.getReserved(a):b.h[a]};la.iterator=function(){return D.iter(la.list)};la.getCodeKey=function(a){return"C:"+a.toLowerCase()};la.getIso2Key=function(a){return"I2:"+a.toLowerCase()};la.getIso3Key=function(a){return"I3:"+a.toLowerCase()};la.prototype={code:null,dateTime:null,ietf:null,
isNeutral:null,iso2:null,iso3:null,isRightToLeft:null,lcid:null,nameCalendar:null,nameDisplayEnglish:null,nameDisplayNative:null,nameEnglish:null,nameNative:null,nameRegionEnglish:null,nameRegionNative:null,number:null,separatorList:null,win3:null,toObject:function(){return{code:this.code,dateTime:null==this.dateTime?null:this.dateTime.toObject(),ietf:this.ietf,isNeutral:this.isNeutral,iso2:this.iso2,iso3:this.iso3,isRightToLeft:this.isRightToLeft,lcid:this.lcid,nameCalendar:this.nameCalendar,nameEnglish:this.nameEnglish,
nameNative:this.nameNative,nameRegionEnglish:this.nameRegionEnglish,nameRegionNative:this.nameRegionNative,number:null==this.number?null:this.number.toObject(),separatorList:this.separatorList,win3:this.win3}},get_nameDisplayEnglish:function(){return this.nameEnglish+(null==this.nameRegionEnglish?"":" ("+this.nameRegionEnglish+")")},get_nameDisplayNative:function(){return this.nameNative+(null==this.nameRegionNative?"":" ("+this.nameRegionNative+")")},toString:function(){return this.nameEnglish+(null==
this.nameRegionEnglish?"":" ("+this.nameRegionEnglish+")")},__class__:la};var Oa=function(){};Oa.__name__=["thx","culture","Pattern"];var Ab=function(a){V.call(this,"method "+a.className+"."+a.methodName+"() is abstract",null,a)};Ab.__name__=["thx","error","AbstractMethod"];Ab.__super__=V;Ab.prototype=G(V.prototype,{__class__:Ab});var sb=function(a,b,c,d){V.call(this,a,c,d);this.innerError=b};sb.__name__=["thx","error","ErrorWrapper"];sb.__super__=V;sb.prototype=G(V.prototype,{innerError:null,__class__:sb});
var hb=function(){};hb.__name__=["thx","format","Format"];hb.get_defaultCulture=function(){return null!=hb.defaultCulture?hb.defaultCulture:la.invariant};hb.set_defaultCulture=function(a){hb.defaultCulture=a;return hb.get_defaultCulture()};var u=function(){};u.__name__=["thx","format","NumberFormat"];u.binary=function(a,b,c){null==b&&(b=1);var d=u.numberFormat(c);return isNaN(a)?d.symbolNaN:isFinite(a)?0==b&&0==a?"":N.lpad(u.toBase(a|0,2,c),"0",b):0>a?d.symbolNegativeInfinity:d.symbolPositiveInfinity};
u.currency=function(a,b,c,d){d=u.numberFormat(d);if(isNaN(a))return d.symbolNaN;if(!isFinite(a))return 0>a?d.symbolNegativeInfinity:d.symbolPositiveInfinity;var e=0>a?Oa.currencyNegatives[d.patternNegativeCurrency]:Oa.currencyPositives[d.patternPositiveCurrency];b=null==b?null:b;a=u.value(a,null!=b?b:d.decimalDigitsCurrency,d.groupSizesCurrency,d.separatorGroupCurrency,d.separatorDecimalCurrency);a=N.replace(e,"n",a);c=null==c?null:c;return N.replace(a,"$",null!=c?c:d.symbolCurrency)};u.customFormat=
function(a,b,c){c=u.numberFormat(c);if(isNaN(a))return c.symbolNaN;if(!isFinite(a))return 0>a?c.symbolNegativeInfinity:c.symbolPositiveInfinity;var d=u.hasSymbols(b,"$"),e=!d&&u.hasSymbols(b,"%\u2030"),f=u.splitPattern(b,";");if(3<f.length)throw new aa('invalid number of sections in "'+b+'"');if(0>a)return null!=f[1]?u.customFormatF(-a,f[1],c,d,e):u.customFormatF(-a,"-"+f[0],c,d,e);if(0<a)return u.customFormatF(a,f[0],c,d,e);null==f?a=null:(a=f[2],a=null==a?null:a);return u.customFormatF(0,null!=
a?a:f[0],c,d,e)};u.decimal=function(a,b,c){null==b&&(b=1);c=u.numberFormat(c);if(isNaN(a))return c.symbolNaN;if(!isFinite(a))return 0>a?c.symbolNegativeInfinity:c.symbolPositiveInfinity;var d=u.value(a,0,[0],"","");return(0>a?c.signNegative:"")+N.lpad(d,"0",b)};u.exponential=function(a,b,c,d,e){null==d&&(d="e");null==c&&(c=3);null==b&&(b=6);var f=u.numberFormat(e);if(isNaN(a))return f.symbolNaN;if(!isFinite(a))return 0>a?f.symbolNegativeInfinity:f.symbolPositiveInfinity;a=u.exponentialInfo(a);b=u.number(a.f,
b,e)+d;d=a.e;return b+(0>a.e?f.signNegative:f.signPositive)+N.lpad(""+(0>d?-d:d),"0",c)};u.fixed=function(a,b,c){var d=u.numberFormat(c);if(isNaN(a))return d.symbolNaN;if(!isFinite(a))return 0>a?d.symbolNegativeInfinity:d.symbolPositiveInfinity;c=0>a?Oa.numberNegatives[d.patternNegativeNumber]:"n";b=null==b?null:b;a=u.value(a,null!=b?b:d.decimalDigitsNumber,[0],"",d.separatorDecimalNumber);return N.replace(c,"n",a)};u.format=function(a,b,c){var d=b.substring(0,1),e=u.paramOrNull(b.substring(1));switch(d){case "%":return u.printf(a,
b,c);case "C":case "c":return u.currency(a,e,null,c);case "E":return u.exponential(a,e,null,null,c);case "G":return u.general(a,e,c);case "P":case "p":return u.percent(a,e,c);case "X":return u.hex(a,e,c).toUpperCase();case "D":case "d":return u.decimal(a,e,c);case "e":return u.exponential(a,e,null,null,c).toLowerCase();case "F":case "f":return u.fixed(a,e,c);case "g":return u.general(a,e,c).toLowerCase();case "N":case "n":return u.number(a,e,c);case "R":case "r":return""+a;case "x":return u.hex(a,
e,c);default:return u.customFormat(a,b,c)}};u.general=function(a,b,c){var d=u.exponential(a,b,null,null,c);a=u.fixed(a,b,c);return d.length<a.length?d:a};u.hex=function(a,b,c){null==b&&(b=1);var d=u.numberFormat(c);return isNaN(a)?d.symbolNaN:isFinite(a)?0==b&&0==a?"":N.lpad(u.toBase(a|0,16,c),"0",b):0>a?d.symbolNegativeInfinity:d.symbolPositiveInfinity};u.integer=function(a,b){var c=u.numberFormat(b);return isNaN(a)?c.symbolNaN:isFinite(a)?u.number(a,0,b):0>a?c.symbolNegativeInfinity:c.symbolPositiveInfinity};
u.number=function(a,b,c){var d=u.numberFormat(c);if(isNaN(a))return d.symbolNaN;if(!isFinite(a))return 0>a?d.symbolNegativeInfinity:d.symbolPositiveInfinity;c=0>a?Oa.numberNegatives[d.patternNegativeNumber]:"n";b=null==b?null:b;a=u.value(a,null!=b?b:d.decimalDigitsNumber,d.groupSizesNumber,d.separatorGroupNumber,d.separatorDecimalNumber);return N.replace(c,"n",a)};u.octal=function(a,b,c){null==b&&(b=1);var d=u.numberFormat(c);return isNaN(a)?d.symbolNaN:isFinite(a)?0==b&&0==a?"":N.lpad(u.toBase(a|
0,8,c),"0",b):0>a?d.symbolNegativeInfinity:d.symbolPositiveInfinity};u.percent=function(a,b,c){var d=u.numberFormat(c);if(isNaN(a))return d.symbolNaN;if(!isFinite(a))return 0>a?d.symbolNegativeInfinity:d.symbolPositiveInfinity;b=null==b?null:b;return u.unit(100*a,null!=b?b:d.decimalDigitsPercent,d.symbolPercent,c)};u.permille=function(a,b,c){var d=u.numberFormat(c);if(isNaN(a))return d.symbolNaN;if(!isFinite(a))return 0>a?d.symbolNegativeInfinity:d.symbolPositiveInfinity;b=null==b?null:b;return u.unit(1E3*
a,null!=b?b:d.decimalDigitsPercent,d.symbolPermille,c)};u.printf=function(a,b,c){if(!N.startsWith(b,"%"))throw new aa('invalid printf term "'+b+'"');for(var d=b.substring(b.length-1),e=b.substring(1,b.length-1).split("."),f=null==e[1]||""==e[1]?null:C.parseInt(e[1]),g=!0,h=!0,k=!1,l=!1,p=" ",n=0,e=e[0];0<e.length;){var q=e.substring(0,1);switch(q){case " ":k=!0;break;case "#":l=!0;break;case "+":h=!1;break;case "-":g=!1;break;case "0":p="0";break;default:if(T.canParse(q)){n=T.parse(e);e="";continue}else throw new aa("invalid flags "+
e);}e=e.substring(1)}e=function(a,b,c,d,e){l&&(a=c+a);0>b?a=d+a:h?k&&(a=" "+a):a=e+a;return g?N.lpad(a,p,n):N.rpad(a,p,n)};q=u.numberFormat(c);switch(d){case "%":return e(u.fixed(Math.abs(a),f,c)+"%",a,"",q.signNegative,q.signPositive);case "B":return a|=0,e((0>a?-a:a).toString(2),1,"B","","");case "E":return e(u.exponential(Math.abs(a),f,0,"E",c),a,"",q.signNegative,q.signPositive);case "G":return e=u.printf(a,"E",c),a=u.printf(a,"f",c),e.length<a.length?e:a;case "X":return e(u.hex(Math.abs(a),f,
c),a,"0X",q.signNegative,q.signPositive);case "b":return a|=0,e((0>a?-a:a).toString(2),1,"b","","");case "c":return a|=0,e(String.fromCharCode(0>a?-a:a),1,"","","");case "d":case "i":return c=null==f?null:f,e(N.lpad(""+Math.round(a),"0",null!=c?c:0),a,"",q.signNegative,q.signPositive);case "e":return e(u.exponential(Math.abs(a),f,0,"e",c),a,"",q.signNegative,q.signPositive);case "f":return e(u.fixed(Math.abs(a),f,c),a,"",q.signNegative,q.signPositive);case "g":return e=u.printf(a,"e",c),a=u.printf(a,
"f",c),e.length<a.length?e:a;case "o":return e(u.octal(Math.abs(a),f,c),a,"0",q.signNegative,q.signPositive);case "u":return u.printf(Math.abs(a),"d",c);case "x":return e(u.hex(Math.abs(a),f,c),a,"0x",q.signNegative,q.signPositive);default:throw new aa('invalid pattern "'+b+'"');}};u.toBase=function(a,b,c){c=u.numberFormat(c);return N.replace(a.toString(b),"-",c.signNegative)};u.unit=function(a,b,c,d){var e=u.numberFormat(d);if(isNaN(a))return e.symbolNaN;if(!isFinite(a))return 0>a?e.symbolNegativeInfinity:
e.symbolPositiveInfinity;d=0>a?Oa.percentNegatives[e.patternNegativePercent]:Oa.percentPositives[e.patternPositivePercent];a=u.value(a,b,e.groupSizesPercent,e.separatorGroupPercent,e.separatorDecimalPercent);return N.replace(N.replace(d,"n",a),"%",c)};u.countSymbols=function(a,b){for(var c=0,d=0,e=0;c<a.length;){var f=a.substring(c,c+1);switch(f){case '"':switch(d){case 0:d=2;break;case 2:d=0}break;case "'":switch(d){case 0:d=1;break;case 1:d=0}break;case "\\":++c;break;default:0==d&&0<=b.indexOf(f)&&
++e}++c}return e};u.customFormatDecimalFraction=function(a,b,c){var d="",e=0,f=0;for(a=a.split("");e<b.length;){var g=b.substring(e,e+1);switch(g){case '"':switch(f){case 0:f=2;break;case 1:d+=g;break;case 2:f=0;break;default:d+=g}break;case "#":switch(f){case 0:d+=0==a.length?"":a.shift();break;case 1:case 2:d+=g;break;default:d+=g}break;case "$":switch(f){case 0:d+=c.symbolCurrency;break;case 1:case 2:d+=g;break;default:d+=g}break;case "%":switch(f){case 0:d+=c.symbolPercent;break;case 1:case 2:d+=
g;break;default:d+=g}break;case "'":switch(f){case 0:f=1;break;case 1:f=0;break;case 2:d+=g;break;default:d+=g}break;case "0":switch(f){case 0:d+=0==a.length?"0":a.shift();break;case 1:case 2:d+=g;break;default:d+=g}break;case "\\":++e;d+=b.substring(e,e+1);break;case "\u2030":switch(f){case 0:d+=c.symbolPermille;break;case 1:case 2:d+=g;break;default:d+=g}break;default:switch(f){case 1:case 2:d+=g;break;default:d+=g}}++e}return d};u.customFormatF=function(a,b,c,d,e){e&&(a*=u.hasSymbols(b,"\u2030")?
1E3:100);var f=u.splitPattern(b,"eE");if(1<f.length){a=u.exponentialInfo(a);b=b.substring(f[0].length,f[0].length+1);var g=N.startsWith(f[1],"+");if(g||N.startsWith(f[1],"-"))f[1]=f[1].substring(1);return u.customIntegerAndFraction(a.f,f[0],c,d,e)+b+(0>a.e?c.signNegative:g?c.signPositive:"")+u.customFormatInteger(""+Math.abs(a.e),f[1],c,d,e)}return u.customIntegerAndFraction(a,b,c,d,e)};u.customFormatInteger=function(a,b,c,d,e){var f=[],g=0,h=0,k=a.split(""),l="",p=!0;a=!1;for(var q=0;g<b.length;){var n=
b.substring(g,g+1);switch(n){case '"':switch(h){case 0:h=2;break;case 1:l+=n;break;case 2:h=0;f.push(va.Literal(l));l="";break;default:f.push(va.Literal(n))}break;case "#":switch(h){case 0:f.push(va.Hash(p));p=!1;break;case 1:case 2:l+=n;break;default:f.push(va.Literal(n))}break;case "$":switch(h){case 0:f.push(va.Literal(c.symbolCurrency));break;case 1:case 2:l+=n;break;default:f.push(va.Literal(n))}break;case "%":switch(h){case 0:f.push(va.Literal(c.symbolPercent));break;case 1:case 2:l+=n;break;
default:f.push(va.Literal(n))}break;case "'":switch(h){case 0:h=1;break;case 1:h=0;f.push(va.Literal(l));l="";break;case 2:l+=n;break;default:f.push(va.Literal(n))}break;case ",":switch(h){case 0:a=!0;break;case 1:case 2:l+=n;break;default:f.push(va.Literal(n))}break;case "0":switch(h){case 0:f.push(va.Zero(p));p=!1;++q;break;case 1:case 2:l+=n;break;default:f.push(va.Literal(n))}break;case "\\":++g;f.push(va.Literal(b.substring(g,g+1)));break;case "\u2030":switch(h){case 0:f.push(va.Literal(c.symbolPermille));
break;case 1:case 2:l+=n;break;default:f.push(va.Literal(n))}break;default:switch(h){case 1:case 2:l+=n;break;default:f.push(va.Literal(n))}}++g}0<l.length&&f.push(va.Literal(l));g=k.length;for(b=q;g<b;)g++,k.unshift("0");if(a)for(g=k.length-1,a=d?c.groupSizesCurrency.slice():e?c.groupSizesPercent.slice():c.groupSizesNumber.slice(),b=a.shift(),h=0;0<=g&&0!=b;)h==b?(k[g]+=d?c.separatorGroupCurrency:e?c.separatorGroupPercent:c.separatorGroupNumber,h=0,0<a.length&&(b=a.shift())):(++h,--g);f.reverse();
c=f.map(function(a){switch(a[1]){case 0:return a[2];case 1:return a=a[2],0==k.length?"":a?k.join(""):k.pop();case 2:return a[2]?k.join(""):k.pop()}});c.reverse();return c.join("")};u.customIntegerAndFraction=function(a,b,c,d,e){b=u.splitPattern(b,".");var f=b[0].length-(b[0]=t.trimCharsRight(b[0],",")).length;a/=Math.pow(1E3,f);if(1==b.length)return u.customFormatInteger(""+Math.round(a),b[0],c,d,e);a=J.roundTo(a,u.countSymbols(b[1],"#0"));f=u.splitOnDecimalSeparator(a);a=u.customFormatInteger(f[0],
b[0],c,d,e);null==f?f=null:(f=f[1],f=null==f?null:f);return a+(d?c.separatorDecimalCurrency:e?c.separatorDecimalPercent:c.separatorDecimalNumber)+u.customFormatDecimalFraction(null!=f?f:"0",b[1],c)};u.exponentialInfo=function(a){var b=(""+Math.abs(a)).toLowerCase(),c=b.indexOf("e"),d;0<c?(d=b.substring(0,c).split("."),b=T.parse(b.substring(c+1))):(d=b.split(".").concat([""]),b=0,1<d[0].length?(b=d[0].length-1,d[1]=d[0].substring(1)+d[1],d[0]=d[0].substring(0,1)):"0"==d[0]&&(b=-(1+d[1].length-t.trimCharsLeft(d[1],
"0").length),d[1]=d[1].substring(-b-1),d[0]=d[1].substring(0,1),d[1]=d[1].substring(1)));return{e:b,f:(0>a?-1:1)*parseFloat(d.slice(0,2).join("."))}};u.hasSymbols=function(a,b){for(var c=0,d=0;c<a.length;){var e=a.substring(c,c+1);switch(e){case '"':switch(d){case 0:d=2;break;case 2:d=0}break;case "'":switch(d){case 0:d=1;break;case 1:d=0}break;case "\\":++c;break;default:if(0==d&&0<=b.indexOf(e))return!0}++c}return!1};u.intPart=function(a,b,c){var d=[];b=b.slice();for(var e=b.shift();0<a.length;)0==
e?(d.unshift(a),a=""):a.length>e?(d.unshift(a.substring(a.length-e)),a=a.substring(0,a.length-e),0<b.length&&(e=b.shift())):(d.unshift(a),a="");return d.join(c)};u.numberFormat=function(a){return null!=a&&null!=a.number?a.number:hb.get_defaultCulture().number};u.pad=function(a,b,c){a=null==a?null:a;a=null!=a?a:"";return 0<b&&a.length>b?c?a.substring(0,b-1)+(C.parseInt(a.substring(b-1,b))+(5<=C.parseInt(a.substring(b,b+1))?1:0)):a.substring(0,b):N.rpad(a,"0",b)};u.paramOrNull=function(a){return 0==
a.length?null:C.parseInt(a)};u.splitOnDecimalSeparator=function(a){var b=(""+a).split(".");a=b[0];var c=b;null==c?c=null:(c=c[1],c=null==c?null:c);c=(null!=c?c:"").toLowerCase();0<=c.indexOf("e")&&(b=c.split("e"),c=b[0],b=T.parse(b[1]),0>b?(c=N.rpad("","0",-b-1)+a+c,a="0"):(a+=c,c=a.substring(b+1),a=u.pad(a,b+1,!1)));return 0<c.length?[a,c]:[a]};u.splitPattern=function(a,b){for(var c=[],d=0,e=0;d<a.length;){var f=a.substring(d,d+1);switch(f){case '"':switch(e){case 0:e=2;break;case 2:e=0}break;case "'":switch(e){case 0:e=
1;break;case 1:e=0}break;case "\\":++d;break;default:0==e&&0<=b.indexOf(f)&&c.push(d)}++d}d=[];for(f=e=0;f<c.length;){var g=c[f];++f;d.push(a.substring(e,g));e=g+1}d.push(a.substring(e));return d};u.value=function(a,b,c,d,e){a=Math.abs(J.roundTo(a,b));a=u.splitOnDecimalSeparator(a);var f=[];f.push(u.intPart(a[0],c,d));0<b&&f.push(u.pad(a[1],b,!0));return f.join(e)};var va={__ename__:["thx","format","_NumberFormat","CustomFormat"],__constructs__:["Literal","Hash","Zero"],Literal:function(a){a=["Literal",
0,a];a.__enum__=va;return a},Hash:function(a){a=["Hash",1,a];a.__enum__=va;return a},Zero:function(a){a=["Zero",2,a];a.__enum__=va;return a}},B={__name__:["thx","fp","_Map","Map_Impl_"],empty:function(){return ha.Tip},singleton:function(a,b){return ha.Bin(1,a,b,ha.Tip,ha.Tip)},bin:function(a,b,c,d){return ha.Bin(B.size(c)+B.size(d)+1,a,b,c,d)},fromNative:function(a,b){for(var c=ha.Tip,d=a.keys();d.hasNext();)var e=d.next(),c=B.insert(c,e,a.get(e),b);return c},lookup:function(a,b,c){switch(a[1]){case 0:return y.None;
case 1:var d=a[6],e=a[5],f=a[4];switch(c(b,a[3])[1]){case 0:return B.lookup(e,b,c);case 1:return B.lookup(d,b,c);case 2:return y.Some(f)}}},lookupTuple:function(a,b,c){switch(a[1]){case 0:return y.None;case 1:var d=a[6],e=a[5],f=a[4];a=a[3];switch(c(b,a)[1]){case 0:return B.lookupTuple(e,b,c);case 1:return B.lookupTuple(d,b,c);case 2:return y.Some({_0:a,_1:f})}}},"delete":function(a,b,c){switch(a[1]){case 0:return ha.Tip;case 1:var d=a[6],e=a[5],f=a[4];a=a[3];switch(c(b,a)[1]){case 0:return B.balance(a,
f,B["delete"](e,b,c),d);case 1:return B.balance(a,f,e,B["delete"](d,b,c));case 2:return B.glue(e,d)}}},insert:function(a,b,c,d){switch(a[1]){case 0:return ha.Bin(1,b,c,ha.Tip,ha.Tip);case 1:var e=a[6],f=a[5],g=a[4],h=a[3];a=a[2];switch(d(b,h)[1]){case 0:return B.balance(h,g,B.insert(f,b,c,d),e);case 1:return B.balance(h,g,f,B.insert(e,b,c,d));case 2:return ha.Bin(a,b,c,f,e)}}},foldLeft:function(a,b,c){switch(a[1]){case 0:return b;case 1:return B.foldLeft(a[6],B.foldLeft(a[5],c(b,a[4]),c),c)}},map:function(a,
b){switch(a[1]){case 0:return ha.Tip;case 1:var c=a[6],d=a[5];return ha.Bin(a[2],a[3],b(a[4]),B.map(d,b),B.map(c,b))}},values:function(a){return B.foldLeft(a,[],function(a,c){a.push(c);return a})},foldLeftKeys:function(a,b,c){switch(a[1]){case 0:return b;case 1:return B.foldLeftKeys(a[6],B.foldLeftKeys(a[5],c(b,a[3]),c),c)}},foldLeftAll:function(a,b,c){switch(a[1]){case 0:return b;case 1:return B.foldLeftAll(a[6],B.foldLeftAll(a[5],c(b,a[3],a[4]),c),c)}},foldLeftTuples:function(a,b,c){switch(a[1]){case 0:return b;
case 1:return B.foldLeftTuples(a[6],B.foldLeftTuples(a[5],c(b,{_0:a[3],_1:a[4]}),c),c)}},size:function(a){switch(a[1]){case 0:return 0;case 1:return a[2]}},balance:function(a,b,c,d){var e=B.size(c),f=B.size(d),g=e+f+1;return 1>=e+f?ha.Bin(g,a,b,c,d):f>=5*e?B.rotateLeft(a,b,c,d):e>=5*f?B.rotateRight(a,b,c,d):ha.Bin(g,a,b,c,d)},glue:function(a,b){if(0==a[1])return b;if(0==b[1])return a;if(B.size(a)>B.size(b)){var c=B.deleteFindMax(a);return B.balance(c.k,c.x,c.t,b)}c=B.deleteFindMin(b);return B.balance(c.k,
c.x,a,c.t)},deleteFindMin:function(a){switch(a[1]){case 0:throw new V("can not return the minimal element of an empty map",null,{fileName:"Map.hx",lineNumber:161,className:"thx.fp._Map.Map_Impl_",methodName:"deleteFindMin"});case 1:if(0==a[5][1])return{k:a[3],x:a[4],t:a[6]};var b=a[6],c=a[3],d=a[4];a=B.deleteFindMin(a[5]);return{k:a.k,x:a.x,t:B.balance(c,d,a.t,b)}}},deleteFindMax:function(a){switch(a[1]){case 0:throw new V("can not return the maximal element of an empty map",null,{fileName:"Map.hx",
lineNumber:171,className:"thx.fp._Map.Map_Impl_",methodName:"deleteFindMax"});case 1:if(0==a[6][1])return{k:a[3],x:a[4],t:a[5]};var b=a[3],c=a[4],d=a[5];a=B.deleteFindMax(a[6]);return{k:a.k,x:a.x,t:B.balance(b,c,d,a.t)}}},rotateLeft:function(a,b,c,d){if(1==d[1]){var e=d[6];return B.size(d[5])<2*B.size(e)?B.singleLeft(a,b,c,d):B.doubleLeft(a,b,c,d)}return B.doubleLeft(a,b,c,d)},rotateRight:function(a,b,c,d){if(1==c[1]){var e=c[5];return B.size(c[6])<2*B.size(e)?B.singleRight(a,b,c,d):B.doubleRight(a,
b,c,d)}return B.doubleRight(a,b,c,d)},singleLeft:function(a,b,c,d){if(1==d[1]){var e=d[6],f=d[5],g=d[4];d=d[3];a=ha.Bin(B.size(c)+B.size(f)+1,a,b,c,f);return ha.Bin(B.size(a)+B.size(e)+1,d,g,a,e)}throw new V("damn it, this should never happen",null,{fileName:"Map.hx",lineNumber:193,className:"thx.fp._Map.Map_Impl_",methodName:"singleLeft"});},singleRight:function(a,b,c,d){if(1==c[1]){var e=c[6],f=c[5],g=c[4];c=c[3];a=ha.Bin(B.size(e)+B.size(d)+1,a,b,e,d);return ha.Bin(B.size(f)+B.size(a)+1,c,g,f,
a)}throw new V("damn it, this should never happen",null,{fileName:"Map.hx",lineNumber:199,className:"thx.fp._Map.Map_Impl_",methodName:"singleRight"});},doubleLeft:function(a,b,c,d){if(1==d[1]&&1==d[5][1]){var e=d[6],f=d[3],g=d[4],h=d[5][6],k=d[5][5],l=d[5][4];d=d[5][3];a=ha.Bin(B.size(c)+B.size(k)+1,a,b,c,k);e=ha.Bin(B.size(h)+B.size(e)+1,f,g,h,e);return ha.Bin(B.size(a)+B.size(e)+1,d,l,a,e)}throw new V("damn it, this should never happen",null,{fileName:"Map.hx",lineNumber:206,className:"thx.fp._Map.Map_Impl_",
methodName:"doubleLeft"});},doubleRight:function(a,b,c,d){if(1==c[1]&&1==c[6][1]){var e=c[3],f=c[4],g=c[5],h=c[6][6],k=c[6][5],l=c[6][4];c=c[6][3];e=ha.Bin(B.size(g)+B.size(k)+1,e,f,g,k);a=ha.Bin(B.size(h)+B.size(d)+1,a,b,h,d);return ha.Bin(B.size(e)+B.size(a)+1,c,l,e,a)}throw new V("damn it, this should never happen",null,{fileName:"Map.hx",lineNumber:213,className:"thx.fp._Map.Map_Impl_",methodName:"doubleRight"});}},ha={__ename__:["thx","fp","MapImpl"],__constructs__:["Tip","Bin"],Tip:["Tip",0]};
ha.Tip.__enum__=ha;ha.Bin=function(a,b,c,d,e){a=["Bin",1,a,b,c,d,e];a.__enum__=ha;return a};var ka=function(){this.handlers=[];this.state=y.None};ka.__name__=["thx","promise","Future"];ka.sequence=function(a){return ka.create(function(b){var c=[],d=null,d=function(e){e==a.length?b(c):a[e].then(function(a){c[e]=a;d(e+1)})};d(0)})};ka.afterAll=function(a){return ka.sequence(a).nil()};ka.all=function(a){return ka.sequence(a)};ka.create=function(a){var b=new ka;a(v(b,b.setState));return b};ka.flatten=
function(a){return ka.create(function(b){a.then(function(a){a.then(b)})})};ka.value=function(a){return ka.create(function(b){b(a)})};ka.prototype={handlers:null,state:null,delay:function(a){return null==a?this.flatMap(function(a){return Qa.immediateValue(a)}):this.flatMap(function(b){return Qa.delayValue(b,a)})},hasValue:function(){return r.toBool(this.state)},map:function(a){var b=this;return ka.create(function(c){b.then(function(b){b=a(b);c(b)})})},mapAsync:function(a){var b=this;return ka.create(function(c){b.then(function(b){a(b,
c)})})},mapPromise:function(a){var b=this;return E.create(function(c,d){b.then(function(b){E.failure(E.success(a(b),c),d)})})},nil:function(){return this.map(function(a){return rb.nil})},mapFuture:function(a){return this.flatMap(a)},flatMap:function(a){var b=this;return ka.create(function(c){b.then(function(b){a(b).then(c)})})},then:function(a){this.handlers.push(a);this.update();return this},toString:function(){return"Future"},setState:function(a){var b=this.state;switch(b[1]){case 0:throw new V('future was already "'+
C.string(b[2])+'", can\'t apply the new state "'+C.string(a)+'"',null,{fileName:"Future.hx",lineNumber:121,className:"thx.promise.Future",methodName:"setState"});case 1:this.state=y.Some(a)}this.update();return this},update:function(){var a=this.state;switch(a[1]){case 0:for(var a=a[2],b=-1;++b<this.handlers.length;)(0,this.handlers[b])(a);this.handlers=[]}},__class__:ka};var E={__name__:["thx","promise","_Promise","Promise_Impl_"],_new:function(a){return a},fromFuture:function(a){return a.map(function(a){return I.Right(a)})},
get_nil:function(){return E.value(rb.nil)},all:function(a){return 0==a.length?E.value([]):E.create(function(b,c){for(var d=[],e=0,f=!1,g=0,h=a.length;g<h;){var k=[g++];E.either(a[k[0]],function(c){return function(g){f||(d[c[0]]=g,e+=1,e==a.length&&b(d))}}(k),function(){return function(a){f||(f=!0,c(a))}}())}})},afterAll:function(a){return E.map(E.sequence(a),function(a){return rb.nil})},sequence:function(a){return h.reduce(a,function(a,c){return E.flatMapEither(a,function(a){return E.map(c,function(b){return a.concat([b])})},
function(a){return E.error(a)})},E.value([]))},allSequence:function(a){return E.sequence(a)},create:function(a){return ka.create(function(b){try{a(function(a){b(I.Right(a))},function(a){b(I.Left(a))})}catch(d){ca.lastException=d;d instanceof aa&&(d=d.val);var c=V.fromDynamic(d,{fileName:"Promise.hx",lineNumber:90,className:"thx.promise._Promise.Promise_Impl_",methodName:"create"});b(I.Left(c))}})},createUnsafe:function(a){return ka.create(function(b){a(function(a){b(I.Right(a))},function(a){b(I.Left(a))})})},
createFulfill:function(a){return ka.create(function(b){try{a(b)}catch(c){ca.lastException=c,c instanceof aa&&(c=c.val),b(I.Left(V.fromDynamic(c,{fileName:"Promise.hx",lineNumber:107,className:"thx.promise._Promise.Promise_Impl_",methodName:"createFulfill"})))}})},fail:function(a,b){return E.error(new V(a,null,b))},error:function(a){return E.create(function(b,c){c(a)})},value:function(a){return E.create(function(b,c){b(a)})},always:function(a,b){return ka.create(function(c){a.then(function(a){try{b(),
c(a)}catch(e){ca.lastException=e,e instanceof aa&&(e=e.val),a=I.Left(V.fromDynamic(e,{fileName:"Promise.hx",lineNumber:127,className:"thx.promise._Promise.Promise_Impl_",methodName:"always"})),c(a)}})})},either:function(a,b,c){return E.createUnsafe(function(d,e){a.then(function(a){try{switch(a[1]){case 0:var f=a[2];c(f);e(f);break;case 1:var g=a[2];b(g);d(g)}}catch(zb){ca.lastException=zb,zb instanceof aa&&(zb=zb.val),a=V.fromDynamic(zb,{fileName:"Promise.hx",lineNumber:146,className:"thx.promise._Promise.Promise_Impl_",
methodName:"either"}),e(a)}})})},delay:function(a,b){return null==b?a.flatMap(function(a){return Qa.immediateValue(a)}):a.flatMap(function(a){return Qa.delayValue(a,b)})},isFailure:function(a){a=a.state;switch(a[1]){case 0:return 1==a[2][1]?!1:!0;case 1:return!1}},isResolved:function(a){a=a.state;switch(a[1]){case 0:return 0==a[2][1]?!1:!0;case 1:return!1}},isPending:function(a){switch(a.state[1]){case 0:return!1;case 1:return!0}},failure:function(a,b){return E.either(a,function(a){},b)},mapAlways:function(a,
b){return E.map(a,function(a){return b()})},mapAlwaysAsyncFuture:function(a,b){return a.mapAsync(function(a,d){b(d)})},mapAlwaysFuture:function(a,b){return a.flatMap(function(a){return b()})},mapEither:function(a,b,c){return E.flatMapEither(a,function(a){return E.value(b(a))},function(a){return E.value(c(a))})},mapEitherFuture:function(a,b,c){return E.flatMapEitherFuture(a,function(a){return ka.value(b(a))},function(a){return ka.value(c(a))})},flatMapEitherFuture:function(a,b,c){return a.flatMap(function(a){switch(a[1]){case 0:return c(a[2]);
case 1:return b(a[2])}})},flatMapEither:function(a,b,c){return E.createUnsafe(function(d,e){a.then(function(a){switch(a[1]){case 0:a=a[2];try{E.either(c(a),d,e)}catch(m){ca.lastException=m,m instanceof aa&&(m=m.val),a=V.fromDynamic(m,{fileName:"Promise.hx",lineNumber:210,className:"thx.promise._Promise.Promise_Impl_",methodName:"flatMapEither"}),e(a)}break;case 1:a=a[2];try{E.either(b(a),d,e)}catch(m){ca.lastException=m,m instanceof aa&&(m=m.val),a=V.fromDynamic(m,{fileName:"Promise.hx",lineNumber:209,
className:"thx.promise._Promise.Promise_Impl_",methodName:"flatMapEither"}),e(a)}}})})},mapFailure:function(a,b){return E.mapEitherFuture(a,function(a){return a},b)},mapFailureFuture:function(a,b){return E.flatMapEitherFuture(a,function(a){return ka.value(a)},b)},mapFailurePromise:function(a,b){return E.recover(a,b)},recover:function(a,b){return E.flatMapEither(a,function(a){return E.value(a)},b)},recoverAsFuture:function(a,b){return E.mapEitherFuture(a,function(a){return a},b)},map:function(a,b){return E.flatMapEither(a,
function(a){return E.value(b(a))},function(a){return E.error(a)})},ap:function(a,b){return E.flatMapEither(a,function(a){return E.map(b,function(b){return b(a)})},function(a){return E.error(a)})},mapSuccess:function(a,b){return E.map(a,b)},flatMap:function(a,b){return E.flatMapEither(a,b,function(a){return E.error(a)})},append:function(a,b){return E.flatMapEither(a,function(a){return b()},function(a){return E.error(a)})},andThen:function(a,b){return E.flatMapEither(a,function(a){return b()},function(a){return E.error(a)})},
foreachM:function(a,b){return E.flatMapEither(a,function(a){return E.map(b(a),function(b){return a})},function(a){return E.error(a)})},mapSuccessPromise:function(a,b){return E.flatMapEither(a,b,function(a){return E.error(a)})},mapNull:function(a,b){return E.recoverNull(a,b)},recoverNull:function(a,b){return E.flatMapEither(a,function(a){return null==a?b():E.value(a)},function(a){return E.error(a)})},success:function(a,b){return E.either(a,b,function(a){})},throwFailure:function(a){return a.then(function(a){if(0==
a[1])throw a[2];})},toString:function(a){return"Promise"},toFuture:function(a){return a}},Qa=function(){};Qa.__name__=["thx","promise","Timer"];Qa.delay=function(a){return Qa.delayValue(rb.nil,a)};Qa.delayValue=function(a,b){return ka.create(function(c){na.delay(function(){c(a)},b)})};Qa.immediate=function(){return Qa.immediateValue(rb.nil)};Qa.immediateValue=function(a){return ka.create(function(b){na.immediate(function(){b(a)})})};var w={__ename__:["thx","stream","Message"],__constructs__:["Next",
"Error","Done"],Next:function(a){a=["Next",0,a];a.__enum__=w;return a},Error:function(a){a=["Error",1,a];a.__enum__=w;return a},Done:["Done",2]};w.Done.__enum__=w;var pa=function(a,b){this.handler=xb.wrapHandler(a);this.init=b};pa.__name__=["thx","stream","Process"];pa.nextAsMessageHandler=function(a){return function(b){0==b[1]&&a(b[2])}};pa.failureAsMessageHandler=function(a){return function(b){1==b[1]&&a(b[2])}};pa.doneAsMessageHandler=function(a){return function(b){2==b[1]&&a()}};pa.alwaysAsMessageHandler=
function(a){return function(b){switch(b[1]){case 1:case 2:a()}}};pa.prototype={handler:null,init:null,message:function(a){var b=this.handler;return new pa(function(c){b(c);a(c)},this.init)},next:function(a){var b=this.handler,c=pa.nextAsMessageHandler(a);return new pa(function(a){b(a);c(a)},this.init)},failure:function(a){var b=this.handler,c=pa.failureAsMessageHandler(a);return new pa(function(a){b(a);c(a)},this.init)},done:function(a){var b=this.handler,c=pa.doneAsMessageHandler(a);return new pa(function(a){b(a);
c(a)},this.init)},always:function(a){var b=this.handler,c=pa.alwaysAsMessageHandler(a);return new pa(function(a){b(a);c(a)},this.init)},run:function(){this.init(this.handler)},__class__:pa};var ub=function(a,b){this.equals=null==b?ta.equality:b;this.subjects=[];this.set(a)};ub.__name__=["thx","stream","Property"];ub.prototype={value:null,equals:null,subjects:null,modify:function(a){a=a(this.value);this.equals(this.value,a)||(this.value=a,this.emit(w.Next(a)))},get:function(){return this.value},set:function(a){this.modify(function(b){return a})},
error:function(a){this.emit(w.Error(a))},emit:function(a){for(var b=0,c=this.subjects;b<c.length;){var d=c[b];++b;d.message(a)}},stream:function(){var a=this;return L.cancellable(function(b,c){a.subjects.push(b);c(function(){D.remove(a.subjects,b)});b.message(w.Next(a.value))})},__class__:ub};var yc={__name__:["thx","stream","_Reducer","Middleware_Impl_"],compose:function(a,b){return function(c,d,e){a(c,d,e);b(c,d,e)}},onlyAction:function(a){return function(b,c,d){a(c,d)}},onlyState:function(a){return function(b,
c,d){a(b,d)}},sideEffect:function(a){return function(b,c,d){a(b,c)}},sideEffectState:function(a){return function(b,c,d){a(b)}},sideEffectAction:function(a){return function(b,c,d){a(c)}},empty:function(){return function(a,b,c){}}},db=function(a,b,c){this.property=a;this.reducer=b;this.middleware=c};db.__name__=["thx","stream","Store"];db.withReducer=function(a,b,c){b=new ub(b,c);return new db(b,a,yc.empty())};db.withMiddleware=function(a,b,c,d){c=new ub(c,d);return new db(c,a,b)};db.prototype={property:null,
reducer:null,middleware:null,dispatch:function(a,b){var c=this;try{var d=this.reducer(this.get(),a);this.property.set(d);this.middleware(this.property.get(),a,function(a){c.dispatch(a,b)})}catch(e){ca.lastException=e,e instanceof aa&&(e=e.val),this.property.error(V.fromDynamic(e,b))}return this},dispatcher:function(a){var b=v(this,this.dispatch);return function(c){return b(c,a)}},stream:function(){return this.property.stream()},get:function(){return this.property.get()},__class__:db};var L=function(a){this.init=
function(b){var c=!1,d=null,d=a(function(a){b(a);switch(a[1]){case 1:case 2:null!=d?d():c=!0}});c&&d();return d}};L.__name__=["thx","stream","Stream"];L.value=function(a){return L.create(function(b){b.message(w.Next(a));b.message(w.Done)})};L.empty=function(){return L.create(function(a){a.message(w.Done)})};L.error=function(a){return L.create(function(b){b.message(w.Error(a))})};L.fail=function(a,b){return L.error(new V(a,null,b))};L.values=function(a){return L.create(function(b){h.each(a,function(a){return b.message(w.Next(a))});
b.message(w.Done)})};L.iterator=function(a){return L.create(function(b){for(;a.hasNext();){var c=a.next();b.message(w.Next(c))}b.message(w.Done)})};L.create=function(a){return L.cancellable(function(b,c){a(b);return function(){}})};L.cancellable=function(a){return new L(function(b){b=new Mb(b);var c=ta.noop,d=function(a){var b=c;c=function(){b();a()}};try{a(b,d)}catch(e){ca.lastException=e,e instanceof aa&&(e=e.val),b.message(w.Error(V.fromDynamic(e,{fileName:"Stream.hx",lineNumber:58,className:"thx.stream.Stream",
methodName:"cancellable"})))}return c})};L.repeat=function(a){return L.repeatValue(a,gc.unit)};L.repeatValue=function(a,b){return L.poll(a,function(){return b})};L.poll=function(a,b){return L.cancellable(function(c,d){d(na.repeat(function(){var a=w.Next(b());c.message(a)},a))})};L.delay=function(a){return L.cancellable(function(b,c){c(na.delay(function(){b.message(w.Done)},a))})};L.delayValue=function(a,b){return L.cancellable(function(c,d){d(na.delay(function(){c.message(w.Next(b));c.message(w.Done)},
a))})};L.frame=function(){return L.cancellable(function(a,b){b(na.frame(function(b){return a.message(w.Next(b))}))})};L.prototype={init:null,message:function(a){return new pa(a,this.init)},next:function(a){return new pa(pa.nextAsMessageHandler(a),this.init)},failure:function(a){return new pa(pa.failureAsMessageHandler(a),this.init)},done:function(a){return new pa(pa.doneAsMessageHandler(a),this.init)},always:function(a){return new pa(pa.alwaysAsMessageHandler(a),this.init)},log:function(a,b){a=null==
a?"":a+": ";return this.map(function(c){Jb.trace(""+a+C.string(c),b);return c})},logMessage:function(a,b){var c=this;return L.create(function(d){a=null==a?"":a+": ";c.message(function(c){Jb.trace(""+a+C.string(c),b);d.message(c)}).run()})},filter:function(a){return this.filterFuture(function(b){return ka.value(a(b))})},filterFuture:function(a){return this.filterPromise(function(b){return E.create(function(c,d){a(b).then(c)})})},filterPromise:function(a){var b=this;return L.create(function(c){b.message(function(b){switch(b[1]){case 0:var d=
b[2];b=E.success(a(d),function(a){a&&c.message(w.Next(d))});E.failure(b,function(a){return c.message(w.Error(a))});break;case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},filterMap:function(a){return this.filterMapFuture(function(b){return ka.value(a(b))})},filterMapFuture:function(a){return this.filterMapPromise(function(b){return E.create(function(c,d){a(b).then(c)})})},filterMapPromise:function(a){var b=this;return L.create(function(c){b.message(function(b){switch(b[1]){case 0:b=
E.success(a(b[2]),function(a){0==a[1]&&c.message(w.Next(a[2]))});E.failure(b,function(a){return c.message(w.Error(a))});break;case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},first:function(){return this.take(1)},sampledBy:function(a){var b=this;return L.create(function(c){var d=y.None,e=!1;b.message(function(a){switch(a[1]){case 0:d=y.Some(a[2]);break;case 1:c.message(w.Error(a[2]));break;case 2:e=!0}}).run();a.message(function(a){switch(a[1]){case 0:switch(d[1]){case 0:c.message(w.Next({_0:d[2],
_1:a[2]}));d=y.None;break;case 1:e&&c.message(w.Done)}break;case 1:c.message(w.Error(a[2]));break;case 2:c.message(w.Done)}}).run()})},samplerOf:function(a){return a.sampledBy(this)},skip:function(a){var b=this;0>a&&(a=0);return L.create(function(c){var d=0;b.message(function(b){switch(b[1]){case 0:b=b[2];d+=1;d-1>=a&&c.message(w.Next(b));break;case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},skipFirst:function(){return this.skip(1)},skipFromEnd:function(a){var b=this;0>
a&&(a=0);return L.create(function(c){var d=[];b.message(function(b){switch(b[1]){case 0:d.push(b[2]);d.length==a+1&&(b=w.Next(d.shift()),c.message(b));break;case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},skipLast:function(){return this.skipFromEnd(1)},skipUntil:function(a){var b=!1;return this.filter(function(c){return b?!0:a(c)?!1:b=!0})},take:function(a){var b=this;0>a&&(a=0);return L.create(function(c){var d=0;a==d?c.message(w.Done):b.message(function(b){switch(b[1]){case 0:c.message(w.Next(b[2]));
(d+=1)==a&&c.message(w.Done);break;case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},takeAt:function(a){var b=this;0>a&&(a=0);return L.create(function(c){var d=0;b.message(function(b){switch(b[1]){case 0:b=b[2];d+=1;d-1==a&&(c.message(w.Next(b)),c.message(w.Done));break;case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},takeUntil:function(a){var b=!0;return this.filter(function(c){return b&&a(c)?!0:b=!1})},comp:function(a){var b=this;return L.create(function(c){var d=
y.None;b.message(function(b){switch(b[1]){case 0:switch(d[1]){case 0:b=b[2];a(b,d[2])&&(d=y.Some(b),c.message(w.Next(b)));break;case 1:b=b[2],d=y.Some(b),c.message(w.Next(b))}break;case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},distinct:function(a){null==a&&(a=ta.equality);return this.comp(function(b,c){return!a(b,c)})},unique:function(a){return this.filter(function(b){if(a.exists(b))return!1;da.add(a,b);return!0})},last:function(){var a=this;return L.create(function(b){var c=
y.None;a.message(function(a){switch(a[1]){case 0:c=y.Some(a[2]);break;case 1:b.message(w.Error(a[2]));break;case 2:switch(c[1]){case 0:b.message(w.Next(c[2]));b.message(w.Done);break;case 1:b.message(w.Done)}}}).run()})},slidingWindow:function(a,b){var c=this;return L.create(function(d){var e=[];c.message(function(c){switch(c[1]){case 0:e.push(c[2]);e.length==b+1&&e.shift();e.length>=a&&(c=w.Next(e.slice()),d.message(c));break;case 1:d.message(w.Error(c[2]));break;case 2:d.message(w.Done)}}).run()})},
window:function(a){var b=this;return L.create(function(c){var d=[];b.message(function(b){switch(b[1]){case 0:d.push(b[2]);d.length==a&&(c.message(w.Next(d)),d=[]);break;case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},flatMap:function(a){var b=this;return L.create(function(c){b.message(function(b){switch(b[1]){case 0:a(b[2]).next(function(a){return c.message(w.Next(a))}).failure(function(a){return c.message(w.Error(a))}).run();break;case 1:c.message(w.Error(b[2]));break;
case 2:c.message(w.Done)}}).run()})},map:function(a){return this.flatMap(function(b){return L.value(a(b))})},effect:function(a){return this.map(function(b){a(b);return b})},reduce:function(a,b){return this.map(function(c){return b=a(b,c)})},scan:function(a,b){return this.reduce(b,a)},fold:function(a){var b=this;return L.create(function(c){var d=y.None;b.message(function(b){switch(b[1]){case 0:switch(d[1]){case 0:b=a(d[2],b[2]);d=y.Some(b);c.message(w.Next(b));break;case 1:b=b[2],d=y.Some(b),c.message(w.Next(b))}break;
case 1:c.message(w.Error(b[2]));break;case 2:c.message(w.Done)}}).run()})},collect:function(){return this.reduce(function(a,b){return a.concat([b])},[])},collectAll:function(){return this.collect().last()},concat:function(a){var b=this;return L.create(function(c){b.message(function(b){switch(b[1]){case 0:c.message(w.Next(b[2]));break;case 1:c.message(w.Error(b[2]));break;case 2:a.message(v(c,c.message)).run()}}).run()})},merge:function(a){var b=this;return L.create(function(c){b.message(v(c,c.message)).run();
a.message(v(c,c.message)).run()})},appendTo:function(a){return a.concat(this)},pair:function(a){var b=this;return L.create(function(c){var d=y.None,e=y.None;b.message(function(a){switch(a[1]){case 0:if(0==e[1]){a=a[2];var b=e[2];d=y.Some(a);c.message(w.Next({_0:a,_1:b}))}else d=y.Some(a[2]);break;case 1:c.message(w.Error(a[2]));break;case 2:c.message(w.Done)}}).run();a.message(function(a){switch(a[1]){case 0:if(0==d[1]){a=a[2];var b=d[2];e=y.Some(a);c.message(w.Next({_0:b,_1:a}))}else e=y.Some(a[2]);
break;case 1:c.message(w.Error(a[2]));break;case 2:c.message(w.Done)}}).run()})},alternate:function(a){var b=this;return L.create(function(c){var d=[],e=!1,f=[],g=!1,h=!0,k=function(){for(var a;;){a=!1;if(h&&0<d.length){h=!1;a=!0;var b=w.Next(d.shift());c.message(b)}!h&&0<f.length&&!h&&(a=h=!0,b=w.Next(f.shift()),c.message(b));if(!a)break}};b.message(function(a){switch(a[1]){case 0:d.push(a[2]);k();g&&0==f.length&&c.message(w.Done);break;case 1:c.message(w.Error(a[2]));break;case 2:g?c.message(w.Done):
e=!0}}).run();a.message(function(a){switch(a[1]){case 0:f.push(a[2]);k();e&&0==d.length&&h&&c.message(w.Done);break;case 1:c.message(w.Error(a[2]));break;case 2:e?c.message(w.Done):g=!0}}).run()})},zip:function(a){var b=this;return L.create(function(c){var d=[],e=!1,f=[],g=!1,h=function(){for(;0<d.length&&0<f.length;){var a={_0:d.shift(),_1:f.shift()};c.message(w.Next(a))}};b.message(function(a){switch(a[1]){case 0:d.push(a[2]);h();g&&0==f.length&&c.message(w.Done);break;case 1:c.message(w.Error(a[2]));
break;case 2:g?c.message(w.Done):e=!0}}).run();a.message(function(a){switch(a[1]){case 0:f.push(a[2]);h();e&&0==d.length&&c.message(w.Done);break;case 1:c.message(w.Error(a[2]));break;case 2:e?c.message(w.Done):g=!0}}).run()})},delayed:function(a){return L.delay(a).concat(this)},spaced:function(a){var b=this;return L.create(function(c){var d=performance.now(),e=[],f=!1,g=!1,h=null,k=h=function(){var b=performance.now(),k=b-d;d=b;f=!1;k>=a&&(b=w.Next(e.shift()),c.message(b),g&&0==e.length&&c.message(w.Done));
0<e.length&&(f=!0,na.delay(h,a))};b.message(function(a){switch(a[1]){case 0:e.push(a[2]);f||k();break;case 1:c.message(w.Error(a[2]));break;case 2:0==e.length?c.message(w.Done):g=!0}}).run()})},debounce:function(a){return $b.left(this.sampledBy(L.repeat(a)))},__class__:L};var $b=function(){};$b.__name__=["thx","stream","TupleStreamExtensions"];$b.left=function(a){return a.map(function(a){return a._0})};$b.right=function(a){return a.map(function(a){return a._1})};var ac=function(){};ac.__name__=["thx",
"stream","Subject"];ac.prototype={message:null,__class__:ac};var Mb=function(a){this.handler=a};Mb.__name__=["thx","stream","SubjectF"];Mb.__interfaces__=[ac];Mb.prototype={handler:null,message:function(a){this.handler(a);return this},__class__:Mb};var xb=function(){};xb.__name__=["thx","stream","Subjects"];xb.next=function(a,b){return a.message(w.Next(b))};xb.error=function(a,b){return a.message(w.Error(b))};xb.done=function(a){return a.message(w.Done)};xb.wrapHandler=function(a){var b=!1;return function(c){if(!b)switch(a(c),
c[1]){case 1:case 2:b=!0}}};var Db=function(a,b){Pa.call(this,a,b)};Db.__name__=["view","BarChart"];Db.__super__=Ea;Db.prototype=G(Ea.prototype,{render:function(){var a=this,b=this.probabilities(),c=Ka.sum(b.map(function(a){return a._0})),d=La.min(b.map(function(a){return a._1})),e=La.max(b.map(function(a){return a._1})),f=Ka.max(b.map(function(a){return a._0})),g=Math.floor((d+e)/2);Jb.trace(d,{fileName:"BarChart.hx",lineNumber:18,className:"view.BarChart",methodName:"render",customParams:[e,g]});
d=new H;e=O.fromString("barchart");null!=l["class"]?d.setReserved("class",e):d.h["class"]=e;return S.el("div",d,F.children(b.map(function(b){return a.renderBarContainer(Math.round(b._1),b._0,g,c,f)})))},renderBarContainer:function(a,b,c,d,e){var f=new H;c=O.fromString("bar-container"+(c==a?" middle":""));null!=l["class"]?f.setReserved("class",c):f.h["class"]=c;c=new H;var g=O.fromString("label");null!=l["class"]?c.setReserved("class",g):c.h["class"]=g;var g=new H,h=O.fromString("text");null!=l["class"]?
g.setReserved("class",h):g.h["class"]=h;a=S.el("div",c,F.children([S.el("div",g,F.children([Z.Text(""+a)]))]));c=new H;g=O.fromString("bar");null!=l["class"]?c.setReserved("class",g):c.h["class"]=g;e=O.fromString("height: "+b/e*150+"px");null!=l.style?c.setReserved("style",e):c.h.style=e;e=S.el("div",c,F.children([Z.Text("")]));c=new H;g=O.fromString("percent");null!=l["class"]?c.setReserved("class",g):c.h["class"]=g;g=new H;h=O.fromString("text");null!=l["class"]?g.setReserved("class",h):g.h["class"]=
h;return S.el("div",f,F.children([a,e,S.el("div",c,F.children([S.el("div",g,F.children([Z.Text(u.fixed(b/d*100,1))]))]))]))},probabilities:function(){var a=Za.discrete();return Ga.getResult(a.roll(this.props)).weightedValues},classes:function(){return"view_bar-chart"},__class__:Db});var Bb=function(a,b){this.start=this.end=0;Pa.call(this,a,b)};Bb.__name__=["view","ExpressionInput"];Bb.__super__=Ea;Bb.prototype=G(Ea.prototype,{start:null,end:null,render:function(){var a,b=this.props.expr;switch(b[1]){case 0:a=
b[2];break;case 1:a=b[2];break;case 2:a=b[2]}var b=new H,c=O.fromString("expression-input");null!=l["class"]?b.setReserved("class",c):b.h["class"]=c;a=O.fromString(a);null!=l.value?b.setReserved("value",a):b.h.value=a;a=O.fromElementHandler(v(this,this.onInput));null!=l.input?b.setReserved("input",a):b.h.input=a;a=O.fromElementHandler(v(this,this.selectionChange));null!=l.keyup?b.setReserved("keyup",a):b.h.keyup=a;b=[S.el("div",null,F.children([S.el("input",b,null)]))];a=this.props.expr;a=2==a[1]?
[S.el("div",null,F.children([Z.Text(a[3])]))]:[];return S.el("div",null,F.children(b.concat(a)))},didUpdate:function(){Ja.find("input",this.node).setSelectionRange(this.start,this.end)},selectionChange:function(a){this.start=a.selectionStart;this.end=a.selectionEnd},onInput:function(a){this.selectionChange(a);this.props.dispatch(ia.EvaluateExpression(a.value))},classes:function(){return"view_expression-input"},__class__:Bb});var ib=function(a,b){Pa.call(this,a,b)};ib.__name__=["view","RollDetailsView"];
ib.__super__=Ea;ib.prototype=G(Ea.prototype,{render:function(){return this.renderRollResult(this.props)},renderRollResult:function(a){switch(a[1]){case 0:return this.renderDie(a[2]);case 1:var b=a[3];a=new H;var c=O.fromString("literal");null!=l["class"]?a.setReserved("class",c):a.h["class"]=c;return S.el("div",a,F.children([Z.Text(""+b)]));case 2:switch(a[2][1]){case 0:return b=a[4],c=a[3],this.renderRolls(this.renderExpressionSet(a[2][2],c),b,c);case 1:return b=a[4],c=a[3],this.renderRolls(this.renderDieResultFilterSet(a[2][2],
a[2][3],c),b,c);case 2:return b=a[4],c=a[3],this.renderRolls(this.renderDieResultMapSet(a[2][2],a[2][3],c),b,c)}break;case 3:var b=a[4],d=a[3],c=a[2];a=new H;var e=O.fromString("binop");null!=l["class"]?a.setReserved("class",e):a.h["class"]=e;var e=new H,f=O.fromString("left");null!=l["class"]?e.setReserved("class",f):e.h["class"]=f;d=S.el("div",e,F.children([(new ib(d)).asNode()]));e=new H;f=O.fromString("op");null!=l["class"]?e.setReserved("class",f):e.h["class"]=f;c=S.el("div",e,F.children([Z.Text(this.renderOp(c))]));
e=new H;f=O.fromString("right");null!=l["class"]?e.setReserved("class",f):e.h["class"]=f;return S.el("div",a,F.children([d,c,S.el("div",e,F.children([(new ib(b)).asNode()]))]));case 4:return b=a[3],a=new H,c=O.fromString("unop"),null!=l["class"]?a.setReserved("class",c):a.h["class"]=c,S.el("div",a,F.children([(new ib(b)).asNode()]))}},renderRollFilterResult:function(a){switch(a[1]){case 0:a=a[2];var b=new H,c=O.fromString("keep");null!=l["class"]?b.setReserved("class",c):b.h["class"]=c;return S.el("div",
b,F.children([this.renderRollResult(a)]));case 1:return a=a[2],b=new H,c=O.fromString("discard"),null!=l["class"]?b.setReserved("class",c):b.h["class"]=c,S.el("div",b,F.children([this.renderRollResult(a)]))}},renderRollMapResult:function(a){switch(a[1]){case 0:var b=a[2];a=b.slice(0,-1).map(v(this,this.renderDie)).map(function(a){var b=new H,c=O.fromString("discard");null!=l["class"]?b.setReserved("class",c):b.h["class"]=c;return S.el("div",b,F.children([a]))});var c=new H,d=O.fromString("keep");
null!=l["class"]?c.setReserved("class",d):c.h["class"]=d;a.push(S.el("div",c,F.children([this.renderDie(b[b.length-1])])));b=new H;c=O.fromString("rerolled");null!=l["class"]?b.setReserved("class",c):b.h["class"]=c;a=a.slice();a.reverse();return S.el("div",b,F.children(a));case 1:return b=a[2],a=new H,c=O.fromString("exploded"),null!=l["class"]?a.setReserved("class",c):a.h["class"]=c,b=b.slice(),b.reverse(),S.el("div",a,F.children(b.map(v(this,this.renderDie)).map(function(a){var b=new H,c=O.fromString("keep");
null!=l["class"]?b.setReserved("class",c):b.h["class"]=c;return S.el("div",b,F.children([a]))})));case 2:return a=a[2],b=new H,c=O.fromString("normal"),null!=l["class"]?b.setReserved("class",c):b.h["class"]=c,S.el("div",b,F.children([this.renderDie(a)]))}},instersperseOp:function(a){var b=0==a[1]?"+":",";return function(){var a=new H,d=O.fromString("comma");null!=l["class"]?a.setReserved("class",d):a.h["class"]=d;return S.el("div",a,F.children([Z.Text(b)]))}},renderExpressionSet:function(a,b){return h.interspersef(a.map(v(this,
this.renderRollResult)),this.instersperseOp(b))},renderDieResultMapSet:function(a,b,c){return h.interspersef(a.map(v(this,this.renderRollMapResult)),this.instersperseOp(c))},renderDieResultFilterSet:function(a,b,c){return h.interspersef(a.map(v(this,this.renderRollFilterResult)),this.instersperseOp(c))},renderRolls:function(a,b,c){var d=this;if(1==a.length){b=new H;var e=O.fromString("reduce");null!=l["class"]?b.setReserved("class",e):b.h["class"]=e;e=F.children([this.displayReducer(c)]);return S.el("div",
b,F.children(a.concat(e)))}return this.details(b,function(){var b=new H,e=O.fromString("dice-set");null!=l["class"]?b.setReserved("class",e):b.h["class"]=e;var b=[S.el("div",b,F.children(a))],e=new H,g=O.fromString("reduce");null!=l["class"]?e.setReserved("class",g):e.h["class"]=g;return S.el("div",e,F.children(b.concat(F.children([d.displayReducer(c)]))))})},displayReducer:function(a){switch(a[1]){case 1:return S.el("div",null,F.children([Z.Text("average")]));case 2:return S.el("div",null,F.children([Z.Text("min")]));
case 3:return S.el("div",null,F.children([Z.Text("max")]));default:a=new H;var b=O.fromString("display:none");null!=l.style?a.setReserved("style",b):a.h.style=b;b=O.fromString("empty node");null!=l["data-comment"]?a.setReserved("data-comment",b):a.h["data-comment"]=b;return S.el("div",a)}},renderDie:function(a){var b="roll"+Math.ceil(5*Math.random());switch(a.sides){case 6:var c=new H,b=O.fromString("die-icon roll "+b);null!=l["class"]?c.setReserved("class",b):c.h["class"]=b;var b=new H,d=O.fromString("df-dot-d6-"+
a.result);null!=l["class"]?b.setReserved("class",d):b.h["class"]=d;return S.el("div",c,F.children([S.el("i",b,null)]));case 2:case 4:case 8:case 10:case 12:case 20:return c=new H,b=O.fromString("die-icon roll "+b),null!=l["class"]?c.setReserved("class",b):c.h["class"]=b,b=new H,d=O.fromString("df-d"+a.sides+"-"+a.result),null!=l["class"]?b.setReserved("class",d):b.h["class"]=d,S.el("div",c,F.children([S.el("i",b,null)]));default:return this.details(a.result,function(){var b=new H,c=O.fromString("die");
null!=l["class"]?b.setReserved("class",c):b.h["class"]=c;var c=new H,d=O.fromString("d");null!=l["class"]?c.setReserved("class",d):c.h["class"]=d;var c=S.el("div",c,F.children([Z.Text("d")])),d=new H,g=O.fromString("X");null!=l["class"]?d.setReserved("class",g):d.h["class"]=g;return S.el("div",b,F.children([c,S.el("div",d,100==a.sides?F.children([Z.Text("%")]):F.children([Z.Text(""+a.sides)]))]))})}},renderOp:function(a){switch(a[1]){case 0:return"+";case 1:return"-";case 2:return"\u00f7";case 3:return"\u00d7"}},
details:function(a,b){var c=new H,d=O.fromString("pair");null!=l["class"]?c.setReserved("class",d):c.h["class"]=d;var d=new H,e=O.fromString("result");null!=l["class"]?d.setReserved("class",e):d.h["class"]=e;var d=S.el("div",d,F.children([Z.Text(""+a)])),e=new H,f=O.fromString("details");null!=l["class"]?e.setReserved("class",f):e.h["class"]=f;return S.el("div",c,F.children([d,S.el("div",e,F.children([b()]))]))},classes:function(){return"view_roll-details-view"},__class__:ib});var Cb=function(a,b){Pa.call(this,
a,b)};Cb.__name__=["view","RollView"];Cb.__super__=Ea;Cb.prototype=G(Ea.prototype,{render:function(){var a=this.props;switch(a[1]){case 0:var a=a[2],a=Za["int"](function(a){return 1+Math.floor(Math.random()*a)}).roll(a),b=new H,c=O.fromString("roll-box");null!=l["class"]?b.setReserved("class",c):b.h["class"]=c;var c=new H,d=O.fromHandler(v(this,this.roll));null!=l.click?c.setReserved("click",d):c.h.click=d;var c=S.el("button",c,F.children([Z.Text("roll again")])),d=new H,e=O.fromString("roll-result");
null!=l["class"]?d.setReserved("class",e):d.h["class"]=e;var d=S.el("div",d,F.children([Z.Text(""+Ga.getResult(a))])),e=new H,f=O.fromString("roll-details");null!=l["class"]?e.setReserved("class",f):e.h["class"]=f;return S.el("div",b,F.children([c,d,S.el("div",e,F.children([Z.Comp(new ib(a))]))]));case 1:return S.el("div",null,F.children([Z.Text("nothing to roll")]))}},roll:function(){this.update(this.props,{fileName:"RollView.hx",lineNumber:29,className:"view.RollView",methodName:"roll"})},didMount:function(){this.rollEffect()},
didUpdate:function(){this.rollEffect()},rollEffect:function(){var a,b=Ja.selectNodes(".roll",null);h.each(Array.prototype.slice.call(b,0),function(b){for(var c=1;6>c;){var e=c++;b.classList.remove("roll"+e)}a=b.offsetWidth;b.classList.add("roll"+Math.ceil(5*Math.random()))});return a},classes:function(){return"view_roll-view"},__class__:Cb});var $a,rc=0;String.prototype.__class__=String;String.__name__=["String"];Array.__name__=["Array"];Date.prototype.__class__=Date;Date.__name__=["Date"];var tc=
{__name__:["Int"]},sc={__name__:["Dynamic"]},ic=Number;ic.__name__=["Float"];var hc=Boolean;hc.__ename__=["Bool"];var jc={__name__:["Class"]},kc={},l={},ra="undefined"!==typeof window&&window||"undefined"!==typeof global&&global||Function("return this")();ra.setImmediate||(ra.setImmediate=function(a){ra.setTimeout(a,0)});for(var pc=0,bc=["webkit","moz"],Nb=0;Nb<bc.length&&!ra.requestAnimationFrame;)ra.requestAnimationFrame=ra[bc[Nb]+"RequestAnimationFrame"],ra.cancelAnimationFrame=ra[bc[Nb]+"CancelAnimationFrame"]||
ra[bc[Nb]+"CancelRequestAnimationFrame"],++Nb;ra.requestAnimationFrame||(ra.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-pc)),d=ra.setTimeout(function(){a(b+c)},c);pc=b+c;return d});ra.cancelAnimationFrame||(ra.cancelAnimationFrame=function(a){ra.clearTimeout(a)});"undefined"==typeof ra.performance&&(ra.performance={});if("undefined"==typeof ra.performance.now){var qc=(new Date).getTime();ra.performance.timing&&ra.performance.timing.navigationStart&&(qc=ra.performance.timing.navigationStart);
ra.performance.now=function(){return new Date-qc}}la.cultures=new H;la.list=[];sa.DAYS_OF_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];ja.defaultNamespaces=function(a){a=new H;null!=l.svg?a.setReserved("svg","http://www.w3.org/2000/svg"):a.h.svg="http://www.w3.org/2000/svg";null!=l.xlink?a.setReserved("xlink","http://www.w3.org/1999/xlink"):a.h.xlink="http://www.w3.org/1999/xlink";null!=l.ev?a.setReserved("ev","http://www.w3.org/2001/xml-events"):a.h.ev="http://www.w3.org/2001/xml-events";null!=l.xsl?
a.setReserved("xsl","http://www.w3.org/1999/XSL/Transform"):a.h.xsl="http://www.w3.org/1999/XSL/Transform";null!=l.m?a.setReserved("m","http://www.w3.org/1998/Math/MathML"):a.h.m="http://www.w3.org/1998/Math/MathML";return a}(this);cc.browser=new ja;xa.properties=function(a){a=new H;var b=P.BooleanAttribute;null!=l.allowFullScreen?a.setReserved("allowFullScreen",b):a.h.allowFullScreen=b;b=P.BooleanAttribute;null!=l.async?a.setReserved("async",b):a.h.async=b;b=P.BooleanAttribute;null!=l.autoFocus?
a.setReserved("autoFocus",b):a.h.autoFocus=b;b=P.BooleanAttribute;null!=l.autoPlay?a.setReserved("autoPlay",b):a.h.autoPlay=b;b=P.BooleanAttribute;null!=l.capture?a.setReserved("capture",b):a.h.capture=b;b=P.BooleanProperty;null!=l.checked?a.setReserved("checked",b):a.h.checked=b;b=P.PositiveNumericAttribute;null!=l.cols?a.setReserved("cols",b):a.h.cols=b;b=P.BooleanAttribute;null!=l.controls?a.setReserved("controls",b):a.h.controls=b;b=P.BooleanAttribute;null!=l["default"]?a.setReserved("default",
b):a.h["default"]=b;b=P.BooleanAttribute;null!=l.defer?a.setReserved("defer",b):a.h.defer=b;b=P.BooleanAttribute;null!=l.disabled?a.setReserved("disabled",b):a.h.disabled=b;b=P.OverloadedBooleanAttribute;null!=l.download?a.setReserved("download",b):a.h.download=b;b=P.BooleanAttribute;null!=l.formNoValidate?a.setReserved("formNoValidate",b):a.h.formNoValidate=b;b=P.BooleanAttribute;null!=l.hidden?a.setReserved("hidden",b):a.h.hidden=b;b=P.BooleanAttribute;null!=l.loop?a.setReserved("loop",b):a.h.loop=
b;b=P.BooleanProperty;null!=l.multiple?a.setReserved("multiple",b):a.h.multiple=b;b=P.BooleanProperty;null!=l.muted?a.setReserved("muted",b):a.h.muted=b;b=P.BooleanAttribute;null!=l.noValidate?a.setReserved("noValidate",b):a.h.noValidate=b;b=P.BooleanAttribute;null!=l.open?a.setReserved("open",b):a.h.open=b;b=P.BooleanAttribute;null!=l.readOnly?a.setReserved("readOnly",b):a.h.readOnly=b;b=P.BooleanAttribute;null!=l.required?a.setReserved("required",b):a.h.required=b;b=P.BooleanAttribute;null!=l.reversed?
a.setReserved("reversed",b):a.h.reversed=b;b=P.PositiveNumericAttribute;null!=l.rows?a.setReserved("rows",b):a.h.rows=b;b=P.NumericAttribute;null!=l.rowSpan?a.setReserved("rowSpan",b):a.h.rowSpan=b;b=P.BooleanAttribute;null!=l.scoped?a.setReserved("scoped",b):a.h.scoped=b;b=P.BooleanAttribute;null!=l.seamless?a.setReserved("seamless",b):a.h.seamless=b;b=P.BooleanProperty;null!=l.selected?a.setReserved("selected",b):a.h.selected=b;b=P.PositiveNumericAttribute;null!=l.size?a.setReserved("size",b):a.h.size=
b;b=P.PositiveNumericAttribute;null!=l.span?a.setReserved("span",b):a.h.span=b;b=P.NumericAttribute;null!=l.start?a.setReserved("start",b):a.h.start=b;b=P.SideEffectProperty;null!=l.value?a.setReserved("value",b):a.h.value=b;b=P.BooleanAttribute;null!=l.itemScope?a.setReserved("itemScope",b):a.h.itemScope=b;return a}(this);Ma.properties=function(a){a=new H;var b=Q.BooleanAttribute;null!=l.allowFullScreen?a.setReserved("allowFullScreen",b):a.h.allowFullScreen=b;b=Q.BooleanAttribute;null!=l.async?a.setReserved("async",
b):a.h.async=b;b=Q.BooleanAttribute;null!=l.autoFocus?a.setReserved("autoFocus",b):a.h.autoFocus=b;b=Q.BooleanAttribute;null!=l.autoPlay?a.setReserved("autoPlay",b):a.h.autoPlay=b;b=Q.BooleanAttribute;null!=l.capture?a.setReserved("capture",b):a.h.capture=b;b=Q.BooleanProperty;null!=l.checked?a.setReserved("checked",b):a.h.checked=b;b=Q.PositiveNumericAttribute;null!=l.cols?a.setReserved("cols",b):a.h.cols=b;b=Q.BooleanAttribute;null!=l.controls?a.setReserved("controls",b):a.h.controls=b;b=Q.BooleanAttribute;
null!=l["default"]?a.setReserved("default",b):a.h["default"]=b;b=Q.BooleanAttribute;null!=l.defer?a.setReserved("defer",b):a.h.defer=b;b=Q.BooleanAttribute;null!=l.disabled?a.setReserved("disabled",b):a.h.disabled=b;b=Q.OverloadedBooleanAttribute;null!=l.download?a.setReserved("download",b):a.h.download=b;b=Q.BooleanAttribute;null!=l.formNoValidate?a.setReserved("formNoValidate",b):a.h.formNoValidate=b;b=Q.BooleanAttribute;null!=l.hidden?a.setReserved("hidden",b):a.h.hidden=b;b=Q.BooleanAttribute;
null!=l.loop?a.setReserved("loop",b):a.h.loop=b;b=Q.BooleanProperty;null!=l.multiple?a.setReserved("multiple",b):a.h.multiple=b;b=Q.BooleanProperty;null!=l.muted?a.setReserved("muted",b):a.h.muted=b;b=Q.BooleanAttribute;null!=l.noValidate?a.setReserved("noValidate",b):a.h.noValidate=b;b=Q.BooleanAttribute;null!=l.open?a.setReserved("open",b):a.h.open=b;b=Q.BooleanAttribute;null!=l.readOnly?a.setReserved("readOnly",b):a.h.readOnly=b;b=Q.BooleanAttribute;null!=l.required?a.setReserved("required",b):
a.h.required=b;b=Q.BooleanAttribute;null!=l.reversed?a.setReserved("reversed",b):a.h.reversed=b;b=Q.PositiveNumericAttribute;null!=l.rows?a.setReserved("rows",b):a.h.rows=b;b=Q.NumericAttribute;null!=l.rowSpan?a.setReserved("rowSpan",b):a.h.rowSpan=b;b=Q.BooleanAttribute;null!=l.scoped?a.setReserved("scoped",b):a.h.scoped=b;b=Q.BooleanAttribute;null!=l.seamless?a.setReserved("seamless",b):a.h.seamless=b;b=Q.BooleanProperty;null!=l.selected?a.setReserved("selected",b):a.h.selected=b;b=Q.PositiveNumericAttribute;
null!=l.size?a.setReserved("size",b):a.h.size=b;b=Q.PositiveNumericAttribute;null!=l.span?a.setReserved("span",b):a.h.span=b;b=Q.NumericAttribute;null!=l.start?a.setReserved("start",b):a.h.start=b;b=Q.SideEffectProperty;null!=l.value?a.setReserved("value",b):a.h.value=b;b=Q.BooleanAttribute;null!=l.itemScope?a.setReserved("itemScope",b):a.h.itemScope=b;return a}(this);Na.pattern=new fa("[<]([^> ]+)","");Ja.doc=document;R.__toStr={}.toString;n.PLUS=g.string("+");n.MINUS=g.string("-");n.positive=g.map(g.regexp(new fa("[+]?([1-9][0-9]*)",
""),1),C.parseInt);n.negative=g.map(g.regexp(new fa("[-]([0-9]*[1-9])","")),C.parseInt);n.whole=g.or(n.positive,n.negative);n.D=g.or(g.string("d"),g.string("D"));n.OPEN_SET_BRACKET=g.string("{");n.CLOSE_SET_BRACKET=g.string("}");n.COMMA=g.string(",");n.PERCENT=g.string("%");n.WS=g.regexp(new fa("\\s+","m"));n.OWS=g.or(n.WS,g.string(""));n.MULTIPLICATION=g.as(g.regexp(new fa("[*\u22c5\u00d7x]","")),"\u00d7");n.DIVISION=g.or(g.or(g.string("/"),g.string("\u00f7")),g.string(":"));n.lowOrHigh=g.or(g.result(g.or(g.string("lowest"),
g.string("low")),Ya.Low),g.result(g.or(g.string("highest"),g.string("high")),Ya.High));n.moreLess=g.or(g.result(g.string("more"),mb.More),g.result(g.string("less"),mb.Less));n.orMoreLess=g.then(g.then(g.then(n.OWS,g.string("or")),n.OWS),g.as(n.moreLess,"or (more|less)"));n.on=g.then(g.then(g.string("on"),n.WS),n.positive);n.range=g.alt([g.flatMap(n.on,function(a){return g.then(n.OWS,g.map(n.positive,function(b){return Xa.Between(a,b)}))}),g.flatMap(n.on,function(a){return g.then(n.OWS,g.map(n.orMoreLess,
function(b){switch(b[1]){case 0:return Xa.ValueOrMore(a);case 1:return Xa.ValueOrLess(a)}}))}),g.map(n.on,Xa.Exact)]);n.diceFunctor=g.lazy(function(){return g.alt([n.diceFunctorConst("explode",Tb.Explode),n.diceFunctorConst("reroll",Tb.Reroll)])});n.SUM=g.string("sum");n.AVERAGE=g.or(g.string("average"),g.string("avg"));n.MIN=g.or(g.string("minimum"),g.string("min"));n.MAX=g.or(g.string("maximum"),g.string("max"));n.times=g.alt([g.result(g.string("once"),1),g.result(g.string("twice"),2),g.result(g.string("thrice"),
3),g.skip(n.positive,g.then(n.OWS,g.string("times")))]);n.functorTimes=g.as(g.alt([g.map(n.times,vb.UpTo),g.then(n.OWS,g.result(g.string("always"),vb.Always))]),"times");n.DEFAULT_DIE_SIDES=6;n.die=g.as(g.alt([g.result(g.then(n.D,n.PERCENT),100),g.then(n.D,n.positive),g.result(n.D,n.DEFAULT_DIE_SIDES)]),"one die");n.negate=g.as(g.lazy(function(){return g.then(n.MINUS,g.map(n.termExpression,function(a){return Ca.UnaryOp(Ub.Negate,a)}))}),"negate");n.unary=g.alt([n.negate]);n.binOpSymbol=g.alt([g.result(n.PLUS,
ya.Sum),g.result(n.MINUS,ya.Difference),g.result(n.MULTIPLICATION,ya.Multiplication),g.result(n.DIVISION,ya.Division)]);n.opRight=g.then(n.OWS,g.flatMap(n.binOpSymbol,function(a){return g.then(n.OWS,g.map(n.termExpression,function(b){return{op:a,right:b}}))}));n.binop=g.lazy(function(){return g.flatMap(n.termExpression,function(a){return g.map(g.times(n.opRight,1,1E3),function(b){return h.reduce(b,function(a,b){switch(b.op[1]){case 0:case 1:return Ca.BinaryOp(b.op,a,b.right);case 2:case 3:return 3==
a[1]?Ca.BinaryOp(a[2],a[3],Ca.BinaryOp(b.op,a[4],b.right)):Ca.BinaryOp(b.op,a,b.right)}},a)})})});n.dieExpression=g.or(g.then(g.string("1"),g.map(n.die,Ca.Die)),g.as(g.map(n.die,Ca.Die),"die"));n.literalExpression=g.as(g.map(n.whole,Ca.Literal),"literal");n.diceExpressions=g.lazy(function(){return g.alt([g.flatMap(n.positive,function(a){return g.map(n.die,function(b){for(var c=[],d=0;d<a;)d++,c.push(Ca.Die(b));return lb.DiceExpressions(c)})}),g.map(n.commaSeparated(n.expression),lb.DiceExpressions)])});
n.diceFilterable=g.lazy(function(){return g.flatMap(g.alt([g.flatMap(n.positive,function(a){return g.map(n.die,function(b){for(var c=[],d=0;d<a;)d++,c.push(b);return Hb.DiceArray(c)})}),g.map(n.commaSeparated(n.die),function(a){return Hb.DiceArray(a)}),g.map(n.commaSeparated(n.expression),Hb.DiceExpressions)]),function(a){var b=n.OWS,c=n.dirValue(g.string("drop"),Ya.Low),c=g.map(c,function(a){return Sb.Drop(a.dir,a.value)}),d=n.dirValue(g.string("keep"),Ya.High);return g.then(b,g.map(g.alt([c,g.map(d,
function(a){return Sb.Keep(a.dir,a.value)})]),function(b){return lb.DiceListWithFilter(a,b)}))})});n.diceMapeable=g.lazy(function(){return g.flatMap(g.alt([g.flatMap(n.positive,function(a){return g.map(n.die,function(b){for(var c=[],d=0;d<a;)d++,c.push(b);return c})}),n.commaSeparated(n.die)]),function(a){return g.then(n.OWS,g.map(n.diceFunctor,function(b){return lb.DiceListWithMap(a,b)}))})});n.termExpression=g.lazy(function(){return g.alt([n.diceReduce(n.diceMapeable),n.diceReduce(n.diceFilterable),
n.diceReduce(n.diceExpressions),n.dieExpression,n.literalExpression,n.unary])});n.expression=g.as(g.lazy(function(){return g.alt([n.binop,n.termExpression])}),"expression");n.grammar=g.then(n.OWS,g.skip(g.skip(n.expression,n.OWS),g.eof()));wa.zero=wa.literal(0);lc._mul=null!=Math.imul?Math.imul:function(a,b){return a*(b&65535)+(a*(b>>>16)<<16|0)|0};ec.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Wa.count=0;q.order=nb.fromIntComparison(q.compare);J.TOLERANCE=1E-4;J.EPSILON=
1E-9;J.pattern_parse=new fa("^(\\+|-)?\\d+(\\.\\d+)?(e-?\\d+)?$","");J.order=nb.fromIntComparison(J.compare);J.monoid={zero:0,append:function(a,b){return a+b}};T.pattern_parse=new fa("^[ \t\r\n]*[+-]?(\\d+|0x[0-9A-F]+)","i");T.BASE="0123456789abcdefghijklmnopqrstuvwxyz";T.order=function(a,b){return a>b?ua.GT:a==b?ua.EQ:ua.LT};T.monoid={zero:0,append:function(a,b){return a+b}};t.order=nb.fromIntComparison(t.compare);t.HASCODE_MAX=2147483647;t.HASCODE_MUL=31;t.monoid={zero:"",append:function(a,b){return a+
b}};t.UCWORDS=new fa("[^a-zA-Z]([a-z])","g");t.IS_BREAKINGWHITESPACE=new fa("[^\t\n\r ]","");t.IS_ALPHA=new fa("[^a-zA-Z]","");t.UCWORDSWS=new fa("[ \t\r\n][a-z]","g");t.ALPHANUM=new fa("^[a-z0-9]+$","i");t.DIGITS=new fa("^[0-9]+$","");t.STRIPTAGS=new fa("</?[a-z]+[^>]*>","gi");t.WSG=new fa("[ \t\r\n]+","g");t.SPLIT_LINES=new fa("\r\n|\n\r|\n|\r","g");t.CANONICALIZE_LINES=new fa("\r\n|\n\r|\r","g");na.FRAME_RATE=Math.round(16.666666666666668);ab.invariant=new ab(0,"FirstDay","AM","PM",0,"Sunday",
"Gregorian",null,"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"Sun Mon Tue Wed Thu Fri Sat".split(" "),"Su Mo Tu We Th Fr Sa".split(" "),"January February March April May June July August September October November December ".split(" "),"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" "),"January February March April May June July August September October November December ".split(" "),"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" "),"dddd, dd MMMM yyyy",
"MM/dd/yyyy","dddd, dd MMMM yyyy HH:mm:ss","yyyy'-'MM'-'dd'T'HH':'mm':'ss","MMMM dd","ddd, dd MMM yyyy HH':'mm':'ss 'GMT'","HH:mm:ss","HH:mm","yyyy'-'MM'-'dd HH':'mm':'ss'Z'","yyyy MMMM","/",":");bb.invariant=new bb(2,2,2,[3],[3],[3],0,1,0,0,0,".",".",".",",",",",",","-","+","\u00a4","NaN","-Infinity","%","\u2030","Infinity");la.invariant=new la("",ab.invariant,"",!1,"iv","IVL",!1,127,"Gregorian","Invariant Language","Invariant Language","Invariant Country","Invariant Country",bb.invariant,",","IVL");
Oa.currencyNegatives="($n);-$n;$-n;$n-;(n$);-n$;n-$;n$-;-n $;-$ n;n $-;$ n-;$ -n;n- $;($ n);(n $)".split(";");Oa.currencyPositives=["$n","n$","$ n","n $"];Oa.numberNegatives=["(n)","-n","- n","n-","n -"];Oa.percentNegatives="-n %;-n%;-%n;%-n;%n-;n-%;n%-;-%n;n %-;% n-;% -n;n- %".split(";");Oa.percentPositives=["n %","n%","%n","% n"];u.BASE="0123456789abcdefghijklmnopqrstuvwxyz";B.delta=5;B.ratio=2;kb.main()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?
self:this);
